<?xml version="1.0" encoding="UTF-8"?>
<blocks>
  <block id="34c4dac14496e9c45d92f345d9392fc8" category="summary">A documentação para versões anteriores do Astra Trident está disponível no caso de você não estar executando a versão mais recente.</block>
  <block id="ba09ee47d11962c1ccd13d7e1f10e6c5" category="doc">Versões anteriores da documentação</block>
  <block id="78038c97749fe61b1148a68a71c14a02" category="inline-link-macro">Astra Trident lançamento e ciclo de vida do suporte</block>
  <block id="3a1fdf1059d780b17a5dd3ecba99371d" category="paragraph">Se você não estiver executando o Astra Trident 23,04, a documentação das versões anteriores estará disponível com base <block ref="ec2082dc40596525d1bb212183949428" category="inline-link-macro-rx"></block>no .</block>
  <block id="4693b2393d80830cd4f198db20bf2b72" category="inline-link">Astra Trident 23,01</block>
  <block id="cd494508ccf1cdc45163d6d9d0f401ff" category="list-text"><block ref="cd494508ccf1cdc45163d6d9d0f401ff" category="inline-link-rx"></block></block>
  <block id="3fe5d266a33f137293c314a2e334b611" category="inline-link">Astra Trident 22,10</block>
  <block id="9fefe9ff51badc61edd8a36c8240aa29" category="list-text"><block ref="9fefe9ff51badc61edd8a36c8240aa29" category="inline-link-rx"></block></block>
  <block id="21d437ff7c8ceb5481603b5d2c05442a" category="inline-link">Astra Trident 22,07</block>
  <block id="8a7908446b584a99ce1055c602a9c74e" category="list-text"><block ref="8a7908446b584a99ce1055c602a9c74e" category="inline-link-rx"></block></block>
  <block id="c53358822905bb04d312060d1cb568af" category="inline-link">Astra Trident 22,04</block>
  <block id="fdd380631ba8063e7b8f842282a01e40" category="list-text"><block ref="fdd380631ba8063e7b8f842282a01e40" category="inline-link-rx"></block></block>
  <block id="4af8991c21dff2f779496b8350d1124b" category="inline-link">Astra Trident 22,01</block>
  <block id="7669b0b69333e81c7c208aea3d1a3c6f" category="list-text"><block ref="7669b0b69333e81c7c208aea3d1a3c6f" category="inline-link-rx"></block></block>
  <block id="cce172403b73af5c2a4e93081affcc7f" category="inline-link">Astra Trident 21,10</block>
  <block id="606b9e83fb467a43b3065d4fd5037094" category="list-text"><block ref="606b9e83fb467a43b3065d4fd5037094" category="inline-link-rx"></block></block>
  <block id="3d522b99ca94333433532daa23e7ceab" category="summary">Encontre respostas para as perguntas mais frequentes sobre a instalação, configuração, atualização e solução de problemas do Astra Trident.</block>
  <block id="af2a4d2810d86aa0169c117f82682f9a" category="doc">Perguntas frequentes</block>
  <block id="96ab491ef73d5db0cd15f55e1552cc22" category="section-title">Questões gerais</block>
  <block id="b34c3d20de0f1b2c7a69bdc59002ad47" category="section-title">Com que frequência o Astra Trident é lançado?</block>
  <block id="2f55088c7d055eb361252b15d5d7af10" category="paragraph">O Astra Trident é lançado a cada três meses: Janeiro, abril, julho e outubro. Este é um mês após o lançamento do Kubernetes.</block>
  <block id="15602d1e4b699ebca549a3d953672d8c" category="section-title">O Astra Trident é compatível com todos os recursos lançados em uma versão específica do Kubernetes?</block>
  <block id="d860923e20119473e7f7d50683cb0559" category="paragraph">O Astra Trident geralmente não é compatível com recursos alfa do Kubernetes. O Trident pode oferecer suporte a recursos beta nas duas versões do Trident que seguem a versão beta do Kubernetes.</block>
  <block id="52ffcf336df0055235949cf324a8624b" category="section-title">O Astra Trident tem alguma dependência de outros produtos NetApp para seu funcionamento?</block>
  <block id="9a10bc69a2553cd055c7b66932fd3864" category="paragraph">O Astra Trident não tem dependências em outros produtos de software NetApp e funciona como uma aplicação autônoma. No entanto, você deve ter um dispositivo de storage de back-end do NetApp.</block>
  <block id="bda04f64eaa9613cb4923cf43e24954c" category="section-title">Como posso obter detalhes completos da configuração do Astra Trident?</block>
  <block id="6d6d1fbb6191413b3262aed487048f1e" category="paragraph">Use o<block ref="fed7609223e8cae53e079facb24f3426" prefix=" " category="inline-code"></block> comando para obter mais informações sobre sua configuração do Astra Trident.</block>
  <block id="d8634bcd1659c9cdf6f1a7a92ec00c30" category="section-title">Posso obter métricas sobre como o storage é provisionado pelo Astra Trident?</block>
  <block id="1435574cfec44734b2bfc2b94327b118" category="paragraph">Sim. O Trident 20,01 apresenta endpoints Prometheus que podem ser usados para coletar informações sobre a operação do Astra Trident, como o número de backends gerenciados, o número de volumes provisionados, bytes consumidos, etc. Você também pode usar o Cloud Insights para monitoramento e análise.</block>
  <block id="3e9ebf4af3f0b9d1852396d46171ef99" category="section-title">A experiência do usuário muda ao usar o Astra Trident como um supervisor CSI?</block>
  <block id="05f95d89af1ccd9b986014406a4b1fc8" category="paragraph">Não há alterações no que diz respeito à experiência do usuário e às funcionalidades. O nome do provisionador usado é<block ref="08044207e9f63bb0fd474dab347a776c" prefix=" " category="inline-code"></block>. Esse método de instalação do Astra Trident é recomendado se você quiser usar todos os novos recursos fornecidos pelas versões atuais e futuras.</block>
  <block id="0a7e87df44869b8d60a83f35d1e2747b" category="section-title">Instalar e usar o Astra Trident em um cluster Kubernetes</block>
  <block id="a0d777cf1acc36406564409adef85b17" category="section-title">Quais são as versões suportadas<block ref="a226e9fbdfc1c8dd7e7fef4d333f86ed" prefix=" " category="inline-code"></block> do ?</block>
  <block id="6a3ad0d68dcfe0164611dadb7f7656f9" category="paragraph">O Astra Trident não precisa mais de um<block ref="a226e9fbdfc1c8dd7e7fef4d333f86ed" prefix=" " category="inline-code"></block>. ele usa CRDs para manter o estado.</block>
  <block id="bde6cb03741f92107c63aeebe62d3278" category="section-title">O Astra Trident oferece suporte a uma instalação off-line a partir de um Registro privado?</block>
  <block id="6c92285fa6d3e827b198d120ea3ac674" category="inline-link-macro">aqui</block>
  <block id="45b09f7cb3dcbe0274eef2b3fce46bea" category="paragraph">Sim, o Astra Trident pode ser instalado offline. <block ref="4a2b27d6d4bc3dd7ae85bfd131d50753" category="inline-link-macro-rx"></block>Consulte .</block>
  <block id="1c51806b370d428d5779dbcacd940174" category="section-title">Posso instalar o Astra Trident be remotamente?</block>
  <block id="bf858450c271da75a3df3a15ca761330" category="paragraph">Sim. O Astra Trident 18,10 e posterior são compatíveis com a funcionalidade de instalação remota de qualquer máquina que tenha<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> acesso ao cluster. Depois<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> que o acesso for verificado (por exemplo, inicie um<block ref="1513e62b9eb7bbfc46c1be1a91a2ab76" prefix=" " category="inline-code"></block> comando da máquina remota para verificar), siga as instruções de instalação.</block>
  <block id="12694c2de4575e39a6f7e81d55e35de9" category="section-title">Posso configurar a alta disponibilidade com o Astra Trident?</block>
  <block id="f1cf2ca3af6ca7c374ad2104f570c790" category="paragraph">O Astra Trident é instalado como uma implantação do Kubernetes (ReplicaSet) com uma instância, e por isso tem HA incorporada. Você não deve aumentar o número de réplicas na implantação. Se o nó em que o Astra Trident está instalado for perdido ou o pod estiver inacessível, o Kubernetes reimplanta automaticamente o pod em um nó íntegro no cluster. O Astra Trident é apenas um plano de controle. Portanto, os pods montados atualmente não são afetados se o Astra Trident for reimplantado.</block>
  <block id="1656e4b34abdb6d497b40cac65366767" category="section-title">O Astra Trident precisa de acesso ao namespace do sistema kube?</block>
  <block id="6f67e1edfd4aa5b0e695528a9c7d8898" category="paragraph">O Astra Trident lê o servidor de API Kubernetes para determinar quando as aplicações solicitam novos PVCs de modo que a TI precisa de acesso ao sistema kube.</block>
  <block id="16cdb35003b5bcf0f30556e0bc477511" category="section-title">Quais são as funções e Privileges usadas pelo Astra Trident?</block>
  <block id="6efc6545e459b8bb96815706b41a84cd" category="paragraph">O instalador do Trident cria um ClusterRole Kubernetes, que tem acesso específico aos recursos Persistentvolume, PersistentVolumeClaim, StorageClass e segredo do cluster do Kubernetes. <block ref="7a68296d6f600eac17d317743bea0050" category="inline-link-macro-rx"></block>Consulte .</block>
  <block id="8ff39a39871cc30228035bc0580a6af4" category="section-title">Posso gerar localmente os arquivos de manifesto exatos que o Astra Trident usa para instalação?</block>
  <block id="0f43ba8a9cfc14b033c2c652f53bfcb9" category="paragraph">Você pode gerar e modificar localmente os arquivos de manifesto exatos que o Astra Trident usa para instalação, se necessário. <block ref="7a68296d6f600eac17d317743bea0050" category="inline-link-macro-rx"></block>Consulte .</block>
  <block id="e6af67b71bd46d7588b50f28e1414f9b" category="section-title">Posso compartilhar o mesmo SVM de back-end do ONTAP em duas instâncias separadas do Astra Trident em dois clusters Kubernetes separados?</block>
  <block id="7bbf9b47e035f0f9bb7c46098e78fb4d" category="paragraph">Embora não seja aconselhado, você pode usar o mesmo SVM de back-end em duas instâncias do Astra Trident. Especifique um nome de volume exclusivo para cada instância durante a instalação e/ou especifique um parâmetro exclusivo<block ref="641b2675465e765661450709e2351a8e" prefix=" " category="inline-code"></block> no<block ref="57a3822fdb39e72cdc47d89fd04ce467" prefix=" " category="inline-code"></block> arquivo. Isso serve para garantir que o mesmo FlexVol não seja usado para ambas as instâncias.</block>
  <block id="9840a5bb6278469ed550bcdcc92c29c5" category="section-title">É possível instalar o Astra Trident sob o ContainerLinux (antigo CoreOS)?</block>
  <block id="7a35680d9db247612b732ae47144f030" category="paragraph">O Astra Trident é simplesmente um pod de Kubernetes e pode ser instalado onde quer que o Kubernetes esteja em execução.</block>
  <block id="5fc6de1b535ebb2a5380b6aa607e4cca" category="section-title">Posso usar o Astra Trident com NetApp Cloud Volumes ONTAP?</block>
  <block id="5d1cff73e26dc54ef52bdca5a29b319c" category="paragraph">Sim, o Astra Trident é compatível com AWS, Google Cloud e Azure.</block>
  <block id="2ddee53d5c18f6e78f18dad82851303e" category="section-title">O Astra Trident funciona com o Cloud volumes Services?</block>
  <block id="ba600e29b197aa569df1df520cc4e4c9" category="paragraph">Sim, o Astra Trident é compatível com o serviço Azure NetApp Files no Azure e com o Cloud Volumes Service no GCP.</block>
  <block id="92d1656d06303733c5e1398fb273a17e" category="section-title">Solução de problemas e suporte</block>
  <block id="9985a592486717ae388709b9267da4f9" category="section-title">O NetApp é compatível com Astra Trident?</block>
  <block id="cc56e0da96ceaf708545923f1094815b" category="paragraph">Embora o Astra Trident seja de código aberto e fornecido gratuitamente, o NetApp oferece suporte total desde que o back-end do NetApp seja compatível.</block>
  <block id="a3d907947129a58ee6f9e23074840c8f" category="section-title">Como faço para levantar um caso de suporte?</block>
  <block id="0265687df6c09d532b03477776c6d075" category="paragraph">Para levantar um caso de suporte, execute um dos seguintes procedimentos:</block>
  <block id="5dab8cca21a0ff4e72d4e2a1ee5156ea" category="list-text">Entre em Contato com seu gerente de conta de suporte e obtenha ajuda para levantar um ticket.</block>
  <block id="09ea0908fbfc4cde85bf416e35dc55c8" category="inline-link">Suporte à NetApp</block>
  <block id="a13956d424374973d31e5883b8bf8b6a" category="list-text">Envie um caso de suporte entrando em Contato<block ref="116f7ad90a3c7441981f82d8f8fba4d5" category="inline-link-rx"></block>com .</block>
  <block id="3e77e87e5ee8fb4f6f910f4cf0594fc2" category="section-title">Como gerar um pacote de log de suporte?</block>
  <block id="7938aed248d09a5120eaf414e6c1d574" category="paragraph">Você pode criar um pacote de suporte executando<block ref="7466d048454007a33a6e078578c48a86" prefix=" " category="inline-code"></block>o . Além dos logs capturados no pacote, capture o log do kubelet para diagnosticar os problemas de montagem no lado do Kubernetes. As instruções para obter o log do kubelet variam de acordo com a forma como o Kubernetes é instalado.</block>
  <block id="2c3543f339dc749a508ed5e5e5aaae23" category="section-title">O que devo fazer se for necessário enviar uma solicitação para um novo recurso?</block>
  <block id="4c1d312c39e7048d2c634824e243fdba" category="inline-link">Astra Trident GitHub</block>
  <block id="4169ad079be240db45893881a795d255" category="paragraph">Crie um problema<block ref="e71a8230f1c77ee7d957187295b859e4" category="inline-link-rx"></block> e mencione *RFE* no assunto e na descrição do problema.</block>
  <block id="0aa1d7a95d75c0faa8302a803356b7b7" category="section-title">Onde posso levantar um defeito?</block>
  <block id="a814c59a6fef2fb64a2a32dedcf6f82e" category="paragraph">Crie um problema no<block ref="e71a8230f1c77ee7d957187295b859e4" category="inline-link-rx"></block>. Certifique-se de incluir todas as informações e logs necessários relativos ao problema.</block>
  <block id="fd0759571f12527967b660b5b327c65b" category="section-title">O que acontece se eu tiver uma pergunta rápida sobre o Astra Trident sobre a qual preciso de esclarecimentos? Existe uma comunidade ou um fórum?</block>
  <block id="a7cfd917113a9ee9c1e789887d1d809f" category="inline-link-macro">Canal discord</block>
  <block id="c0ecc0f40acc112b78de6c3fd3c29e83" category="paragraph">Se você tiver dúvidas, problemas ou solicitações, entre em Contato conosco através do nosso Astra <block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block> ou GitHub.</block>
  <block id="264c3819b5a8fdae87f1dc9af1988a90" category="section-title">A senha do meu sistema de storage mudou e o Astra Trident não funciona mais. Como faço para recuperar?</block>
  <block id="061ec2ab4d383b8f20e15eda656db8f7" category="paragraph">Atualize a senha do backend com<block ref="00a81aa9b1d406861879017de885e0fb" prefix=" " category="inline-code"></block>o . Substitua<block ref="3d9fd17a5232cc24eeeaec2b07af5417" prefix=" " category="inline-code"></block> no exemplo pelo nome do backend e<block ref="27ab7e8dbd45daf638f3144d4891ef3b" prefix=" " category="inline-code"></block> pelo caminho para o arquivo correto<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block>.</block>
  <block id="6100f37d544e87e462129f21e52bae7f" category="section-title">O Astra Trident não encontra meu nó Kubernetes. Como faço para corrigir isso?</block>
  <block id="d5cf5c734786394c838bacc6597594c6" category="paragraph">Há dois cenários prováveis pelos quais o Astra Trident não consegue encontrar um nó Kubernetes. Pode ser devido a um problema de rede no Kubernetes ou a um problema de DNS. O daemonset do nó do Trident que é executado em cada nó do Kubernetes deve ser capaz de se comunicar com o controlador Trident para Registrar o nó no Trident. Se as alterações de rede ocorrerem após a instalação do Astra Trident, você encontrará esse problema apenas com novos nós Kubernetes adicionados ao cluster.</block>
  <block id="bcd549c9f0199c5b8d0b55f782bff9e8" category="section-title">Se o pod Trident for destruído, eu perderei os dados?</block>
  <block id="136fed1edd42bf8ca22358da037d17fa" category="paragraph">Os dados não serão perdidos se o pod Trident for destruído. Os metadados do Trident são armazenados em objetos CRD. Todos os PVS que foram provisionados pelo Trident funcionarão normalmente.</block>
  <block id="3386987a97643481040e99019808e020" category="section-title">Atualizar o Astra Trident</block>
  <block id="3de05f78e401869f4630ec8cabf339df" category="section-title">Posso atualizar de uma versão mais antiga diretamente para uma versão mais recente (ignorando algumas versões)?</block>
  <block id="ce44cbbc54839f39b351c091b0e3caa5" category="paragraph">A NetApp oferece suporte à atualização do Astra Trident de um grande lançamento para o próximo grande lançamento imediato. Você pode atualizar da versão 18.xx para 19.xx, 19.xx para 20.xx, e assim por diante. Você deve testar a atualização em um laboratório antes da implantação da produção.</block>
  <block id="0399b9e6348e554937a4d65efc97a1b8" category="section-title">É possível fazer o downgrade do Trident para uma versão anterior?</block>
  <block id="d307563c01953bd90a41ddd049f96d51" category="inline-link-macro">a seção sobre downgrade</block>
  <block id="72fec731c958562fd09df08eef5fbb89" category="paragraph">Há uma série de fatores a serem avaliados se você quiser fazer downgrade. <block ref="ea621a0de3f004c488ea799d0fd7e41d" category="inline-link-macro-rx"></block>Consulte .</block>
  <block id="ba9c59aa9d07b25e124dcf6ca88d689a" category="section-title">Gerenciar backends e volumes</block>
  <block id="ffe72215dff9a93d62ee68905212025e" category="section-title">Preciso definir o gerenciamento e LIFs de dados em um arquivo de definição de back-end do ONTAP?</block>
  <block id="7911fdf4657d2e334f854a18bd855d10" category="paragraph">O LIF de gestão é obrigatório. O LIF de dados varia:</block>
  <block id="25edde63e4922bb316018c25888e64a6" category="inline-link-macro">Mapa de LUN seletivo da ONTAP</block>
  <block id="eb89f16d07a93fa10a31ec6309045fe9" category="inline-link-macro">Exemplos e opções de configuração de SAN ONTAP</block>
  <block id="0f118344f15151d321a269948a521caf" category="list-text">ONTAP SAN: Não especifique para iSCSI. O Astra Trident usa <block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block> para descobrir os LIFs iSCI necessários para estabelecer uma sessão de vários caminhos. Um aviso é gerado se<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> for definido explicitamente. <block ref="823b6e1f172888081aece7b5cdeb0e03" category="inline-link-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="7d8058d93ec1d95c673d83bf303326ff" category="inline-link-macro">Exemplos e opções de configuração do ONTAP nas</block>
  <block id="f09a3c9e4e8e8413b0a9e74e8e29bcdd" category="list-text">ONTAP nas: Recomendamos especificar<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>. Se não for fornecido, o Astra Trident obtém LIFs de dados do SVM. Você pode especificar um nome de domínio totalmente qualificado (FQDN) a ser usado para as operações de montagem NFS, permitindo que você crie um DNS de round-robin para balanceamento de carga em vários LIFs de dados. <block ref="879dc93198c7c5e8ce7148b6d1205d73" category="inline-link-macro-rx"></block>Consulte para obter detalhes</block>
  <block id="f3997f0b9446951754e665cfe7591cef" category="section-title">O Astra Trident pode configurar o CHAP para backends ONTAP?</block>
  <block id="805f73dde029c6c119993b4496bbdc9e" category="paragraph">Sim. A partir de 20,04, o Astra Trident suporta CHAP bidirecional para backends ONTAP. Isso requer configuração<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block> em sua configuração de back-end.</block>
  <block id="952cc22022a80bb8079f6dd7afb289d2" category="section-title">Como faço para gerenciar políticas de exportação com o Astra Trident?</block>
  <block id="700815d44ae9a359311f64dbebbd8d42" category="paragraph">O Astra Trident pode criar e gerenciar políticas de exportação dinamicamente a partir da versão 20,04. Isso permite que o administrador de storage forneça um ou mais blocos CIDR em sua configuração de back-end e que o Trident adicione IPs de nós que se enquadram nesses intervalos a uma política de exportação criada por ele. Dessa forma, o Astra Trident gerencia automaticamente a adição e exclusão de regras para nós com IPs nos CIDR fornecidos. Este recurso requer o CSI Trident.</block>
  <block id="ddd61a9bf73a6cb2a2375bcdfbecbe15" category="section-title">Podemos especificar uma porta no DataLIF?</block>
  <block id="c7449c080f216d9be59d8ff995985d39" category="paragraph">O Astra Trident 19,01 e posterior suportam a especificação de uma porta no DataLIF. Configure-o<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> no arquivo como <block ref="28141ba06de25d2526033522afa22082" prefix="" category="inline-code"></block>. Por exemplo, se o endereço IP do LIF de gerenciamento for 192,0.2,1 e a porta for 1000, configure <block ref="41b067af7156f9e07befdb79847659b0" prefix="" category="inline-code"></block>o .</block>
  <block id="1d08384060bd88a7801faae4fe346d06" category="section-title">Os endereços IPv6 podem ser usados para os LIFs de gerenciamento e dados?</block>
  <block id="cb16cfa78684ba0c7fc9cff3e67df72b" category="paragraph">O Astra Trident é compatível com a definição de endereços IPv6 para:</block>
  <block id="a24e915be64ce870d285c6e28a6df3f5" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block> E<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> para backends ONTAP nas.</block>
  <block id="fb250da700173f245f4c10d2970cfba8" category="list-text"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block> Para backends ONTAP SAN. Não é possível especificar<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> em um back-end de SAN ONTAP.</block>
  <block id="26c2fac45b391513484ac592dfbd2e11" category="paragraph">O Astra Trident deve ser instalado usando o<block ref="0612dd31fddbea26c732fa571ce36adc" prefix=" " category="inline-code"></block> sinalizador para que ele funcione acima de IPv6.</block>
  <block id="4c0e813a0bfed033d75bbfd8b18f556c" category="section-title">É possível atualizar o LIF de gerenciamento no back-end?</block>
  <block id="66d8fee83a94421ca416a2bdb33703b4" category="paragraph">Sim, é possível atualizar o backend Management LIF usando o<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block> comando.</block>
  <block id="c56cd7a01da4acc4fc86aa498cabfd99" category="section-title">É possível atualizar o Data LIF no backend?</block>
  <block id="f53ad7a29c3832e7ce3b551fa5add12d" category="paragraph">Você pode atualizar o Data LIF em<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> e<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> somente.</block>
  <block id="1e0e6fcec605e6450ba12b95969c8959" category="section-title">Posso criar vários back-ends no Astra Trident para Kubernetes?</block>
  <block id="fb3cb30bfe23466a98407256c8b5164f" category="paragraph">O Astra Trident pode dar suporte a muitos backends simultaneamente, seja com o mesmo driver ou com drivers diferentes.</block>
  <block id="6454319cc2398418b67f5b2df5aa5cd3" category="section-title">Como o Astra Trident armazena credenciais de back-end?</block>
  <block id="1d406f7ac7268b602da0989a4675480e" category="paragraph">O Astra Trident armazena as credenciais de back-end como segredos do Kubernetes.</block>
  <block id="64a610ffaa66abeebc73d8159b9f73ec" category="section-title">Como o Astra Trident seleciona um back-end específico?</block>
  <block id="c6e9fbb586ad55ddf4bbda9814c6adc9" category="paragraph">Se os atributos de back-end não puderem ser usados para selecionar automaticamente os pools corretos para uma classe, os<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> parâmetros e<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> serão usados para selecionar um conjunto específico de pools.</block>
  <block id="3beefa69a05dde01d93a438a943a5a7a" category="section-title">Como posso garantir que o Astra Trident não provisione de um back-end específico?</block>
  <block id="b5c265487a1fed6a3367664ccab664bb" category="paragraph">O<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block> parâmetro é usado para filtrar o conjunto de pools que o Astra Trident usará para provisionar e removerá todos os pools correspondentes.</block>
  <block id="e124ac30adf3eea60a13cd5f93980e7e" category="section-title">Se houver vários backends do mesmo tipo, como o Astra Trident seleciona qual back-end usar?</block>
  <block id="c02ba3e7f8a02e0d1e29e2190a86e352" category="paragraph">Se houver vários backends configurados do mesmo tipo, o Astra Trident seleciona o back-end apropriado com base nos parâmetros presentes no<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> e<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>no . Por exemplo, se houver vários backends de driver ONTAP-nas, o Astra Trident tentará corresponder parâmetros no<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> e<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> combinou e corresponder a um back-end que possa atender aos requisitos listados em<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> e<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>. Se houver vários backends que correspondam à solicitação, o Astra Trident seleciona um deles aleatoriamente.</block>
  <block id="7a2fd62f4a63259a7f94543a0ae01e76" category="section-title">O Astra Trident é compatível com CHAP bidirecional com Element/SolidFire?</block>
  <block id="b127099c71415d532da3a26ed73eb041" category="paragraph">Sim.</block>
  <block id="7880810a250adc4ccf5108fe88325055" category="section-title">Como o Astra Trident implanta Qtrees em um volume ONTAP? Quantos Qtrees podem ser implantados em um único volume?</block>
  <block id="657cbdac1a85665b0b38b37c9a306925" category="paragraph"><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>O driver cria até 200 Qtrees no mesmo FlexVol (configurável entre 50 e 300), 100.000 Qtrees por nó de cluster e 2,4M por cluster. Quando você insere um novo<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> que é atendido pelo driver de economia, o driver procura ver se já existe um FlexVol que pode atender o novo Qtree. Se o FlexVol não existir que possa servir o Qtree, um novo FlexVol será criado.</block>
  <block id="abbdd4298bb3e525fd172b2bbe5a451c" category="section-title">Como posso definir permissões Unix para volumes provisionados no ONTAP nas?</block>
  <block id="a535e502931280dfaa539ecd1cbdfc0c" category="paragraph">Você pode definir permissões Unix no volume provisionado pelo Astra Trident definindo um parâmetro no arquivo de definição de back-end.</block>
  <block id="094ef47e6456d60b656401b0f2bbfcbd" category="section-title">Como posso configurar um conjunto explícito de opções de montagem ONTAP NFS enquanto provisiono um volume?</block>
  <block id="8e6b1878428055edaef42698026bd1b5" category="paragraph">Por padrão, o Astra Trident não define as opções de montagem como nenhum valor com o Kubernetes. Para especificar as opções de montagem na classe de armazenamento do Kubernetes, siga o exemplo fornecido <block ref="29e04d8356a523f6fc836193630ad63e" category="inline-link-macro-rx"></block>.</block>
  <block id="ae6bc3659bb0be0a7d9f98a63775b7c2" category="section-title">Como faço para definir os volumes provisionados para uma política de exportação específica?</block>
  <block id="700a2008fea63d02c24b85f2f75d357e" category="paragraph">Para permitir que os hosts apropriados acessem um volume, use o<block ref="647ce4e5394e2e595e46b4fc50a628e9" prefix=" " category="inline-code"></block> parâmetro configurado no arquivo de definição de back-end.</block>
  <block id="9d5813dee71bcbf3d3a03c62354c3e55" category="section-title">Como definir a criptografia de volumes por meio do Astra Trident com ONTAP?</block>
  <block id="ea4a2eeab32b5cd82414bd4a2fc3e8e6" category="inline-link-macro">Como o Astra Trident funciona com NVE e NAE</block>
  <block id="6ce33e8f1e198bf1c3583bc5ef789b75" category="paragraph">Você pode definir a criptografia no volume provisionado pelo Trident usando o parâmetro de criptografia no arquivo de definição de back-end. Para obter mais informações, consulte: <block ref="3260a21902518174ce8d9bfef42be276" category="inline-link-macro-rx"></block></block>
  <block id="ef1581716b653c4364dd5005dbe9e40a" category="section-title">Qual é a melhor maneira de implementar QoS para ONTAP por meio do Astra Trident?</block>
  <block id="f412d672b51ea3c57812ebf3be0ddccb" category="paragraph"><block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>Use para implementar QoS para ONTAP.</block>
  <block id="1c771b761835123a135e64f70567d768" category="section-title">Como especificar o provisionamento thin ou thick por meio do Astra Trident?</block>
  <block id="0d97afe7a571dc39db1c810013844332" category="paragraph">Os drivers ONTAP oferecem suporte ao provisionamento thin ou thick. Os drivers do ONTAP são padrão para thin Provisioning. Se o provisionamento espesso for desejado, você deverá configurar o arquivo de definição de back-end ou o<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>. Se ambos estiverem configurados,<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> tem precedência. Configure o seguinte para o ONTAP:</block>
  <block id="2d0384de8b72e53c3476a478a5d4ec53" category="list-text">On<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>, defina o<block ref="b713baf75bcf13859037b5274d27d4b8" prefix=" " category="inline-code"></block> atributo como thick (espesso).</block>
  <block id="3764067c4b14276efb241c511c8b0cc2" category="list-text">No arquivo de definição de back-end, ative volumes espessos definindo<block ref="f78b8fc8b3b9f77533234c7f4a240613" prefix=" " category="inline-code"></block> como volume.</block>
  <block id="d4391b26a81fead46afc74243c4029aa" category="section-title">Como posso garantir que os volumes que estão a ser utilizados não sejam eliminados mesmo que elimine acidentalmente o PVC?</block>
  <block id="e58a684cd1a44d4879defbb2ec06b9a4" category="paragraph">A proteção de PVC é ativada automaticamente no Kubernetes a partir da versão 1,10.</block>
  <block id="8d766c7d692523686b8954d72ee86ea4" category="section-title">Posso expandir PVCs de NFS criados pelo Astra Trident?</block>
  <block id="328e34871ba32779f27f3e8a8e78499a" category="paragraph">Sim. Você pode expandir um PVC que foi criado pelo Astra Trident. Observe que o volume com crescimento automático é um recurso do ONTAP que não é aplicável ao Trident.</block>
  <block id="f2f324d5d940b44cd307b613c6990e0c" category="section-title">Se eu tiver um volume criado fora do Astra Trident, posso importá-lo para o Astra Trident?</block>
  <block id="c894ce628e51d8d9d062a1e83cda37c8" category="paragraph">A partir de 19,04, você pode usar o recurso de importação de volume para levar volumes para o Kubernetes.</block>
  <block id="3319194e0ba07a6aa327aefa1ab1e41f" category="section-title">Posso importar um volume enquanto estiver no modo de proteção de dados (DP) da SnapMirror ou offline?</block>
  <block id="0b10afe39923054016a71caf423fdec6" category="paragraph">A importação de volume falha se o volume externo estiver no modo DP ou estiver offline. Você recebe a seguinte mensagem de erro:</block>
  <block id="9fd7d017b60cc366b6bc3b6e55213abe" category="section-title">Posso expandir PVCs iSCSI criados pelo Astra Trident?</block>
  <block id="29e2faaced65d1dd4c920c60e854e550" category="paragraph">O Trident 19,10 suporta a expansão de PVS iSCSI usando o Supervisor de CSI.</block>
  <block id="eed67b2d196c61d9c6cf4a50878ba446" category="section-title">Como a cota de recursos é traduzida para um cluster NetApp?</block>
  <block id="45f78013e46c8f3e884ed0f7becbd5ab" category="paragraph">A cota de recursos de armazenamento do Kubernetes deve funcionar enquanto o armazenamento do NetApp tiver capacidade. Quando o storage do NetApp não consegue atender às configurações de cota do Kubernetes devido à falta de capacidade, o Astra Trident tenta provisionar, mas faz erros.</block>
  <block id="491a93842f7a65b8cbe82aca71db0d3f" category="section-title">Posso criar snapshots de volume usando o Astra Trident?</block>
  <block id="9792ac41ce6f91861f84548e1b4a2b1c" category="paragraph">Sim. A criação de snapshots de volume sob demanda e volumes persistentes a partir de snapshots é compatível com o Astra Trident. Para criar PVS a partir de instantâneos, certifique-se de que a<block ref="e7b29a25284a6f582881023fdc0cbe93" prefix=" " category="inline-code"></block> porta de recurso foi ativada.</block>
  <block id="1eedb8a6574b0c07ea61689a7e3ec8d4" category="section-title">Quais são os drivers compatíveis com snapshots de volume Astra Trident?</block>
  <block id="804a6c22698fe4782c44f1e8d446964e" category="paragraph">A partir de hoje, o suporte a snapshot sob demanda está disponível para o nosso<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block><block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> ,<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>,<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>, , ,<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>, e<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> drivers de back-end.</block>
  <block id="24c649a639a2c31810a4dfc6ed0190da" category="section-title">Como faço para fazer um backup instantâneo de um volume provisionado pelo Astra Trident com ONTAP?</block>
  <block id="0bdcd128fab544a7df404bc496a4126e" category="paragraph">Isso está disponível nos<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers ,<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> . Você também pode especificar um<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> para o<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> driver no nível FlexVol.</block>
  <block id="933b520ff6d70262ddb482995c684d57" category="paragraph">Isso também está disponível<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> nos drivers, mas na granularidade de nível FlexVol e não na granularidade de nível de qtree. Para habilitar a capacidade de snapshot volumes provisionados pelo Astra Trident, defina a opção de parâmetro de back-end<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> para a política de snapshot desejada, conforme definido no back-end do ONTAP. Todos os snapshots feitos pelo controlador de storage não são conhecidos pelo Astra Trident.</block>
  <block id="594e8a352537de25938bdd663d6211b5" category="section-title">Posso definir uma porcentagem de reserva de snapshot para um volume provisionado por meio do Astra Trident?</block>
  <block id="8db5662205f3a6430af4bea6f08e7d45" category="paragraph">Sim, você pode reservar uma porcentagem específica de espaço em disco para armazenar as cópias snapshot por meio do Astra Trident definindo<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> o atributo no arquivo de definição de back-end. Se você configurou<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> e<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> no arquivo de definição de back-end, a porcentagem de reserva de snapshot é definida de acordo com a<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> porcentagem mencionada no arquivo de back-end. Se o<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> número percentual não for mencionado, ONTAP por padrão leva a porcentagem de reserva de snapshot como 5. Se a<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> opção estiver definida como None (nenhum), a percentagem de reserva de instantâneos é definida como 0.</block>
  <block id="6b0d34d8a0749198a6b80eec69479c86" category="section-title">Posso acessar diretamente o diretório instantâneo do volume e copiar arquivos?</block>
  <block id="eb3a2d1eb3c4022269f4c6837332311a" category="paragraph">Sim, você pode acessar o diretório instantâneo no volume provisionado pelo Trident definindo o<block ref="7ad68fdac2eac069eb8ed0fc45b0fb74" prefix=" " category="inline-code"></block> parâmetro no arquivo de definição de back-end.</block>
  <block id="81dbf5e91cc69bfcf6477128389d8a25" category="section-title">Posso configurar o SnapMirror para volumes com o Astra Trident?</block>
  <block id="64dd4ea74b402889a9c341da491f4933" category="paragraph">Atualmente, o SnapMirror precisa ser definido externamente usando a CLI ou o OnCommand System Manager do ONTAP.</block>
  <block id="e321bf6d54ded18df56a41ea51223a2a" category="section-title">Como faço para restaurar volumes persistentes para um snapshot específico do ONTAP?</block>
  <block id="5325f5d2cf63aaaa6610f09e8aa4dc35" category="paragraph">Para restaurar um volume para um instantâneo do ONTAP, execute as seguintes etapas:</block>
  <block id="4e789db936072df2058e9f271a9b8db8" category="list-text">Quiesce o pod do aplicativo que está usando o volume persistente.</block>
  <block id="b34baa75f4f799a23b19de9b94e86868" category="list-text">Reverter para o snapshot necessário por meio da CLI ou OnCommand System Manager do ONTAP.</block>
  <block id="08754f2800804f1fe3673c858b4b56e0" category="list-text">Reinicie o pod de aplicativos.</block>
  <block id="5a333b18a215ecfd4457ba0e1732654b" category="section-title">O Trident provisiona volumes em SVMs que têm um espelhamento de compartilhamento de carga configurado?</block>
  <block id="0e7629426b9d7596800cd5d72f558a7f" category="paragraph">Os espelhos de compartilhamento de carga podem ser criados para volumes raiz de SVMs que fornecem dados por NFS. O ONTAP atualiza automaticamente os espelhos de compartilhamento de carga para volumes criados pelo Trident. Isso pode resultar em atrasos nos volumes de montagem. Quando vários volumes são criados usando o Trident, o provisionamento de um volume depende da atualização do espelhamento de compartilhamento de carga do ONTAP.</block>
  <block id="0d3ef54a4cc337b5d907b6639e51c6d4" category="section-title">Como posso separar o uso da classe de storage para cada cliente/locatário?</block>
  <block id="fda1b35892cb6f61447f0e49415937d9" category="paragraph">O Kubernetes não permite classes de storage em namespaces. No entanto, você pode usar o Kubernetes para limitar o uso de uma classe de armazenamento específica por namespace usando cotas de recursos de armazenamento, que são por namespace. Para negar acesso a um namespace específico a um armazenamento específico, defina a cota de recurso como 0 para essa classe de armazenamento.</block>
  <block id="c217b0ac2dd5504f79ba78b220a9c358" category="summary">O NetApp fornece suporte para Trident de várias maneiras. Amplas opções gratuitas de auto-suporte estão disponíveis 24 horas por dia, 7 dias por semana, como um canal discord.</block>
  <block id="db5eb84117d06047c97c9a0191b5fffe" category="doc">Suporte</block>
  <block id="14340f3a4eb25a54f8446036d807d7c8" category="paragraph">O Astra Trident é um projeto NetApp com suporte oficial. Você pode entrar em Contato com o NetApp usando qualquer um dos mecanismos padrão e obter o suporte de nível empresarial de que você precisa.</block>
  <block id="1b3d6decfa71cc52ecc9b041f40a02e5" category="paragraph">Há também uma vibrante comunidade pública de usuários de contêineres (incluindo desenvolvedores do Astra Trident) no nosso Astra <block ref="6130664377fa14615bb1abd5257e9714" category="inline-link-macro-rx"></block>. Este é um ótimo lugar para fazer perguntas gerais sobre o projeto e discutir tópicos relacionados com colegas de mentalidade semelhante.</block>
  <block id="240fa413bb5a8b96728ba9bb20f953bc" category="summary">O Astra Trident é um provisionador e orquestrador de storage de código aberto mantido pela NetApp. Com ele, você cria volumes de storage para aplicações em contêiner gerenciadas pelo Docker e Kubernetes. **Leia as notas de lançamento para obter informações críticas sobre a atualização para o Astra Trident 23,04.**</block>
  <block id="75a6a3af601d4175be90ebfbdcaead5f" category="doc">Documentação do Astra Trident 23,04</block>
  <block id="d41d8cd98f00b204e9800998ecf8427e" category="summary"></block>
  <block id="30d965eef5ba25c6b9998ae38270b43e" category="doc">Avisos legais</block>
  <block id="e9c44bbfd795a5d63d74c6a77afee70d" category="paragraph">Avisos legais fornecem acesso a declarações de direitos autorais, marcas registradas, patentes e muito mais.</block>
  <block id="6016a2b341113bf496b719905398ecd2" category="section-title">Direitos de autor</block>
  <block id="52009bb7ee17227f566cd26a02caee56" category="inline-link-macro"><block ref="52009bb7ee17227f566cd26a02caee56" category="inline-link-rx"></block></block>
  <block id="a1a9afcf552a769c282769271829889a" category="paragraph"><block ref="a1a9afcf552a769c282769271829889a" category="inline-link-macro-rx"></block></block>
  <block id="126a02652da6de02962cf1b654fd6376" category="section-title">Marcas comerciais</block>
  <block id="c4ce4761e466527d26b3e3d5ed1006fd" category="paragraph">NetApp, o logotipo DA NetApp e as marcas listadas na página de marcas comerciais da NetApp são marcas comerciais da NetApp, Inc. Outros nomes de produtos e empresas podem ser marcas comerciais de seus respetivos proprietários.</block>
  <block id="f99aa604031e5049799e73b5c3748a98" category="inline-link-macro"><block ref="f99aa604031e5049799e73b5c3748a98" category="inline-link-rx"></block></block>
  <block id="5d545fe5152641e2ebe654e336e520e5" category="paragraph"><block ref="5d545fe5152641e2ebe654e336e520e5" category="inline-link-macro-rx"></block></block>
  <block id="be89498d2f8a22ce47c02ba9795fe2af" category="section-title">Patentes</block>
  <block id="d0b19d36be2c5f16e9aef46c8a452d3d" category="paragraph">Uma lista atual de patentes de propriedade da NetApp pode ser encontrada em:</block>
  <block id="88e5eabd3917048b6927c42496b98f86" category="inline-link-macro"><block ref="88e5eabd3917048b6927c42496b98f86" category="inline-link-rx"></block></block>
  <block id="dd38f906b37d412de7d1c1dcf4cbf31c" category="paragraph"><block ref="dd38f906b37d412de7d1c1dcf4cbf31c" category="inline-link-macro-rx"></block></block>
  <block id="56c34c6410dd45c5cec44149ad0ce037" category="section-title">Política de privacidade</block>
  <block id="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-macro"><block ref="8acb58cbd50ef1b468a020ee0bd351d3" category="inline-link-rx"></block></block>
  <block id="2352c4e1f4d0024ade0869e00e6243f4" category="paragraph"><block ref="2352c4e1f4d0024ade0869e00e6243f4" category="inline-link-macro-rx"></block></block>
  <block id="c0227cef6f07a8cd2ac72f2945b031aa" category="section-title">Código aberto</block>
  <block id="0172b29a9f5d94dc62ee592a98183f3b" category="paragraph">Você pode revisar os direitos autorais e as licenças de terceiros usadas no software NetApp para Astra Trident no arquivo de avisos de cada versão em<block ref="4a3c8c5a408c6db1c44c04391a8a0a2f" category="inline-link-rx"></block>.</block>
  <block id="a5353a10ead2905c577659fdd805af0a" category="summary">Saiba como o Astra Trident é executado em um cluster Kubernetes.</block>
  <block id="c350769115c3c8e4132e9c428b166b12" category="doc">A arquitetura do Astra Trident</block>
  <block id="d6601a8eb863a49ea065281f70a5956b" category="summary">O Astra Trident é um projeto de código aberto totalmente compatível mantido pela NetApp como parte da família de produtos Astra. Ele foi desenvolvido para ajudar você a atender às demandas de persistência das aplicações em contêineres usando interfaces padrão do setor, como a Container Storage Interface (CSI).</block>
  <block id="ff27e75635c1ff1e88fbc656b16e56ce" category="doc">Saiba mais sobre o Astra Trident</block>
  <block id="bb453665f57f6823950856f7a9bad0c3" category="inline-link-macro">Família de produtos Astra</block>
  <block id="9f469e7cb13566d8a664e8ab4d46f9e1" category="paragraph">O Astra Trident é um projeto de código aberto totalmente compatível mantido pela NetApp como parte <block ref="a1650a2308dbba03b9ca704756a5a37d" category="inline-link-macro-rx"></block>do . Ele foi desenvolvido para ajudar você a atender às demandas de persistência das aplicações em contêineres usando interfaces padrão do setor, como a Container Storage Interface (CSI).</block>
  <block id="3b878279a04dc47d60932cb294d96259" category="section-title">Visão geral</block>
  <block id="5e5cb863d5fe17c205c3d2201a1a2235" category="paragraph">O Astra Trident implanta em clusters Kubernetes como pods e fornece serviços de orquestração de storage dinâmico para seus workloads do Kubernetes. Ele permite que suas aplicações em contêiner consumam de forma rápida e fácil o armazenamento persistente do amplo portfólio do NetApp, que inclui o ONTAP (AFF/FAS/Select/Cloud/Amazon FSX for NetApp ONTAP), o software Element (NetApp HCI/SolidFire), o serviço Azure NetApp Files e o Cloud Volumes Service no Google Cloud.</block>
  <block id="7c738d9c13e4e5770c6b455ab345afd7" category="paragraph">O Astra Trident também é uma tecnologia básica para o Astra do NetApp, que atende aos casos de uso de proteção de dados, recuperação de desastres, portabilidade e migração para workloads Kubernetes. Com a tecnologia de gerenciamento de dados líder do setor da NetApp para snapshots, backups, replicação e clonagem.</block>
  <block id="4bd05efa612e48dd723de2bdd29f88e2" category="section-title">Arquiteturas de cluster Kubernetes compatíveis</block>
  <block id="85b179f2c10f76f0171b4d9d3f2d5171" category="paragraph">O Astra Trident é compatível com as seguintes arquiteturas de Kubernetes:</block>
  <block id="c91cda04d3ac5ae2da327d347d4bbefe" category="cell">Arquiteturas de cluster do Kubernetes</block>
  <block id="eaa4dc5078017a5c5bebf383ab6f5124" category="cell">Suportado</block>
  <block id="c0057eecd4b1a67d11dc801b8992a574" category="cell">Instalação predefinida</block>
  <block id="0c69c79a8788e0e4572d0c4838e69401" category="cell">Único mestre, computação</block>
  <block id="93cba07454f06a4a960172bbd6e2a435" category="cell">Sim</block>
  <block id="1fc3441370ae575a64d605fcd15a05fd" category="cell">Mestre múltiplo, computação</block>
  <block id="7cb2eb9488f3532834f7ef233ae894dd" category="cell">Mestre<block ref="a226e9fbdfc1c8dd7e7fef4d333f86ed" prefix=" " category="inline-code"></block>, , computação</block>
  <block id="5e5f49db20e29f6377e57e98932dae57" category="cell">Mestre, infraestrutura, computação</block>
  <block id="ae663d0d321764bd88b8d864cd3afc9e" category="section-title">O que é o Astra?</block>
  <block id="dd91e88f9a6ec30684f494c41baeeee0" category="paragraph">Com o Astra, é mais fácil para as empresas gerenciar, proteger e mover workloads em contêineres com muitos dados executados no Kubernetes dentro e entre nuvens públicas e no local. O Astra provisiona e fornece storage de contêiner persistente usando o Astra Trident do portfólio de storage comprovado e expansivo da NetApp, na nuvem pública e no local. Ele também oferece um conjunto avançado de recursos avançados de gerenciamento de dados com reconhecimento de aplicações, como snapshot, backup e restauração, logs de atividade e clonagem ativa para proteção de dados, recuperação de desastres/dados, auditoria de dados e casos de uso de migração para workloads Kubernetes.</block>
  <block id="165fe4b78b5877cf8db8ac6361e5c85a" category="paragraph">Você pode se inscrever para uma avaliação gratuita na página Astra.</block>
  <block id="d13de4a83d7b44c2e65495def8ef1c7b" category="section-title">Para mais informações</block>
  <block id="fa80e31eb77798b8dd995ddd9553be6e" category="inline-link">Família de produtos NetApp Astra</block>
  <block id="ed394f5572d8e7df474126557b3288f8" category="list-text"><block ref="ed394f5572d8e7df474126557b3288f8" category="inline-link-rx"></block></block>
  <block id="ef22ff17624b3faeed227ce5c717eb5f" category="inline-link">Documentação do Astra Control Service</block>
  <block id="0ae0ea6967e9321db008cee4ad5f290c" category="list-text"><block ref="0ae0ea6967e9321db008cee4ad5f290c" category="inline-link-rx"></block></block>
  <block id="3a4b2c66d4bdac6ce0e3340c71a39eda" category="inline-link">Documentação do Astra Control Center</block>
  <block id="ea643bf7aaf130341a17f697a7009368" category="list-text"><block ref="ea643bf7aaf130341a17f697a7009368" category="inline-link-rx"></block></block>
  <block id="9d6ffa6ef31bd0b92876314219f18ef5" category="inline-link">Documentação da API Astra</block>
  <block id="9c2cf0e947812ecb3fc0bfccaa8b3c61" category="list-text"><block ref="9c2cf0e947812ecb3fc0bfccaa8b3c61" category="inline-link-rx"></block></block>
  <block id="1f0c7a14cb87fb29a7346e9b4c770751" category="summary">O Astra Trident fornece cinco drivers de storage ONTAP exclusivos para comunicação com clusters ONTAP.</block>
  <block id="f58e95baa778c9a2bd1a4597fb49d9b7" category="doc">Controladores ONTAP</block>
  <block id="99379de626bf97f4e3e66d3a8cdb8802" category="section-title">Drivers compatíveis com Astra Control</block>
  <block id="e267c2490c7d73d0ffa909b77267cfaf" category="inline-link-macro">Pré-requisitos de replicação do Astra Control</block>
  <block id="9814801b0db6e324ebd72f671418de64" category="paragraph">O Astra Control oferece proteção aprimorada, recuperação de desastres e mobilidade (migrando volumes entre clusters Kubernetes) para volumes criados com os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers ,<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> e .<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> <block ref="dfc981ac97be73172a3119f3b831eaf8" category="inline-link-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="783c2760a502e1f1537de458c9dceb7a" category="list-text">É necessário usar<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> para workloads de produção que exigem proteção de dados, recuperação de desastres e mobilidade.</block>
  <block id="a743248a7032cdf1d468935cf180bdee" category="list-text"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>Use quando se espera que o uso de volume previsto seja muito maior do que o que o ONTAP suporta.</block>
  <block id="0655cc918eb576b740cfd35bbff9c8ac" category="list-text">Use<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> somente quando se espera que o uso de volume esperado seja muito maior do que o que o ONTAP suporta, e o<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> driver não pode ser usado.</block>
  <block id="df7dec428425115b59101028bbebe58c" category="list-text">Não use o uso<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> se você antecipar a necessidade de proteção de dados, recuperação de desastres ou mobilidade.</block>
  <block id="9e5914532c650440b8c559c303ae8e04" category="section-title">Drivers de storage Astra Trident para ONTAP</block>
  <block id="bff3ebc4ae5702fb7f811ba9acabc13a" category="paragraph">O Astra Trident fornece os seguintes drivers de storage para se comunicar com o cluster ONTAP. Os modos de acesso suportados são: _ReadWriteOnce_ (RWO), _ReadOnlyMuy_ (ROX), _ReadWriteMany_ (RWX), _ReadWriteOncePod_ (RWOP).</block>
  <block id="48cf24486d9a8e65a142b25682f19949" category="cell">Condutor</block>
  <block id="888a77f5ac0748b6c8001822417df8b6" category="cell">Protocolo</block>
  <block id="4f0e7dc30ffb3e25e75331c9afb2243a" category="cell">VolumeMode</block>
  <block id="d5e2d9f8d8f10044e38b71b49e675d2e" category="cell">Modos de acesso suportados</block>
  <block id="15971126972a002fcddb2c507534e371" category="cell">Sistemas de arquivos suportados</block>
  <block id="00055dac2ba112b87a95a368075b9561" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block></block>
  <block id="3262251091b863054cfabf046c0e3493" category="paragraph">NFS, SMB</block>
  <block id="ac52cf637478f3656a1fdee5c02324fd" category="paragraph">Sistema de ficheiros</block>
  <block id="ad90b7d29d0d8a9c746868fe1f38ca90" category="paragraph">RWO, ROX, RWX, RWOP</block>
  <block id="7f4a1ee6a22ce0658ba6215c997ba8d8" category="paragraph">"", nfs, smb</block>
  <block id="cecdaed309330a9e7dea16b2076957ee" category="cell"><block ref="caafdf62a2c609bfa5316118231a1007" prefix="" category="inline-code"></block></block>
  <block id="2b8ac774302bd45e0ad531e434d8cd6d" category="cell"><block ref="844e84da8e822b4a33c4d8188da97937" prefix="" category="inline-code"></block></block>
  <block id="cd17e7ed84c40a0ff5ecb8b625b1f186" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block></block>
  <block id="e4e1c13bb0b14f6cb7608cbecea948ef" category="paragraph">ISCSI</block>
  <block id="e1e4c8c9ccd9fc39c391da4bcd093fb2" category="paragraph">Bloco</block>
  <block id="28c142639a9bbdd526b8eb986c13907d" category="paragraph">Sem sistema de arquivos; dispositivo de bloco bruto</block>
  <block id="96b38cb92e67a8f09c2d13169b8bb555" category="paragraph">RWO, ROX, RWOP</block>
  <block id="0453a3e06be842b09a9479fe06f0dd13" category="paragraph">RWX não está disponível no modo volume do sistema de arquivos.</block>
  <block id="a029cca698cbf05f07897f86c43cf9e8" category="paragraph"><block ref="310201b6353c5f38bc039e0e51b079d3" prefix="" category="inline-code"></block><block ref="66f137c5dc684da2a6a65917c86edd67" prefix=" " category="inline-code"></block>, ,<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block></block>
  <block id="73b781a615cea2647a87ff2035e296b1" category="cell"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix="" category="inline-code"></block></block>
  <block id="a38f7647d54be4cddc3f0b8e4c746caa" category="admonition">Os backends do ONTAP podem ser autenticados usando credenciais de login para uma função de segurança (nome de usuário/senha) ou a chave privada e o certificado que está instalado no cluster do ONTAP. Você pode atualizar os backends existentes para passar de um modo de autenticação para o outro com<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>o .</block>
  <block id="d00888bc1409d1c598b90af117bd3551" category="summary">O provisionamento no Astra Trident tem duas fases primárias. A primeira fase associa uma classe de armazenamento ao conjunto de conjuntos de armazenamento de back-end adequados e ocorre como uma preparação necessária antes do provisionamento. A segunda fase inclui a própria criação de volume e requer a escolha de um pool de armazenamento daqueles associados à classe de armazenamento do volume pendente.</block>
  <block id="89c3bcf0ecc1114f8d19734d9156cb40" category="doc">Provisionamento</block>
  <block id="7c14ddfe8f627e4786f4da7cd4cea9ba" category="section-title">Associação de classe de armazenamento</block>
  <block id="2bd42f922a8c0b54b90557eba2071a76" category="paragraph">A associação de pools de storage de back-end a uma classe de armazenamento depende dos atributos solicitados da classe de armazenamento e<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> das listas ,<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> e<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block> . Quando você cria uma classe de storage, o Trident compara os atributos e pools oferecidos por cada um de seus back-ends aos solicitados pela classe de storage. Se os atributos e o nome de um pool de storage corresponderem a todos os atributos e nomes de pool solicitados, o Astra Trident adicionará esse pool de storage ao conjunto de pools de storage adequados para essa classe de storage. Além disso, o Astra Trident adiciona todos os pools de storage listados na<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> lista a esse conjunto, mesmo que seus atributos não atendam a todos ou a qualquer um dos atributos solicitados da classe de storage. Você deve usar a<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block> lista para substituir e remover pools de armazenamento de uso para uma classe de armazenamento. O Astra Trident executa um processo semelhante sempre que você adiciona um novo back-end, verificando se os pools de storage atendem às classes de storage existentes e removendo quaisquer que tenham sido marcados como excluídos.</block>
  <block id="ab4589eca69db942d79a0dbbd9ec8399" category="section-title">Criação de volume</block>
  <block id="668ccb4dd1c284f07a3062637c57d21a" category="paragraph">Em seguida, o Astra Trident usa as associações entre classes de storage e pools de storage para determinar onde provisionar volumes. Quando você cria um volume, o Astra Trident primeiro obtém o conjunto de pools de storage para a classe de storage desse volume e, se você especificar um protocolo para o volume, o Astra Trident removerá esses pools de storage que não podem fornecer o protocolo solicitado (por exemplo, um back-end NetApp HCI/SolidFire não poderá fornecer um volume baseado em arquivo enquanto um back-end do ONTAP nas não puder fornecer um volume baseado em bloco). O Astra Trident aleatoriza a ordem desse conjunto resultante, para facilitar uma distribuição uniforme de volumes e, em seguida, iterá-lo, tentando provisionar o volume em cada pool de storage por sua vez. Se for bem-sucedido em um, ele retorna com sucesso, registrando quaisquer falhas encontradas no processo. O Astra Trident retorna uma falha *somente se* falhar ao provisionamento em *todos* dos pools de storage disponíveis para a classe de storage e o protocolo solicitados.</block>
  <block id="4d5445eb6c70cdab8d3ad5e71367f42a" category="summary">Saiba mais sobre como o Astra Trident lida com a criação de snapshots de volume para seus drivers.</block>
  <block id="e9c3828cd06711f9036bb4ce862a32c5" category="doc">Instantâneos de volume</block>
  <block id="a6fbed601c3d014f6d8342990aeee0b5" category="section-title">Saiba mais sobre a criação de instantâneos de volume</block>
  <block id="a264f15eaddf1d50155847119366be6b" category="list-text">Para os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers ,<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>, ,<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> e ,<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> cada volume persistente (PV) é mapeado para um FlexVol. Como resultado, os snapshots de volume são criados como snapshots do NetApp. A tecnologia Snapshot da NetApp oferece mais estabilidade, escalabilidade, capacidade de recuperação e desempenho do que as tecnologias de snapshot da concorrência. Essas cópias snapshot são extremamente eficientes no tempo necessário para criá-las e no espaço de storage.</block>
  <block id="cf282b9c05ab0f84b1690e644cd3f68e" category="list-text">Para<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> o condutor, cada volume persistente (PV) é mapeado para um FlexGroup. Como resultado, os snapshots de volume são criados como snapshots do NetApp FlexGroup. A tecnologia Snapshot da NetApp oferece mais estabilidade, escalabilidade, capacidade de recuperação e desempenho do que as tecnologias de snapshot da concorrência. Essas cópias snapshot são extremamente eficientes no tempo necessário para criá-las e no espaço de storage.</block>
  <block id="98c670ffe759cc20cd8a31d49bd0b4fc" category="list-text">Para<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> o driver, os PVS mapeiam para LUNs criados em FlexVols compartilhados. VolumeSnapshots de PVS são obtidos executando FlexClones do LUN associado. A tecnologia FlexClone da ONTAP possibilita a criação de cópias até dos maiores conjuntos de dados quase instantaneamente. As cópias compartilham blocos de dados com os pais, não consumindo storage, exceto o necessário para os metadados.</block>
  <block id="9dbabbadda024bb7b1d0db43ab31b45f" category="list-text">Para<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> o driver, cada PV mapeia para um LUN criado no cluster do software/NetApp HCI do NetApp Element. VolumeSnapshots são representados por instantâneos de elementos do LUN subjacente. Esses snapshots são cópias pontuais e ocupam apenas um pequeno espaço e recursos do sistema.</block>
  <block id="34f731018ae783f70901b14b4950c3a7" category="list-text">Ao trabalhar com<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> os drivers e<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>, os snapshots do ONTAP são cópias pontuais do FlexVol e consomem espaço no próprio FlexVol. Isso pode resultar na quantidade de espaço gravável no volume para reduzir com o tempo, à medida que os snapshots são criados/programados. Uma maneira simples de lidar com isso é aumentar o volume redimensionando pelo Kubernetes. Outra opção é excluir snapshots que não são mais necessários. Quando um VolumeSnapshot criado por meio do Kubernetes é excluído, o Astra Trident excluirá o snapshot associado do ONTAP. Os snapshots do ONTAP que não foram criados pelo Kubernetes também podem ser excluídos.</block>
  <block id="1eb824f8d9b30b3f4e089938e719fefe" category="paragraph">Com o Astra Trident, você pode usar o VolumeSnapshots para criar novos PVS a partir deles. A criação de PVS a partir desses snapshots é realizada usando a tecnologia FlexClone para backends ONTAP e CVS compatíveis. Ao criar um PV a partir de um instantâneo, o volume de backup é um FlexClone do volume pai do instantâneo. O<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver usa clones de volume do software Element para criar PVS a partir de snapshots. Aqui ele cria um clone a partir do snapshot do elemento.</block>
  <block id="a330e835c41b0ff1dfc7e483e7e7f70e" category="summary">Os pools virtuais fornecem uma camada de abstração entre os back-ends de storage do Astra Trident e os StorageClasses do Kubernetes. Eles permitem que um administrador defina aspectos, como localização, desempenho e proteção para cada back-end de uma maneira comum e independente de back-end, sem fazer com que o StorageClass especifique qual back-end físico, pool de back-end ou tipo de back-end usar para atender aos critérios desejados.</block>
  <block id="aa3a2f2908114304b0a2fa7847f52c52" category="doc">Pools virtuais</block>
  <block id="9f77ac8822dd45ff19910e0170669eb7" category="paragraph">Os pools virtuais fornecem uma camada de abstração entre os back-ends de storage do Astra Trident e o Kubernetes<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>. Eles permitem que um administrador defina aspetos, como localização, desempenho e proteção para cada back-end de uma maneira comum e independente de back-end, sem<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> especificar qual backend físico, pool de back-end ou tipo de back-end usar para atender aos critérios desejados.</block>
  <block id="c395d1a6e14d73fb73663b1198b0b134" category="section-title">Saiba mais sobre pools virtuais</block>
  <block id="f66146f5a5a305009d0129474f6fc10e" category="paragraph">O administrador de storage pode definir pools virtuais em qualquer um dos backends do Astra Trident em um arquivo de definição JSON ou YAML.</block>
  <block id="6293784c303cb134632b85dc06f372df" category="image-alt">Mostra o diagrama conceitual de pools virtuais.</block>
  <block id="2a778cf7220cdde142651975e1bcd90f" category="paragraph">Qualquer aspeto especificado fora da lista de pools virtuais é global para o back-end e se aplicará a todos os pools virtuais, enquanto cada pool virtual pode especificar um ou mais aspetos individualmente (substituindo quaisquer aspetos globais de back-end).</block>
  <block id="e26346b2afab61526141ea7275a77ba3" category="list-text">Ao definir pools virtuais, não tente reorganizar a ordem dos pools virtuais existentes em uma definição de back-end.</block>
  <block id="92aa2031bb642a0c5c916142f725400d" category="list-text">Aconselhamos a não modificar atributos para um pool virtual existente. Você deve definir um novo pool virtual para fazer alterações.</block>
  <block id="43d41b472d09879b85f78a3b8e487fd1" category="paragraph">A maioria dos aspetos são especificados em termos específicos de back-end. Fundamentalmente, os valores de aspeto não são expostos fora do driver do back-end e não estão disponíveis para correspondência em<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>. em vez disso, o administrador define um ou mais rótulos para cada pool virtual. Cada rótulo é um par chave:valor, e os rótulos podem ser comuns em backends exclusivos. Assim como aspetos, os rótulos podem ser especificados por pool ou globais para o back-end. Ao contrário de aspetos, que têm nomes e valores predefinidos, o administrador tem total discrição para definir chaves de rótulo e valores conforme necessário. Por conveniência, os administradores de storage podem definir rótulos por pool virtual e volumes de grupo por rótulo.</block>
  <block id="e084f7ea866c7ad616e67a911925c850" category="paragraph">A<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> identifica qual pool virtual usar fazendo referência aos rótulos dentro de um parâmetro seletor. Os seletores de pool virtual suportam os seguintes operadores:</block>
  <block id="e1b3ec89ead7f83a9245ed5c9cacfdbf" category="cell">Operador</block>
  <block id="0a52730597fb4ffa01fc117d9e71e3a9" category="cell">Exemplo</block>
  <block id="3b64653c97a388d828849314b6a1b383" category="cell">O valor do rótulo de um pool deve:</block>
  <block id="499badcb6f450c7f46c51d873eb84286" category="cell"><block ref="43ec3e5dee6e706af7766fffea512721" prefix="" category="inline-code"></block></block>
  <block id="354653142ec321459dfd6d71444e992e" category="cell">desempenho superior</block>
  <block id="6da89265a9a8b0b28eb4946bb2ec0c6d" category="cell">Correspondência</block>
  <block id="5a5292b0a0d0379f0f1b12801b09b266" category="cell"><block ref="de0219f9333d57ea89a9ba235df098ba" prefix="" category="inline-code"></block></block>
  <block id="eccde6822783bd75209c9b6a2d357f6c" category="cell">performance! extrema</block>
  <block id="ecf92052d55345fee4602d9eb8c22063" category="cell">Não corresponde</block>
  <block id="ae2bef277194f73d24a36a78009aac1e" category="cell"><block ref="13b5bfe96f3e2fe411c9f66f4a582adf" prefix="" category="inline-code"></block></block>
  <block id="f8cf8c23afb5459dbf7c24b685caf85b" category="cell">localização em (leste, oeste)</block>
  <block id="c6c1caf73b0f83d807abe5a717014ab7" category="cell">Esteja no conjunto de valores</block>
  <block id="1a031eecbce49366e550273b9321b909" category="cell"><block ref="935f754ecc68ca688f61c154c404ed06" prefix="" category="inline-code"></block></block>
  <block id="b5585f3f9b45f391fee5dd15e6516450" category="cell">notificação de desempenho (prata, bronze)</block>
  <block id="8daf6b016f4033d59900c23f162c0f73" category="cell">Não estar no conjunto de valores</block>
  <block id="c6bfba38b789fec8271d1d1496a9ee59" category="cell"><block ref="42538adbdb6240b2b083a000a615d5bd" prefix="" category="inline-code"></block></block>
  <block id="152f5dc0f7ac734f8e8ee17d4a482462" category="cell">proteção</block>
  <block id="7b532e697a35209f3df3956577cc3d9c" category="cell">Existe com qualquer valor</block>
  <block id="eb0254f1d0a82e646c239d4d2e2f83ac" category="cell"><block ref="f65e5ff2a1bb1af969dccabe7dcd5cdd" prefix="" category="inline-code"></block></block>
  <block id="67a3b723b2d9024808eb2c6e686d00a0" category="cell">!proteção</block>
  <block id="1fde97909b90bb329db2062f7744bd45" category="cell">Não existe</block>
  <block id="ae8e28c37a725c4bb4a74663ac8615ea" category="summary">Saiba mais sobre como o Astra Trident usa grupos de acesso a volume.</block>
  <block id="b4621305109716b02eed0cf25fabab13" category="doc">Grupos de acesso de volume</block>
  <block id="33911b1eec54b4b5a7fbc504e6569989" category="inline-link">grupos de acesso de volume</block>
  <block id="649833006ff7b612c3d988173b6417d5" category="paragraph">Saiba mais sobre como o Astra Trident usa<block ref="783dd6ea9e0b09c84db9ccd072a61c55" category="inline-link-rx"></block>.</block>
  <block id="e93c18adf30bc91499234d0ec7863499" category="admonition">Ignore esta seção se você estiver usando CHAP, que é recomendado para simplificar o gerenciamento e evitar o limite de escala descrito abaixo. Além disso, se você estiver usando Astra Trident no modo CSI, você pode ignorar esta seção. O Astra Trident usa o CHAP quando instalado como um provisionador aprimorado de CSI.</block>
  <block id="99c850b82f45e568828f2a8c5ab8f94d" category="section-title">Saiba mais sobre grupos de acesso de volume</block>
  <block id="3c56a859b413098b6bf2c54aff32a842" category="paragraph">O Astra Trident pode usar grupos de acesso a volumes para controlar o acesso aos volumes provisionados. Se o CHAP estiver desativado, ele espera encontrar um grupo de acesso chamado<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>, a menos que você especifique um ou mais IDs de grupo de acesso na configuração.</block>
  <block id="025d19ee81e813e3ba40553cd4908638" category="paragraph">Embora o Astra Trident associe novos volumes ao(s) grupo(s) de acesso configurado(s), ele não cria nem gerencia grupos de acesso. Os grupos de acesso devem existir antes que o back-end de storage seja adicionado ao Astra Trident e precisam conter as IQNs de iSCSI de cada nó no cluster do Kubernetes que potencialmente poderia montar os volumes provisionados por esse back-end. Na maioria das instalações, isso inclui cada nó de trabalho no cluster.</block>
  <block id="dff8ca466bae899e4dbc68c3a552033f" category="paragraph">Para clusters de Kubernetes com mais de 64 nós, você deve usar vários grupos de acesso. Cada grupo de acesso pode conter até 64 IQNs e cada volume pode pertencer a quatro grupos de acesso. Com o máximo de quatro grupos de acesso configurados, qualquer nó em um cluster de até 256 nós de tamanho poderá acessar qualquer volume. Para obter os limites mais recentes dos grupos de acesso de volume,<block ref="ac4000c3a85e5909daa6593f9f0617fd" category="inline-link-rx"></block> consulte .</block>
  <block id="4f5254b466f691d7b0c50fb0d8286075" category="paragraph">Se você estiver modificando a configuração de uma que esteja usando o grupo de acesso padrão<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> para outra que também use outras, inclua a ID do<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> grupo de acesso na lista.</block>
  <block id="4cfa22b281cbd36e1a275d61ec23a9b4" category="summary">Você pode coletar Registros para obter ajuda com a solução de problemas. O método que você usa para coletar os logs varia de acordo com a forma como você está executando o plugin Docker.</block>
  <block id="fe1786b49549e8e06a89b9c57d7fc514" category="doc">Recolher registos</block>
  <block id="756909f99bc1a720d318a5f5b94eb094" category="section-title">Recolha registos para resolução de problemas</block>
  <block id="f3a29486bed19a90f2da6d007818b427" category="list-title">Passos</block>
  <block id="83f4d02d2dd31f09291e098bf4ae502b" category="list-text">Se você estiver executando o Astra Trident usando o método de plug-in gerenciado recomendado (ou seja, usando<block ref="fb3421df1496105acc8a14808359550b" prefix=" " category="inline-code"></block> comandos), visualize-os da seguinte forma:</block>
  <block id="17c40798131b12188d43b1a90dabfc69" category="paragraph">O nível de registo padrão deve permitir diagnosticar a maioria dos problemas. Se você achar que isso não é suficiente, você pode ativar o Registro de depuração.</block>
  <block id="c28722abec5c1daefa02916119bbff91" category="list-text">Para ativar o registo de depuração, instale o plug-in com o registo de depuração ativado:</block>
  <block id="b142025dd533fb27bf7df1a93c55e311" category="paragraph">Ou, ative o registo de depuração quando o plug-in já estiver instalado:</block>
  <block id="98e6888e14bd8bcd734870a8331ca6ea" category="list-text">Se você estiver executando o binário em si no host, os logs estarão disponíveis no diretório do host<block ref="849fc2421f236e9c9b49a9d3fed2c404" prefix=" " category="inline-code"></block>. Para ativar o registo de depuração, especifique<block ref="9b945915b0cddbee22047fd529d642f6" prefix=" " category="inline-code"></block> quando executar o plugin.</block>
  <block id="2aa0797ce5da04d1c6f027c9b3276483" category="section-title">Dicas gerais de solução de problemas</block>
  <block id="94d799ff06bdb0aedb7b64151dac73d7" category="list-text">O problema mais comum em que novos usuários são executados é uma configuração incorreta que impede que o plugin seja inicializado. Quando isso acontecer, você provavelmente verá uma mensagem como esta quando você tentar instalar ou ativar o plugin:</block>
  <block id="fe6b4529e706ebc0f7e3668d3230d029" category="paragraph"><block ref="e10704aaf501d617a85e30884eb05c0b" prefix="" category="inline-code"></block></block>
  <block id="3d924bd43304301ed127cbbd303a4fa6" category="paragraph">Isto significa que o plugin falhou ao iniciar. Felizmente, o plugin foi construído com uma capacidade de Registro abrangente que deve ajudá-lo a diagnosticar a maioria dos problemas que você provavelmente encontrará.</block>
  <block id="79c820c2d64495c47651e58e73f97294" category="list-text">Se houver problemas com a montagem de um PV em um recipiente, certifique-se de que<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block> está instalado e funcionando. Use o gerenciador de pacotes necessário para o sistema operacional do host e verifique se<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block> está em execução. Você pode verificar o status do serviço rpcbind executando um<block ref="461bc51ac38341d1d2fdae2e84bc6e47" prefix=" " category="inline-code"></block> ou seu equivalente.</block>
  <block id="82720d84ad009f069fd0b2cfaf6c3dac" category="summary">O Astra Trident para Docker fornece integração direta com o ecossistema Docker para plataformas de storage da NetApp. Ele dá suporte ao provisionamento e gerenciamento de recursos de storage da plataforma de storage para hosts Docker, com uma estrutura para adicionar plataformas adicionais no futuro.</block>
  <block id="486632f7d2196e772b742db4a4a0ad7c" category="doc">Implante o Astra Trident</block>
  <block id="d2eb05d1990246a079aeb2f56e3a4237" category="paragraph">Várias instâncias do Astra Trident podem ser executadas simultaneamente no mesmo host. Isso permite conexões simultâneas a vários sistemas de armazenamento e tipos de armazenamento, com a capacidade de personalizar o armazenamento usado para os volumes Docker.</block>
  <block id="d59db7846bd10b6d60d21543df9faa9e" category="paragraph-title">O que você vai precisar</block>
  <block id="89bcbd8e4ba49b7310e9fa748e878c4b" category="inline-link-macro">pré-requisitos para implantação</block>
  <block id="756efcb3a97cdd37e8b34de3913c3d8f" category="paragraph">Consulte <block ref="18d5551396fb2ce2e009cfdb709e4875" category="inline-link-macro-rx"></block>. Depois de garantir que os pré-requisitos sejam atendidos, você estará pronto para implantar o Astra Trident.</block>
  <block id="88f0ab229fa9d759d74fcf6ab7cc17b1" category="section-title">Método de plug-in gerenciado Docker (versão 1,13/17,03 e posterior)</block>
  <block id="135b308ed83c53f1516b7c754566d1c4" category="admonition-title">Antes de começar</block>
  <block id="070ecb002d71e4e7618a4b46a5ba690f" category="admonition">Se você usou o Astra Trident pré Docker 1,13/17,03 no método daemon tradicional, certifique-se de parar o processo Astra Trident e reiniciar seu daemon Docker antes de usar o método do plugin gerenciado.</block>
  <block id="7bf1ee8f4e093050c1cdf1842931af7d" category="list-text">Parar todas as instâncias em execução:</block>
  <block id="47b9ec5c8c4439980c63f4188bad5324" category="list-text">Reinicie o Docker.</block>
  <block id="5311ac4d72d5c91dcaa39b896d3b8027" category="list-text">Certifique-se de que tem o Docker Engine 17,03 (novo 1,13) ou posterior instalado.</block>
  <block id="07d6db5e99a0aa19fe76f15efed30ecf" category="inline-link">instale ou atualize a instalação</block>
  <block id="2c3bc9d0632e0cccc05fdd3c42467df9" category="paragraph">Se a sua versão estiver desatualizada,<block ref="ddebe10ca17c0276898872fa2632e8fb" category="inline-link-rx"></block>.</block>
  <block id="48afbcf494fc19ee409f5aff48ae32c3" category="list-text">Crie um arquivo de configuração e especifique as opções da seguinte forma:</block>
  <block id="9314e9bcd24c80b255fc3e9e697a2ada" category="list-text"><block ref="2245023265ae4cf87d02c8b6ba991139" prefix="" category="inline-code"></block>: O nome do arquivo padrão é<block ref="06b2d3b23dce96e1619d2b53d6c947ec" prefix=" " category="inline-code"></block>, no entanto, você pode usar qualquer nome que você escolher especificando a<block ref="2245023265ae4cf87d02c8b6ba991139" prefix=" " category="inline-code"></block> opção com o nome do arquivo. O arquivo de configuração deve estar localizado<block ref="82a4d1e835ca8dc19ea6a437e4af9493" prefix=" " category="inline-code"></block> no diretório no sistema host.</block>
  <block id="8798dc2a3b5e61873054923c9f170ac7" category="list-text"><block ref="6ab0f208312cdf3ab62b4b1061d4f7c0" prefix="" category="inline-code"></block>: Especifique o nível de registo <block ref="ad42f6697b035b7580e4fef93be20b4d" prefix="(" category="inline-code"></block>,<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>,<block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block><block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block> , ,<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block> ). A predefinição é<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block>.</block>
  <block id="45ed67026a1141006588fcc698646141" category="list-text"><block ref="ad42f6697b035b7580e4fef93be20b4d" prefix="" category="inline-code"></block>: Especifique se o log de depuração está ativado. O padrão é falso. Substitui o nível de log, se verdadeiro.</block>
  <block id="3bed6f89999b483af7f55024d9e7c02a" category="list-text">Crie um local para o arquivo de configuração:</block>
  <block id="28156615c51d4bad2ee47d0a9f43f404" category="list-text">Crie o arquivo de configuração:</block>
  <block id="0d41f8565b8b74a59fc029ccf2becd83" category="list-text">Inicie o Astra Trident usando o sistema de plugins gerenciado. Substitua<block ref="3d689bd3819ead35ed794427bd12f459" prefix=" " category="inline-code"></block> pela versão do plugin (xxx.xx.x) que você está usando.</block>
  <block id="a4574d19d34a14aa0accde782f35318b" category="list-text">Comece a usar o Astra Trident para consumir storage do sistema configurado.</block>
  <block id="a9c521f25a3bacb94ad1dd4705b3585f" category="list-text">Crie um volume chamado "firstvolume":</block>
  <block id="4fbca4f67cbe96bc7d7a16691d2912c2" category="list-text">Crie um volume padrão quando o contentor for iniciado:</block>
  <block id="b8e88709dbc4f2f80a96f53f83862704" category="list-text">Remover o volume "firstvolume":</block>
  <block id="0e68ac1d84bfedf203365a9fb37db9ed" category="section-title">Método tradicional (versão 1,12 ou anterior)</block>
  <block id="2c1107bda4c1ae7904ab1835c35973b7" category="list-text">Certifique-se de que você tem o Docker versão 1,10 ou posterior.</block>
  <block id="b6fdfa2eab3e357687eba5ddec2bea0c" category="paragraph">Se a sua versão estiver desatualizada, atualize a instalação.</block>
  <block id="45c61654258cfd16ceec15df7df02138" category="inline-link">siga as instruções para sua distribuição</block>
  <block id="07dff22faeb910f375341cfcbd4899fd" category="paragraph">Ou,<block ref="9ce989a7f7f995616a47f5dd291ed229" category="inline-link-rx"></block>.</block>
  <block id="588d2fe1c60271cde75dbeba32e0b25b" category="list-text">Certifique-se de que NFS e/ou iSCSI estão configurados para o seu sistema.</block>
  <block id="03fe5b0d58270efa87041677cac72ad7" category="list-text">Instale e configure o plug-in de volume do Docker do NetApp:</block>
  <block id="f45f5a64dae951d3e37c9bd382201b06" category="list-text">Baixe e descompacte o aplicativo:</block>
  <block id="b255d9e06a4ca8e9f5bc31c9198426ad" category="list-text">Mover para um local no caminho do compartimento:</block>
  <block id="ca8a5486f4257b2aef35a8e769fc51d9" category="list-text">Depois de colocar o binário e criar o(s) arquivo(s) de configuração, inicie o daemon Trident usando o arquivo de configuração desejado.</block>
  <block id="d3fa61f14ead6cf1cf1d584cf0b6c4e1" category="admonition">A menos que especificado, o nome padrão para o driver de volume é "NetApp".</block>
  <block id="9ad37c975c341297c49c69353516a727" category="paragraph">Depois que o daemon é iniciado, você pode criar e gerenciar volumes usando a interface CLI do Docker</block>
  <block id="e3dec3f86b9a3b1be209ab63855ce432" category="list-text">Criar um volume:</block>
  <block id="5ff2e3e853922fdb84ef21b85ffdac2e" category="list-text">Provisione um volume Docker ao iniciar um contentor:</block>
  <block id="8f6a91f5f21d0478e3fd89095fc28ab9" category="list-text">Remover um volume Docker:</block>
  <block id="e63e2a2b9c9184e703ff8d93bb92508b" category="section-title">Inicie o Astra Trident na inicialização do sistema</block>
  <block id="0350980c728940d67af063bb5d711f0f" category="paragraph">Um arquivo de unidade de exemplo para sistemas baseados em systemd pode ser encontrado<block ref="50a97f9b0dec64cc53ca48406c60fe4d" prefix=" " category="inline-code"></block> no repositório Git. Para usar o arquivo com RHEL, faça o seguinte:</block>
  <block id="5b51496da86e5a2073e0c618390c3d2a" category="list-text">Copie o arquivo para o local correto.</block>
  <block id="44103de0a164f687d305ad91e919d8ee" category="paragraph">Você deve usar nomes exclusivos para os arquivos de unidade se tiver mais de uma instância em execução.</block>
  <block id="3223aadc84a3ccb4a3473ba01c895184" category="list-text">Edite o arquivo, altere a descrição (linha 2) para corresponder ao nome do driver e ao caminho do arquivo de configuração (linha 9) para refletir seu ambiente.</block>
  <block id="1edae3931401a32d7dd7dd6e0a2ad563" category="list-text">Recarregue systemd para que ele ingere alterações:</block>
  <block id="db38a93e27eba57d507611d002ad612f" category="list-text">Ative o serviço.</block>
  <block id="c7e0a4deeebe264aa7d5f7f3ca3ef77f" category="paragraph">Esse nome varia dependendo do que você nomeou o arquivo no<block ref="dce2a9642217836d54f614dfd625b753" prefix=" " category="inline-code"></block> diretório.</block>
  <block id="baa04490a79e9e8de7fa4cd44e2c6fbb" category="list-text">Inicie o serviço.</block>
  <block id="93c7574cf83c1f01b04891cf2d826cea" category="list-text">Ver o estado.</block>
  <block id="f4f15418284ae7a01b27fccc1af0463a" category="admonition">Sempre que você modificar o arquivo unit, execute o<block ref="269b117015efb12595eebf74692e5cbc" prefix=" " category="inline-code"></block> comando para que ele esteja ciente das alterações.</block>
  <block id="c2bccf4258de19dd1e03e25f66d80f98" category="summary">Encontre informações sobre problemas conhecidos ao usar o Astra Trident com Docker.</block>
  <block id="3a3b7ac2e39541ea05707ccd6eb054d4" category="doc">Problemas e limitações conhecidos</block>
  <block id="ba6bb78ba304725781af9e773f1957e2" category="paragraph">Encontre informações sobre problemas e limitações conhecidos ao usar o Astra Trident com Docker.</block>
  <block id="8bb35988eac5a841d2af092365f1aa42" category="section-title">A atualização do plug-in de volume do Docker do Trident para 20,10 e posterior a partir de versões mais antigas resulta em falha de atualização com o erro de nenhum arquivo ou diretório.</block>
  <block id="7aebfa1e2291377e040de92d7f7f335f" category="list-title">Solução alternativa</block>
  <block id="f49f11bc5398ac13e500d16eac424e77" category="list-text">Desative o plugin.</block>
  <block id="cc3dae6dd6670606c41c62b10273605e" category="list-text">Remova o plugin.</block>
  <block id="6010901b5c4bb6ad671e6f07fcc038d8" category="list-text">Reinstale o plugin fornecendo o parâmetro extra<block ref="2245023265ae4cf87d02c8b6ba991139" prefix=" " category="inline-code"></block>.</block>
  <block id="e527ab8c1c51767e38a3603d51d2d6e5" category="section-title">Os nomes dos volumes devem ter um mínimo de 2 carateres.</block>
  <block id="45c9df594d13c8a5e5472503d5f14b01" category="inline-link">Veja o bug 25773</block>
  <block id="c167efd138e06a8ee59885983c5ddf69" category="admonition">Esta é uma limitação de cliente Docker. O cliente interpretará um único nome de caractere como sendo um caminho do Windows.<block ref="f082f49b923960d888c1d98a1e9f4fcb" category="inline-link-rx"></block>.</block>
  <block id="3c4f022a33d4aace82350c9966fa238b" category="section-title">O Docker Swarm tem certos comportamentos que impedem o Astra Trident de dar suporte a ele em cada combinação de storage e driver.</block>
  <block id="a7c3ff464b1ef4364de4df03d66bee5e" category="list-text">Docker Swarm atualmente faz uso do nome do volume em vez de ID do volume como seu identificador de volume exclusivo.</block>
  <block id="61ab6f5cff8de89cba95d9e3bbc4ff71" category="list-text">As solicitações de volume são enviadas simultaneamente para cada nó em um cluster Swarm.</block>
  <block id="521e51548c3f7c96e72d432edf4af42d" category="list-text">Os plug-ins de volume (incluindo o Astra Trident) devem ser executados de forma independente em cada nó em um cluster do Swarm. Devido à forma como o ONTAP funciona e como os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers e<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> funcionam, eles são os únicos que podem operar dentro dessas limitações.</block>
  <block id="69418caf7b92279073f695612c68de99" category="paragraph">O resto dos pilotos estão sujeitos a problemas como condições de corrida que podem resultar na criação de um grande número de volumes para uma única solicitação sem um claro "vencedor"; por exemplo, o elemento tem um recurso que permite que os volumes tenham o mesmo nome, mas IDs diferentes.</block>
  <block id="48cbf13b390ff021b130d5f372147af5" category="paragraph">O NetApp forneceu feedback à equipe do Docker, mas não tem qualquer indicação de recurso futuro.</block>
  <block id="29cff148f43bc689eb14447b333f6f83" category="section-title">Se um FlexGroup estiver sendo provisionado, o ONTAP não provisiona um segundo FlexGroup se o segundo FlexGroup tiver um ou mais agregados em comum com o FlexGroup sendo provisionado.</block>
  <block id="c412f3b9b270250331aa1ef4102ef8c1" category="summary">Várias instâncias do Astra Trident são necessárias quando você deseja ter várias configurações de storage disponíveis simultaneamente. A chave para várias instâncias é dar nomes diferentes usando a opção --alias com o plug-in em contentor, ou --volume-driver ao instanciar o Trident no host.</block>
  <block id="4f07a71d2e33da91dec1396b7a204a40" category="doc">Gerenciar várias instâncias do Astra Trident</block>
  <block id="8f327f2ceda84404290184a7454160ed" category="paragraph">Várias instâncias do Trident são necessárias quando você deseja ter várias configurações de storage disponíveis simultaneamente. A chave para várias instâncias é dar nomes diferentes usando a<block ref="14742efbfd1451d64cd78e6664734234" prefix=" " category="inline-code"></block> opção com o plug-in em contentor, ou<block ref="3462d72f00482b2e9f6fcfcdf665289b" prefix=" " category="inline-code"></block> opção ao instanciar o Trident no host.</block>
  <block id="52ef1c6ffefaba3249f208369424635d" category="section-title">Etapas para o plugin gerenciado do Docker (versão 1,13/17,03 ou posterior)</block>
  <block id="547c4a5f7c863aad85f5265c03ed72ea" category="list-text">Inicie a primeira instância especificando um alias e um arquivo de configuração.</block>
  <block id="991ac134f22efa2bb955362d95827ae5" category="list-text">Inicie a segunda instância, especificando um alias diferente e arquivo de configuração.</block>
  <block id="aa0dc0ac69e69c434317798e1aa9842b" category="list-text">Crie volumes especificando o alias como o nome do driver.</block>
  <block id="5ae25a45ab76de161f87fc41a84f746d" category="paragraph">Por exemplo, para o volume de ouro:</block>
  <block id="6dab7c53f6e3de2eae52e928dfe5b861" category="paragraph">Por exemplo, para o volume prateado:</block>
  <block id="67754cb209925946943e297b3a8be344" category="section-title">Passos para o tradicional (versão 1,12 ou anterior)</block>
  <block id="cbd128765e82966ed5e454a99b22e688" category="list-text">Inicie o plugin com uma configuração NFS usando um ID de driver personalizado:</block>
  <block id="51c923daa4caf6aea6d24201b73871b6" category="list-text">Inicie o plug-in com uma configuração iSCSI usando um ID de driver personalizado:</block>
  <block id="dd72ade865d731ba8f6a6fc4c8ccd86f" category="list-text">Provisione volumes Docker para cada instância de driver:</block>
  <block id="8e2044cc9d4e8f515ad4809a68d75465" category="paragraph">Por exemplo, para NFS:</block>
  <block id="d39eb6e4299503c5d451d19b9645be42" category="paragraph">Por exemplo, para iSCSI:</block>
  <block id="23c9c608b55b9071002aeddfd6c5563c" category="summary">Você precisa instalar e configurar os pré-requisitos de protocolo necessários no seu host antes de implantar o Astra Trident.</block>
  <block id="782bd8949cb40c80fd3f3126eccab35a" category="doc">Pré-requisitos para implantação</block>
  <block id="88825f48aa3e053d7df66897e8b63e38" category="section-title">Verifique os requisitos</block>
  <block id="b4851e92b19af0c5c82447fc0937709d" category="inline-link-macro">requisitos</block>
  <block id="6bee7851f8606d588c9122b234c202e3" category="list-text">Verifique se sua implantação atende a todos <block ref="6fc1811f5f9a8ae54793544600e2dff7" category="inline-link-macro-rx"></block>os .</block>
  <block id="d46ecc35447a8c17ef014ff6daf07bba" category="inline-link">instale ou atualize-o.</block>
  <block id="1035fa0ac2c3ed19f6ba56cafe7e121f" category="list-text">Verifique se você tem uma versão suportada do Docker instalada. Se a versão do Docker estiver desatualizada,<block ref="0b011811ae105895ca4da9769d7e6f99" category="inline-link-rx"></block>.</block>
  <block id="7760c52227ccba10f5bc395571ca7a60" category="list-text">Verifique se os pré-requisitos do protocolo estão instalados e configurados no seu host:</block>
  <block id="696c660ff8d9323e55146a6dbd4e4088" category="cell">Sistema operacional</block>
  <block id="c441ee50c88f6e5e3a7c69fc69dad8b8" category="cell">Comandos</block>
  <block id="1d1a594959ec615f56516f5d0f5e8ddb" category="cell">NFS</block>
  <block id="05a2712653dfbf7d695c18242d9848e6" category="paragraph">RHEL 8 MAIS</block>
  <block id="e0b19bed1baf46134f4079471e193b01" category="paragraph"><block ref="94eefbd6c9de095826434b3f9ccf391a" prefix="" category="inline-code"></block></block>
  <block id="3d945423f8e9496c429a5d8c65b4604f" category="paragraph">Ubuntu</block>
  <block id="1054b270f1635a3dd940e995cbc7ed78" category="paragraph"><block ref="abb05123bf030f39315b1c434e0db55e" prefix="" category="inline-code"></block></block>
  <block id="8cd5b262d8d9950185128d052d55f7c8" category="list-text">Instale os seguintes pacotes de sistema:</block>
  <block id="6bbf3284462dc8b9b90cb1adcd1c0ff4" category="paragraph"><block ref="665e51cfda95769e3c8ebdab046ca726" prefix="" category="inline-code"></block></block>
  <block id="1a5157a00ea5806f553766d5b3b114fd" category="list-text">Verifique se a versão iscsi-iniciador-utils é 6,2.0,874-2.el7 ou posterior:</block>
  <block id="55c13faac514053f94cef55eb316c9a4" category="paragraph"><block ref="03094aa6782d74480713a11c5903839a" prefix="" category="inline-code"></block></block>
  <block id="19955b3c2d2c1cfc1c82c2fe0347a065" category="list-text">Definir a digitalização para manual:</block>
  <block id="d2db641a196e6107eecf8c32f7cd7a4e" category="paragraph"><block ref="2727f20d20b380c13b1bb8bd061ec5ed" prefix="" category="inline-code"></block></block>
  <block id="d0b02d407fd5c75d0e7eac549a852191" category="list-text">Ativar multipathing:</block>
  <block id="75419edaab27be09afdb3415e83d93f6" category="paragraph"><block ref="94e15a777bd4f18c2f12ee2be36b8fe9" prefix="" category="inline-code"></block></block>
  <block id="60c268e00db3206011b54b01705d7211" category="admonition">Certifique-se de<block ref="7901fe536dc82e3cb12052c3fac7fef6" prefix=" " category="inline-code"></block> que contém<block ref="2a81b35478c9ccb4f9392dcc40edb8e6" prefix=" " category="inline-code"></block><block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> em .</block>
  <block id="8bec0eea71974a9138ccfa96983ddcfc" category="list-text">Certifique-se de que<block ref="3fe4dc8de876aca2c78fa0cd9c6d0b65" prefix=" " category="inline-code"></block> e<block ref="8732863da72605a20ed96b4eee87a5fb" prefix=" " category="inline-code"></block> estão a funcionar:</block>
  <block id="90a9d2e9b1b4ae58a957ff989f0732ba" category="paragraph"><block ref="badc8ec6dc9351896c1222339c46c345" prefix="" category="inline-code"></block></block>
  <block id="8018f5d6ddc4e67678d1659757828deb" category="list-text">Ativar e iniciar<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block>:</block>
  <block id="0f905161e16c2cfa712f1fb7640afee4" category="paragraph"><block ref="001030a23350cb5d0000fa0ca0e8958f" prefix="" category="inline-code"></block></block>
  <block id="28ea88befb3a7f6a8e98e7ea7a4fd35f" category="paragraph"><block ref="0aeeb6ce403007e66b525d7c0e35c36b" prefix="" category="inline-code"></block></block>
  <block id="a53508e75911225e5de8b5febc82cf12" category="list-text">Verifique se a versão Open-iscsi é 2,0.874-5ubuntu2.10 ou posterior (para bionic) ou 2,0.874-7.1ubuntu6.1 ou posterior (para focal):</block>
  <block id="f6802be29c6bca93d8f44768b0347ac9" category="paragraph"><block ref="356deb49e1f467d08b44b652f9142bf7" prefix="" category="inline-code"></block></block>
  <block id="b85c80e2af7e3d7dd06b874ed048d430" category="paragraph"><block ref="8c571642f53375f821000f29997e428c" prefix="" category="inline-code"></block></block>
  <block id="b163c84ad8a4e55a17b51aad8074093e" category="list-text">Certifique-se de que<block ref="356cb36dc1c54ae3f8a7c332c76d7edd" prefix=" " category="inline-code"></block> e<block ref="452b142235e718663e27bc4f162c14ca" prefix=" " category="inline-code"></block> estão ativados e em execução:</block>
  <block id="8741473f7a80f4dd83071161b2c95301" category="paragraph"><block ref="daa257652291f43fa0c62f6c3656e185" prefix="" category="inline-code"></block><block ref="cbad0eebae2baf0530982755ce9242bf" prefix=" " category="inline-code"></block><block ref="898e75aedea224bb0922104b3055fb42" prefix=" " category="inline-code"></block></block>
  <block id="2358ca3eef46b0e25466e80dbea7ea4b" category="summary">Consulte as opções de configuração disponíveis para suas configurações do Astra Trident.</block>
  <block id="34e1f7eb303c0a150cd440611b3b5e24" category="doc">Opções de configuração de armazenamento</block>
  <block id="51f834b47bcd78a0f4f40fd8ca40446f" category="section-title">Opções de configuração global</block>
  <block id="b22d82aea9557ba6aa7b915d40309d9b" category="paragraph">Essas opções de configuração se aplicam a todas as configurações do Astra Trident, independentemente da plataforma de storage usada.</block>
  <block id="054b4f3ea543c990f6b125f41af6ebf7" category="cell">Opção</block>
  <block id="b5a7adde1af5c87d7fd797b6245c2a39" category="cell">Descrição</block>
  <block id="7877022c956918624cc0373ff564cad4" category="cell"><block ref="2af72f100c356273d46284f6fd1dfc08" prefix="" category="inline-code"></block></block>
  <block id="63b276a6c28274ed5e553d4ce3fe7eb1" category="paragraph">Número da versão do ficheiro de configuração</block>
  <block id="2fc042d3545f5ad7df1999c9e5486176" category="paragraph"><block ref="c4ca4238a0b923820dcc509a6f75849b" prefix="" category="inline-code"></block></block>
  <block id="868dff7060d78b6417dc8e065eca8374" category="cell"><block ref="d45aebe724c55b101f2ae8924ba3d486" prefix="" category="inline-code"></block></block>
  <block id="ac5eb8fcbd1ed9c85a98d91e10e26a38" category="paragraph">Nome do driver de armazenamento</block>
  <block id="bba4e1b8d8614fe9da2d67e2dcef4b52" category="paragraph"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>, ,<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block><block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> , , ,<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block></block>
  <block id="c08068da3c5d19547544c4bd424a6b76" category="cell"><block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix="" category="inline-code"></block></block>
  <block id="7ff5348ddee6132fe7c166b8b7917cc0" category="paragraph">Prefixo opcional para nomes de volume. Padrão:<block ref="689ee6510c7f9ef9df1c263a08823d96" prefix=" " category="inline-code"></block>.</block>
  <block id="81998bdb6c3f52ba69dbecf0ec513180" category="paragraph"><block ref="46fa46eed970046d03e2dedc95cdc83b" prefix="" category="inline-code"></block></block>
  <block id="91590ee78f1b4751284f4f9ea80cfe86" category="cell"><block ref="e083f2ed1275af0ce4336a068ebee72a" prefix="" category="inline-code"></block></block>
  <block id="fcf783284187f1e80e772eacd9266ee1" category="paragraph">Restrição opcional nos tamanhos de volume. Padrão: "" (não aplicado)</block>
  <block id="5d8040f7ca409e3993359a877f675e59" category="paragraph"><block ref="75da9d6de91e782eca4fa00341367135" prefix="" category="inline-code"></block></block>
  <block id="3eed2a7dac1f2329f3a9574a68e5e1c4" category="admonition">Não use<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> (incluindo o padrão) para backends de elemento. Por padrão, o<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver ignorará essa configuração e não usará um prefixo. Recomendamos usar um tenantID específico para mapeamento de volume do Docker ou usar os dados de atributo que são preenchidos com a versão do Docker, informações de driver e nome bruto do Docker nos casos em que qualquer nome munging pode ter sido usado.</block>
  <block id="0863f9e97e159e3ea1ce46bdb49b1254" category="paragraph">As opções padrão estão disponíveis para evitar ter que especificá-las em cada volume criado. A<block ref="f7bd60b75b29d79b660a2859395c1a24" prefix=" " category="inline-code"></block> opção está disponível para todos os tipos de controlador. Consulte a seção Configuração do ONTAP para obter um exemplo de como definir o tamanho padrão do volume.</block>
  <block id="a48a8458539e489328f4d6d3fc0ee288" category="cell"><block ref="f7bd60b75b29d79b660a2859395c1a24" prefix="" category="inline-code"></block></block>
  <block id="9548d4d33e26f6bbe564b4eb47a52e4b" category="paragraph">Tamanho padrão opcional para novos volumes. Predefinição:<block ref="7d0f45b4b1cf6603762c74ca39c833dd" prefix=" " category="inline-code"></block></block>
  <block id="dfda6aac7ee732ec79153da76a0e963a" category="paragraph"><block ref="08aa1584c9a5791fb64b0f7f1453f9eb" prefix="" category="inline-code"></block></block>
  <block id="0353522b39b87d54d40d3f09ec668851" category="section-title">Configuração ONTAP</block>
  <block id="cd536bce1bed61366e8d17a85fe6678a" category="paragraph">Além dos valores de configuração global acima, ao usar o ONTAP, as seguintes opções de nível superior estão disponíveis.</block>
  <block id="07c54fe26be1e43601e99cd9d4fbe262" category="cell"><block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix="" category="inline-code"></block></block>
  <block id="464779f3491153dd1e79ddbd8a81e3f0" category="paragraph">Endereço IP do ONTAP Management LIF. Você pode especificar um nome de domínio totalmente qualificado (FQDN).</block>
  <block id="b6d628512c1127da9adb6c459c9f7c95" category="paragraph"><block ref="190dafab69706a67221c1226360de7dc" prefix="" category="inline-code"></block></block>
  <block id="bd81db53971fda3e688447b28c747d1a" category="cell"><block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix="" category="inline-code"></block></block>
  <block id="c95cada2a569592345ebc18e5ef4c7aa" category="paragraph">Endereço IP do protocolo LIF.</block>
  <block id="8d9cb98e50e02ba3850a7ebcaeccc076" category="paragraph">* ONTAP nas drivers*: Recomendamos especificar<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>. Se não for fornecido, o Astra Trident obtém LIFs de dados do SVM. Você pode especificar um nome de domínio totalmente qualificado (FQDN) a ser usado para as operações de montagem NFS, permitindo que você crie um DNS de round-robin para balanceamento de carga em vários LIFs de dados.</block>
  <block id="d26c127ab3dc860f4758d7b6a9b70413" category="paragraph">*Drivers SAN ONTAP*: Não especifique para iSCSI. O Astra Trident usa <block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block> para descobrir os LIFs iSCI necessários para estabelecer uma sessão de vários caminhos. Um aviso é gerado se<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> for definido explicitamente.</block>
  <block id="251296d0166ace97771b155156985b38" category="paragraph"><block ref="98a2cd7efa1ba950d42e42af495c4248" prefix="" category="inline-code"></block></block>
  <block id="afc423de2be5ca5ab3a6ae9548bbfcf3" category="cell"><block ref="924ff83ff1e671bacfb07ff12b845703" prefix="" category="inline-code"></block></block>
  <block id="11053eb2b6ac6e8802c67c054cf55ad9" category="paragraph">Máquina virtual de armazenamento a utilizar (necessária, se o LIF de gestão for um LIF de cluster)</block>
  <block id="9fcbfb18564773bb1604cf400912944c" category="paragraph"><block ref="b26399fddd6473c150b4e7528fb04fdc" prefix="" category="inline-code"></block></block>
  <block id="6d77646a2fd9ab65f8e3344d7dce661a" category="cell"><block ref="14c4b06b824ec593239362517f538b29" prefix="" category="inline-code"></block></block>
  <block id="723a179bbb9fc3c4f12cf296a8841b27" category="paragraph">Nome de utilizador para ligar ao dispositivo de armazenamento</block>
  <block id="8131d179a4284fbb0ed410bbbbcf1eb6" category="paragraph"><block ref="6173aa5206484b5224450952747c7148" prefix="" category="inline-code"></block></block>
  <block id="6aa91a7fbb8c9edcf4aa5f9411aec19c" category="cell"><block ref="5f4dcc3b5aa765d61d8327deb882cf99" prefix="" category="inline-code"></block></block>
  <block id="8cf10281cf3b9290d5988c57a7d19693" category="paragraph">Palavra-passe para ligar ao dispositivo de armazenamento</block>
  <block id="c4dc9cb5606cc8c0597a5c8f1f77b005" category="paragraph"><block ref="5ebe2294ecd0e0f08eab7690d2a6ee69" prefix="" category="inline-code"></block></block>
  <block id="7e6d207f2b120c6cc9caa98510aa51c6" category="cell"><block ref="39adbeb6bc21a3133e5fdcf1ec05d1a0" prefix="" category="inline-code"></block></block>
  <block id="ac53191a99c328660eafa4696375dbfb" category="paragraph">Agregado para provisionamento (opcional; se definido, deve ser atribuído ao SVM). Para<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> o driver, essa opção é ignorada. Todos os agregados atribuídos ao SVM são usados para provisionar um volume FlexGroup.</block>
  <block id="fc3424ba1777889d0d49ea7f5a675c9e" category="paragraph"><block ref="70d2c7701d2837552c0a38c02a326592" prefix="" category="inline-code"></block></block>
  <block id="12d2394af47293b12d6b5f411f99a6d1" category="cell"><block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix="" category="inline-code"></block></block>
  <block id="925060a0c0a15f99ef1bee43f1660ea4" category="paragraph">Opcional, falha no provisionamento se o uso estiver acima dessa porcentagem</block>
  <block id="e84b7103384d0a3393c0847330716669" category="paragraph"><block ref="f819de81247be4a5428dc0e169de28b8" prefix="" category="inline-code"></block></block>
  <block id="2b45af5c768d7b2495ef631c991ecd78" category="cell"><block ref="e477739f39dbd2f1e1c5268912135e92" prefix="" category="inline-code"></block></block>
  <block id="876885770cf58d20ef5672cc5594e85d" category="inline-link">Consulte as informações de configuração do host NFS aqui</block>
  <block id="0a19ca3d1db7e5bc24b58f73b91c3f49" category="paragraph">Controle refinado das opções de montagem NFS; o padrão é "-o nfsvers 3". *Disponível apenas para os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> condutores e<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>*.<block ref="71f7a3f48cfd3876cffba401813b7db0" category="inline-link-rx"></block>.</block>
  <block id="7dd39afeb1c0b05aac5f4bf6fbd94990" category="paragraph"><block ref="301c869c551e12d862ab0291837102a0" prefix="" category="inline-code"></block></block>
  <block id="3b890f58db76bb3003ada171cd18c4db" category="cell"><block ref="9d8592d88bbb76c68c01d830f091dacc" prefix="" category="inline-code"></block></block>
  <block id="8e523fab738ccb6504fc60551cbaefdf" category="paragraph">O Astra Trident cria e gerencia por nó<block ref="58f3779afe9da9ffdc085dc3064306f7" prefix=" " category="inline-code"></block><block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix=" " category="inline-code"></block> como .</block>
  <block id="0ee19d4be17e297cfb39c398cb268b5e" category="paragraph">Este valor não pode ser alterado ou omitido.</block>
  <block id="07d41595da50d0c332f22902db2f76d8" category="paragraph">*Disponível apenas para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> o condutor*.</block>
  <block id="684a16b15a51568bcdd546607176bd57" category="paragraph"><block ref="e77a1bd34ff5793aca292b38d23bc2c9" prefix="" category="inline-code"></block></block>
  <block id="5c5adadf8175fd69d4af9bfdb608c42c" category="paragraph">Tamanho máximo do volume requestable e tamanho do volume pai de qtree. *Para o<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> driver, essa opção limita adicionalmente o tamanho dos FlexVols que ele cria*.</block>
  <block id="98ce75f2128e52057c9dbf00a9eb2736" category="paragraph"><block ref="f07e606cfe25ac6fb07d9c4af941d9a2" prefix="" category="inline-code"></block></block>
  <block id="07f6b23cad3d6da54012935ff972affe" category="cell"><block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix="" category="inline-code"></block></block>
  <block id="981ba910eb0ffc42f42059de056624b4" category="paragraph">Qtrees máximos por FlexVol, tem de estar no intervalo [50, 300], o padrão é 200. *Para<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> o driver, esta opção permite personalizar o número máximo de qtrees por FlexVol*.</block>
  <block id="1ae6e291c93a6d5962af8004aecd9c4c" category="paragraph"><block ref="94f6d7e04a4d452035300f18b984988c" prefix="" category="inline-code"></block></block>
  <block id="3890063556e337d458019437f027030b" category="paragraph">As opções padrão estão disponíveis para evitar ter que especificá-las em cada volume criado:</block>
  <block id="a6bddf19eed00dbe2199864dee8454ce" category="cell"><block ref="cae77b049bf504af7afc43b99b6c5213" prefix="" category="inline-code"></block></block>
  <block id="af2bffb136dd0c22342ad9cb06187197" category="paragraph">Modo de reserva de espaço;<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block> (thin Provisioning) ou<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block> (thick)</block>
  <block id="56d058c51fcd79545706c62569ba5a19" category="paragraph"><block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix="" category="inline-code"></block></block>
  <block id="0ec3875cf79264e4689a646be2f704b6" category="cell"><block ref="0a236e7685e50a59df980d0a30929d6c" prefix="" category="inline-code"></block></block>
  <block id="7f0d015762fc8e2b44f0ad1cd5429af5" category="paragraph">Política de instantâneos a utilizar, a predefinição é<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="7556d5a1b0c5f68b7cb5aedaa3156008" category="cell"><block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix="" category="inline-code"></block></block>
  <block id="0b89124cc899d4e75924c83a9eaf86ce" category="paragraph">O padrão é "" para aceitar o padrão ONTAP</block>
  <block id="11663b17d5bcea48dbfb36b13965663b" category="paragraph"><block ref="d3d9446802a44259755d38e6d163e820" prefix="" category="inline-code"></block></block>
  <block id="4be01095ce6e500084fc427e5dec61ac" category="cell"><block ref="58c1c86186ef8de4f6e12d8f3aed8b64" prefix="" category="inline-code"></block></block>
  <block id="871c12a80dbc519da4b71b3ea166cdc4" category="paragraph">Divida um clone de seu pai na criação, o padrão é<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block></block>
  <block id="249091efa412cf5e332461c484b979d0" category="paragraph"><block ref="68934a3e9455fa72420237eb05902327" prefix="" category="inline-code"></block></block>
  <block id="b091cbafedf94db98f17823d044434bd" category="cell"><block ref="5bdf74912a51c34815f11e9a3d20b609" prefix="" category="inline-code"></block></block>
  <block id="2bc97a247278d92f5552529c55ab7f0d" category="paragraph">Ativa a criptografia de volume NetApp (NVE) no novo volume; o padrão é<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>. O NVE deve ser licenciado e habilitado no cluster para usar essa opção.</block>
  <block id="1811ba2842625864e8f6233e19051566" category="paragraph">Se o NAE estiver ativado no back-end, qualquer volume provisionado no Astra Trident será o NAE ativado.</block>
  <block id="cd6eb5bfdf9299ea3a76e2eb822c8293" category="paragraph">Para obter mais informações, consulte: <block ref="00deada136b55f176f599153703cf50d" category="inline-link-macro-rx"></block>.</block>
  <block id="b326b5062b2f0e69046810717534cb09" category="paragraph">verdadeiro</block>
  <block id="ce46e8f3fc6eaddbe03115e0d62090ac" category="cell"><block ref="c005e78d4bd808038335c32dd84cf7da" prefix="" category="inline-code"></block></block>
  <block id="290cc6c07ae2ba0a638720a38f1356ed" category="paragraph">Opção nas para volumes NFS provisionados, o padrão é<block ref="f1c1592588411002af340cbaedd6fc33" prefix=" " category="inline-code"></block></block>
  <block id="8dfb6d491cffb51a17396f993c195d8b" category="paragraph"><block ref="f1c1592588411002af340cbaedd6fc33" prefix="" category="inline-code"></block></block>
  <block id="ce8f82152151ae2aadaec166eca744a9" category="cell"><block ref="7ad68fdac2eac069eb8ed0fc45b0fb74" prefix="" category="inline-code"></block></block>
  <block id="b7655e29a015ee3721339f8462d5d2b6" category="paragraph">Opção nas para acesso ao<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> diretório, o padrão é<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block></block>
  <block id="22cfef4d87bd251ba39dd92d08a6b0bb" category="paragraph"><block ref="b326b5062b2f0e69046810717534cb09" prefix="" category="inline-code"></block></block>
  <block id="e59001176f4360988f5d774a8405b4b9" category="cell"><block ref="647ce4e5394e2e595e46b4fc50a628e9" prefix="" category="inline-code"></block></block>
  <block id="1667ea9b715250d5f295353e97cde10e" category="paragraph">A opção nas para a política de exportação NFS a usar, o padrão é<block ref="c21f969b5f03d33d43e04f8f136e7682" prefix=" " category="inline-code"></block></block>
  <block id="980ef1c1aa7d1456ee087df02119341e" category="paragraph"><block ref="c21f969b5f03d33d43e04f8f136e7682" prefix="" category="inline-code"></block></block>
  <block id="a463baaf6666da7178b6fc6a3c8a3fee" category="cell"><block ref="f7f695c763ad0e0ba03c2ff9cbcfcb3d" prefix="" category="inline-code"></block></block>
  <block id="f5d176b3de4662ca3603a69ab08bc166" category="paragraph">Opção nas para acesso ao volume NFS provisionado.</block>
  <block id="053b422d907cb55ac105c173adde1080" category="paragraph">Estilos de segurança e<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block> suporte de NFS<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>. A predefinição é<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>.</block>
  <block id="69f25314e2d927ebcaa0f19c9f2a57da" category="paragraph"><block ref="4913a9178621eadcdf191db17915fbcb" prefix="" category="inline-code"></block></block>
  <block id="3184b1a9846944fabb00496c4b6b613a" category="cell"><block ref="23030324c640b4b47b8381c02456649a" prefix="" category="inline-code"></block></block>
  <block id="19d28ffef37322622a55f9d7f1f9fa59" category="paragraph">Opção SAN para selecionar o tipo de sistema de arquivos, o padrão é<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block></block>
  <block id="c90caaafbe0da0287b6a84f0894fa40b" category="paragraph"><block ref="310201b6353c5f38bc039e0e51b079d3" prefix="" category="inline-code"></block></block>
  <block id="31aa018945eb62580d68d360cba8ba54" category="cell"><block ref="a3e48f0594dda6037d37d52d343489b0" prefix="" category="inline-code"></block></block>
  <block id="6cd4bb7e4d59531066c198c531ea267a" category="paragraph">A política de disposição em categorias a usar, o padrão é<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>;<block ref="8805d416ce540c5f2df34af5b18d742b" prefix=" " category="inline-code"></block> para a configuração pré-ONTAP 9.5 SVM-DR</block>
  <block id="90adf331b7868c7af46ad6e035e93844" category="section-title">Opções de dimensionamento</block>
  <block id="493a6606c4789fad3c7317b99cb563d0" category="paragraph">Os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers e<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> criam um ONTAP FlexVol para cada volume do Docker. O ONTAP dá suporte a até 1000 FlexVols por nó de cluster com um máximo de cluster de 12.000 FlexVols. Se os requisitos de volume do Docker se ajustarem a essa limitação,<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> o driver será a solução nas preferida devido aos recursos adicionais oferecidos pelo FlexVols, como snapshots Docker volume granular e clonagem.</block>
  <block id="b8f30e4086b754ccaf7bd5d01d8df137" category="paragraph">Se você precisar de mais volumes do Docker do que pode ser acomodado pelos limites do FlexVol, escolha o<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ou o<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> driver.</block>
  <block id="50710f3a4715e3f874848944b6b54e28" category="paragraph"><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>O driver cria volumes do Docker como Qtrees do ONTAP em um pool de FlexVols gerenciados automaticamente. As Qtrees oferecem dimensionamento muito maior, até 100.000 PB por nó de cluster e 2.400.000 PB por cluster, à custa de alguns recursos. <block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>O driver não oferece suporte a snapshots ou clonagem granular de volume do Docker.</block>
  <block id="0c8b91c6c2ba9c892f3eea2cd9c86cd1" category="admonition">No momento, o<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> driver não é compatível com o Docker Swarm, porque o Swarm não orquestra a criação de volume em vários nós.</block>
  <block id="5849dbe631db5b1e1b365f9f2f84ff60" category="paragraph"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>O driver cria volumes do Docker como LUNs ONTAP em um pool compartilhado de FlexVols gerenciados automaticamente. Dessa forma, cada FlexVol não se restringe a apenas um LUN e oferece melhor escalabilidade para workloads SAN. Dependendo do storage array, o ONTAP oferece suporte para até 16384 LUNs por cluster. Como os volumes são LUNs abaixo, esse driver oferece suporte a snapshots e clonagem granular do Docker volume.</block>
  <block id="65e92c8f7fa9750b795cc1046328cf06" category="paragraph">Escolha o<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> driver para aumentar o paralelismo para um único volume que pode crescer para o intervalo de petabytes com bilhões de arquivos. Alguns casos de uso ideais para FlexGroups incluem IA/ML/DL, big data e análise, compilações de software, streaming, repositórios de arquivos e assim por diante. O Trident usa todos os agregados atribuídos a uma SVM ao provisionar um volume FlexGroup. O suporte do FlexGroup no Trident também tem as seguintes considerações:</block>
  <block id="9d83b6d2e2b099e63bf8e2fc8c870893" category="list-text">Requer ONTAP versão 9,2 ou superior.</block>
  <block id="e7c74973b26ad51b9db42a9c347a8cd4" category="list-text">A partir desta redação, FlexGroups só suportam NFS v3.</block>
  <block id="02a100b04add3b90fddef64499e825a2" category="list-text">Recomendado para ativar os identificadores NFSv3 de 64 bits para o SVM.</block>
  <block id="496f8625569b787269edab0f3de973da" category="list-text">O tamanho mínimo recomendado de FlexGroup é 100GB.</block>
  <block id="db78b2a7acf43fa03cd95fb3a77c82f9" category="list-text">A clonagem não é compatível com volumes FlexGroup.</block>
  <block id="f5ac1e3c252855373c7f660dbd89699d" category="inline-link">Guia de práticas recomendadas e implementação de volumes do NetApp FlexGroup</block>
  <block id="df1a7e79743809601db1d20d6a33ae52" category="paragraph">Para obter informações sobre FlexGroups e cargas de trabalho apropriadas para FlexGroups, consulte<block ref="b8a99695d7979127a1cab07b42e22743" category="inline-link-rx"></block>.</block>
  <block id="b30b6b60171d85877ea91897bdd6faed" category="paragraph">Para obter recursos avançados e grande escala no mesmo ambiente, você pode executar várias instâncias do Docker volume Plugin, com uma usando<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> e outra usando<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>o .</block>
  <block id="0c0f6724044ed44fb85d2ce3193cb7c3" category="section-title">Exemplo de arquivos de configuração do ONTAP</block>
  <block id="9420b5e8ed08a163eeafb1d5026f74be" category="paragraph">*Exemplo de NFS para<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> driver*</block>
  <block id="c26e7b2e60e156979940cd72ed83d0b9" category="paragraph">*Exemplo de NFS para<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> driver*</block>
  <block id="3a57e82fd5f9855754a03019c433aff7" category="paragraph">*Exemplo de NFS para<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> driver*</block>
  <block id="2bfad97b56e71c619e45f6d4c2e4c2e2" category="paragraph">*Exemplo iSCSI para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> driver*</block>
  <block id="98f803effb81ad687bcd941b70439aaa" category="paragraph">*Exemplo de NFS para<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> driver*</block>
  <block id="ffe54c343031d16e77db73e2d950e277" category="section-title">Configuração do software Element</block>
  <block id="3afcd136a7bffa20fc39ba6581412cd2" category="paragraph">Além dos valores de configuração global, ao usar o software Element (NetApp HCI/SolidFire), essas opções estão disponíveis.</block>
  <block id="06981b2729b4b522b21d903c7738a2ca" category="cell"><block ref="2a6ba72e93aa7fa676d07973ed2716bb" prefix="" category="inline-code"></block></block>
  <block id="31b1d21fc5180ec9a5b3d9d7d5ce3295" category="paragraph">/&lt;login&gt;:&lt;password&gt;/&lt;mvip&gt;/json-rpc/&lt;element-version&gt;</block>
  <block id="8eadd25d5b4b5d0637cc13cd7349ce5d" category="paragraph">\https://admin:admin@192.168.160.3/json-rpc/8.0</block>
  <block id="955f5caa2495689258902533d1a6cd44" category="cell"><block ref="dcda39e13b00bf6bd40a507e1833a6f5" prefix="" category="inline-code"></block></block>
  <block id="c61f15977fe4efa0866eea87fb740cda" category="paragraph">Endereço IP iSCSI e porta</block>
  <block id="6a6b63874c664c103982f6d422c6384e" category="paragraph">10,0.0,7:3260</block>
  <block id="4e25fe4a614b527d9b3d89ee6abe5d35" category="cell"><block ref="2e9183e3f034dbf1322a3385f151456e" prefix="" category="inline-code"></block></block>
  <block id="72deb2676231ab8e068ef60dd89edd4c" category="paragraph">Locatário do SolidFireF para usar (criado se não for encontrado)</block>
  <block id="c1fd85851a162222ab0690383666bd47" category="paragraph"><block ref="05b6053c41a2130afd6fc3b158bda4e6" prefix="" category="inline-code"></block></block>
  <block id="f016e2c01f2bafa45e6b537d49f0f9da" category="cell"><block ref="b3a3a10e13e242e0f148e510ddf12402" prefix="" category="inline-code"></block></block>
  <block id="d2672389886b173aef703433f7e4b89b" category="paragraph">Especifique a interface ao restringir o tráfego iSCSI a uma interface não predefinida</block>
  <block id="26194deaf50c44db6eb5983237bdaf25" category="cell"><block ref="f2d346b1bb7c1c85ab6f7f21e3666b9f" prefix="" category="inline-code"></block></block>
  <block id="ee1aea1de97320ad8e98436f68b01b4a" category="paragraph">Especificações de QoS</block>
  <block id="5935dcd024929bc7086bb230802bf576" category="paragraph">Veja o exemplo abaixo</block>
  <block id="5e9bf55f849ccc5a31a50d1fa784d28c" category="cell"><block ref="8630b9e1983d8c4672fc7b4a8770c637" prefix="" category="inline-code"></block></block>
  <block id="db7adc3775b0b56c59ce4263fbd79fbf" category="paragraph">Prefixo para instalações Trident atualizadas. Se você usou uma versão do Trident anterior a 1.3.2 e fez uma atualização com volumes existentes, precisará definir esse valor para acessar seus volumes antigos que foram mapeados pelo método de nome de volume.</block>
  <block id="bf0a8b77dbb95465376fb2cfec90b422" category="paragraph"><block ref="76bb7251da6a3c88e629c03a402b9d15" prefix="" category="inline-code"></block></block>
  <block id="36f9c7b615268efec7f4c56c387a55bb" category="paragraph">O<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver não suporta Docker Swarm.</block>
  <block id="1059bb8540c48e6b455e802384bad65d" category="section-title">Exemplo de arquivo de configuração de software Element</block>
  <block id="27dce2b92c5c5b89e353888e6cb24dea" category="summary">Você pode atualizar com segurança o Astra Trident para Docker sem qualquer impacto nos volumes que estão em uso. Durante o processo de atualização, haverá um breve período em que<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block> os comandos direcionados para o plugin não serão bem-sucedidos, e os aplicativos não poderão montar volumes até que o plugin esteja sendo executado novamente. Na maioria das circunstâncias, esta é uma questão de segundos.</block>
  <block id="0350c5473efd300324aaaadeecc676d2" category="doc">Atualize ou desinstale o Astra Trident</block>
  <block id="f683581d3e75f05f9d9215f9b4696cef" category="section-title">Atualização</block>
  <block id="5a1345d94751fc14bedf8f6f5e77a0ff" category="paragraph">Execute as etapas abaixo para atualizar o Astra Trident para Docker.</block>
  <block id="ed279061e829314cb0dc7a1708ca5e5b" category="list-text">Listar os volumes existentes:</block>
  <block id="7c256ad076320e18e087b238e9063f3f" category="list-text">Desativar o plugin:</block>
  <block id="f4ea3e4191f5bda0b91e08059bf9842a" category="list-text">Atualize o plugin:</block>
  <block id="b2449107a206e37587b47513f76a7b27" category="admonition">O lançamento de 18,01 do Astra Trident substitui o nDVP. Você deve atualizar diretamente da<block ref="86e913ca68bd85fc4edc0bd4588cdf55" prefix=" " category="inline-code"></block> imagem para a<block ref="c0324ebb59395a35956b35c5d0c7b285" prefix=" " category="inline-code"></block> imagem.</block>
  <block id="824ba648551a27da6c43705bcd663830" category="list-text">Ativar o plugin:</block>
  <block id="e4c48899ce42f4eb019f54a1a8e66560" category="list-text">Verifique se o plugin está ativado:</block>
  <block id="c4d884c606b57bb6cb43864e3499d5a2" category="list-text">Verifique se os volumes estão visíveis:</block>
  <block id="558ab0bef1894a7a726109d36632d09d" category="inline-link-macro">Problemas conhecidos</block>
  <block id="103e515a078c6f2419abc4c84554d67c" category="admonition">Se você estiver atualizando de uma versão antiga do Astra Trident (pré-20,10) para Astra Trident 20,10 ou posterior, talvez haja um erro. Para obter mais informações, <block ref="6d21ff1c2708107ac3f4ed1a6e27b449" category="inline-link-macro-rx"></block>consulte . Se você correr para o erro, você deve primeiro desativar o plugin, em seguida, remover o plugin e, em seguida, instalar a versão necessária do Astra Trident passando um parâmetro de configuração extra:<block ref="5be09dfb82e46451bc4cc62d83a8dafe" prefix=" " category="inline-code"></block></block>
  <block id="a27dfe771799a09fd55fea73286eb6ab" category="section-title">Desinstalar</block>
  <block id="7578be09dc225364649898a30619a336" category="paragraph">Execute as etapas abaixo para desinstalar o Astra Trident para Docker.</block>
  <block id="867d93c3d1de0e8e75fa408cfadcbba5" category="list-text">Remova todos os volumes criados pelo plugin.</block>
  <block id="4a28a108f39c07ac09218644ca6e9bb0" category="list-text">Remova o plugin:</block>
  <block id="0e9e734e557a02db30a20e5ac259cfb9" category="summary">Cada driver de armazenamento tem um conjunto diferente de opções, que você pode especificar no momento da criação do volume para personalizar o resultado. Veja abaixo as opções que se aplicam ao sistema de armazenamento configurado.</block>
  <block id="11e1b165c1d718d825f4bb9aaf0b884e" category="doc">Opções de volume específicas do condutor</block>
  <block id="bca0712c590c8d3c228bf1044aed730b" category="paragraph">Usar essas opções durante a operação de criação de volume é simples. Forneça a opção e o valor usando o<block ref="b2ed43620b7fff2689035f1e99c24ded" prefix=" " category="inline-code"></block> operador durante a operação CLI. Estes substituem quaisquer valores equivalentes do arquivo de configuração JSON.</block>
  <block id="6021d91bdededf94b8ae37c30e820118" category="section-title">Opções de volume ONTAP</block>
  <block id="16dc9caa069072a49db7ea7c81a7cf66" category="paragraph">As opções de criação de volume para NFS e iSCSI incluem o seguinte:</block>
  <block id="d3a07c97b6050b305c7dda0aea1657be" category="paragraph">O tamanho do volume, padrão é 1 GiB.</block>
  <block id="69e8c7b4f73d39cea9948875813f7ddd" category="paragraph">Provisionamento fino ou espesso do volume, o padrão é fino. Os valores válidos são<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block> (thin Provisioning) e<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block> (thick provisioned).</block>
  <block id="91853d7e2338a1395280185fc93d4650" category="paragraph">Isto irá definir a política de instantâneos para o valor pretendido. O padrão é<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>, o que significa que nenhum instantâneo será criado automaticamente para o volume. A menos que seja modificada pelo administrador de storage, existe uma política chamada "padrão" em todos os sistemas ONTAP, que cria e retém seis snapshots por hora, dois por dia e dois por semana. Os dados preservados em um snapshot podem ser recuperados navegando para<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> o diretório em qualquer diretório do volume.</block>
  <block id="b8a0fde33bd7662b7b9cb4158f04ef52" category="paragraph">Isto irá definir a reserva de instantâneos para a percentagem pretendida. O padrão não é nenhum valor, o que significa que o ONTAP selecionará o snapshotServe (geralmente 5%) se você selecionou uma política de snapshotPolicy, ou 0% se a política de snapshotPolicy não for nenhuma. Você pode definir o valor padrão snapshotServe no arquivo de configuração para todos os backends ONTAP, e você pode usá-lo como uma opção de criação de volume para todos os backends ONTAP, exceto ONTAP-nas-economy.</block>
  <block id="0625856b9dc58db03a6e2c49b1f029e3" category="paragraph">Ao clonar um volume, isso fará com que o ONTAP divida imediatamente o clone de seu pai. A predefinição é<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>. Alguns casos de uso para clonagem de volumes são melhor servidos dividindo o clone de seu pai imediatamente após a criação, porque é improvável que haja alguma oportunidade de eficiência de storage. Por exemplo, clonar um banco de dados vazio pode oferecer grande economia de tempo, mas pouca economia de armazenamento, por isso é melhor dividir o clone imediatamente.</block>
  <block id="911675212835161abe9bce3f33c70af0" category="paragraph">Ative a criptografia de volume do NetApp (NVE) no novo volume; o padrão é<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>. O NVE deve ser licenciado e habilitado no cluster para usar essa opção.</block>
  <block id="cdaf246fba737b75127faa65456baa30" category="paragraph">Define a política de disposição em categorias a ser usada para o volume. Isso decide se os dados são movidos para a categoria de nuvem quando ficam inativos (frios).</block>
  <block id="1c46d85ab16f6b373409ad15260b1b0a" category="paragraph">As seguintes opções adicionais são para NFS *somente*:</block>
  <block id="b145a4acc7a577d843f538580013776b" category="paragraph">Isso controla o conjunto de permissões para o próprio volume. Por padrão, as permissões serão definidas como<block ref="3bea04230b923e6ce984667e43456485" prefix=" " category="inline-code"></block>, ou em notação numérica 0755, e<block ref="63a9f0ea7bb98050796b649e85481845" prefix=" " category="inline-code"></block> serão o proprietário. O texto ou o formato numérico funcionarão.</block>
  <block id="76a4004d727b54162f2e0542094a89a3" category="paragraph">Definir isso como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> tornará o<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> diretório visível para os clientes que acessam o volume. O valor padrão é<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>, o que significa que a visibilidade<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> do diretório está desativada por padrão. Algumas imagens, por exemplo, a imagem oficial do MySQL, não funcionam como esperado quando o<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> diretório está visível.</block>
  <block id="700d608597316c75fc869190f51cff49" category="paragraph">Define a política de exportação a ser utilizada para o volume. A predefinição é<block ref="c21f969b5f03d33d43e04f8f136e7682" prefix=" " category="inline-code"></block>.</block>
  <block id="6b068a846d408b1d9ccd2c7220326b9d" category="paragraph">Define o estilo de segurança a ser usado para acesso ao volume. A predefinição é<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>. Os valores válidos são<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block> e<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>.</block>
  <block id="842aac52866a44b40a5733ce352cf6df" category="paragraph">As seguintes opções adicionais são para iSCSI *somente*:</block>
  <block id="56efcdcb9168adcb146b4d86bf55e99d" category="cell">Define o sistema de ficheiros utilizado para formatar volumes iSCSI. A predefinição é<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block>. Os valores válidos são<block ref="66f137c5dc684da2a6a65917c86edd67" prefix=" " category="inline-code"></block>,<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block>, e<block ref="310201b6353c5f38bc039e0e51b079d3" prefix=" " category="inline-code"></block>.</block>
  <block id="a0ee23c5b4cbd6a28a4143933891f927" category="cell"><block ref="45922ba6ba8428764f22ed06f814c762" prefix="" category="inline-code"></block></block>
  <block id="79686ba706c992e7385f0c5b28be8294" category="cell">Definir isso como<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> desativará o recurso de alocação de espaço do LUN. O valor padrão é<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o que significa que o ONTAP notifica o host quando o volume ficou sem espaço e o LUN no volume não pode aceitar gravações. Essa opção também permite que o ONTAP recupere espaço automaticamente quando o host exclui dados.</block>
  <block id="ff7c0fcd6a31e735a61c001f75426961" category="section-title">Exemplos</block>
  <block id="9e6d454a094b92b0132e48d2369debf5" category="paragraph">Veja os exemplos abaixo:</block>
  <block id="be1e1c94a5fc3bb66c2ae9425eeefbdb" category="list-text">Criar um volume 10GiBD:</block>
  <block id="a6490f19f59ecd8e4ed8634990ea366c" category="list-text">Criar um volume 100GiBD com instantâneos:</block>
  <block id="297d0d2fcc555e5037c8d251daf5a620" category="list-text">Crie um volume que tenha o bit setuid ativado:</block>
  <block id="6e31a0481f4f7e423abcde0bf31025c8" category="paragraph">O tamanho mínimo do volume é 20MiB.</block>
  <block id="a65684b0a191599ad968126dd65f2e9d" category="paragraph">Se a reserva de snapshot não for especificada e a política de snapshot for<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>, o Trident usará uma reserva de snapshot de 0%.</block>
  <block id="8c05fd71822bf85c290cef86db959f68" category="list-text">Criar um volume sem política de snapshot e sem reserva de snapshot:</block>
  <block id="d15d662af6e4417b0b7c134a84ed577c" category="list-text">Crie um volume sem política de snapshot e uma reserva de snapshot personalizada de 10%:</block>
  <block id="52a56a468f11c3298931c8e32c938e15" category="list-text">Crie um volume com uma política de snapshot e uma reserva de snapshot personalizada de 10%:</block>
  <block id="0a77fdb1c16069c98ebe6510137af9d2" category="list-text">Crie um volume com uma política de snapshot e aceite a reserva de snapshot padrão do ONTAP (geralmente 5%):</block>
  <block id="f6f813eaaff2b296a27b6bf051485d2b" category="section-title">Opções de volume do software Element</block>
  <block id="a514753df071ac540af065b659d1c65c" category="paragraph">As opções de software Element expõem as políticas de tamanho e qualidade do serviço (QoS) associadas ao volume. Quando o volume é criado, a política de QoS associada a ele é especificada usando a<block ref="efdd13397a4561d40713ef6bcddfc6e0" prefix=" " category="inline-code"></block> nomenclatura.</block>
  <block id="f201e088f13d93e3d12b3c0ef78dece3" category="paragraph">A primeira etapa para definir um nível de serviço QoS com o driver Element é criar pelo menos um tipo e especificar o IOPS mínimo, máximo e de pico associado a um nome no arquivo de configuração.</block>
  <block id="5cb7e4a4b6a51af0b5b09cb230b83422" category="paragraph">Outras opções de criação de volume de software Element incluem o seguinte:</block>
  <block id="8730c4572b866ffc01a4aefebc896555" category="paragraph">O tamanho do volume, padrão para 1GiB ou entrada de configuração ... "Padrões": 5G.</block>
  <block id="d52146098b8ecd83b888289a86e26d19" category="cell"><block ref="bcb398a5b9906c7313bb069518ecd7c1" prefix="" category="inline-code"></block></block>
  <block id="348ef18ccca06aa29547bd9ad87beebe" category="paragraph">Use 512 ou 4096, o padrão é 512 ou a entrada de configuração DefaultBlockSize.</block>
  <block id="1daf1c12549d6d3ae75c4d8d5f59d532" category="paragraph">Veja o seguinte arquivo de configuração de exemplo com definições de QoS:</block>
  <block id="7afe0c73e341cee7c90b4d4dda4600d9" category="paragraph">Na configuração acima, temos três definições de política: Bronze, prata e ouro. Esses nomes são arbitrários.</block>
  <block id="cb5b68dacb07bd02a5152bf4ad1de8c6" category="list-text">Criar um volume 10GiB Gold:</block>
  <block id="89014c611c13195dc852587ef9d2bb16" category="list-text">Criar um volume Bronze 100GiB:</block>
  <block id="fc96768681dcf6770119445ffe2537cd" category="summary">Para criar volumes, use os comandos padrão<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block> com o nome do driver Astra Trident especificado quando necessário.</block>
  <block id="feabbbf9b5afb31194daf0d8e3ff75dc" category="doc">Trabalhe com volumes</block>
  <block id="00e5ed77f92b42f144be7dfb7106bf10" category="paragraph">Você pode criar, clonar e remover volumes facilmente usando os comandos padrão<block ref="8609cd03fd6628c6bcc999242fa9f3aa" prefix=" " category="inline-code"></block> com o nome do driver Astra Trident especificado quando necessário.</block>
  <block id="dc88dce8ec264777b2f90ec0af744f43" category="section-title">Crie um volume</block>
  <block id="a32b09b1335e0afbb640a9412690680d" category="list-text">Crie um volume com um driver usando o nome padrão:</block>
  <block id="8b5708fe1297b9ca8b3be5b99bf29407" category="list-text">Criar um volume com uma instância específica do Astra Trident:</block>
  <block id="93da65a9fd0004d9477aeac024e08e15" category="inline-link-macro">opções</block>
  <block id="593e5c95e1adc19e8d81719c16b57bc1" category="admonition">Se você não especificar nenhum <block ref="3a0a40f90bfa29e0eb23418c553e5ef5" category="inline-link-macro-rx"></block>, os padrões para o driver serão usados.</block>
  <block id="1e1e2461d5dfd51f1ebd0eadcba142f4" category="list-text">Substituir o tamanho de volume predefinido. Veja o exemplo a seguir para criar um volume 20GiB com um driver:</block>
  <block id="5149eec9d959a54cf392efaa710541d1" category="admonition">Os tamanhos de volume são expressos como strings contendo um valor inteiro com unidades opcionais (exemplo: 10g, 20GB, 3TiB). Se nenhuma unidade for especificada, o padrão é G. as unidades de tamanho podem ser expressas como potências de 2 (B, KiB, MIB, GiB, TIB) ou potências de 10 (B, KB, MB, GB, TB). As unidades shorthand usam poderes de 2 (G GiB, T TIB,...).</block>
  <block id="9bc129eac7adf7ea5d8ed1c021fab2dc" category="section-title">Remova um volume</block>
  <block id="281a0f40363a276c6ec125244c784112" category="list-text">Remova o volume como qualquer outro volume do Docker:</block>
  <block id="7959e3701f7a7fba7713c7530d496324" category="admonition">Ao utilizar o<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> controlador, o exemplo acima elimina e elimina o volume.</block>
  <block id="d50044469c0bf9ab38eff9cf7243fb25" category="section-title">Clonar um volume</block>
  <block id="6798a0701cedf1202e1d70210a3a9a83" category="paragraph">Ao usar o<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>,<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>, ,<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> e<block ref="a3e1af20cc594d726b1beb3d184dcf26" prefix=" " category="inline-code"></block>, o Astra Trident pode clonar volumes. Ao usar os<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> drivers ou<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>, a clonagem não é suportada. Criar um novo volume a partir de um volume existente resultará na criação de um novo instantâneo.</block>
  <block id="9374b766b9dd78063440afd69afabf38" category="list-text">Inspecione o volume para enumerar instantâneos:</block>
  <block id="2747096689037792fa87de7a0e8440e2" category="list-text">Crie um novo volume a partir de um volume existente. Isso resultará na criação de um novo snapshot:</block>
  <block id="31d9b5ed201aa44dbeae6d17d38c0c6f" category="list-text">Criar um novo volume a partir de um instantâneo existente em um volume. Isso não criará um novo snapshot:</block>
  <block id="516b30a46da41c6969cb7249d6567905" category="section-title">Acesse volumes criados externamente</block>
  <block id="d8c20bb137be94fec8295c3fc5175b54" category="paragraph">Você pode acessar dispositivos de bloco criados externamente (ou seus clones) por contentores usando Trident *only* se eles não tiverem partições e se seu sistema de arquivos for suportado pelo Astra Trident (por exemplo: Um<block ref="40d1d2ce03569076bd0dc1e0ff90aa4c" prefix=" " category="inline-code"></block>-formatado<block ref="1f986d7f0f42932dbaaf84475f63ea7a" prefix=" " category="inline-code"></block> não será acessível via Astra Trident).</block>
  <block id="38b6e376f2701385062dee4bb00e03d2" category="summary">Você pode usar o instalador do Astra Trident para personalizar a implantação.</block>
  <block id="3c70f31b6cfd2fccfef3e715c4c4cabb" category="doc">Personalize a instalação do tridentctl</block>
  <block id="1925260c2cac73df14e8b004bfbabd67" category="paragraph">Você pode usar o instalador do Astra Trident para personalizar a instalação.</block>
  <block id="0dabff490bbf6c7e308950959cc5a024" category="section-title">Saiba mais sobre o instalador</block>
  <block id="1637137b97f70f3de86dbf02ba8c262b" category="paragraph">O instalador do Astra Trident permite personalizar atributos. Por exemplo, se você tiver copiado a imagem Trident para um repositório privado, poderá especificar o nome da imagem<block ref="00e6ff45e8bcc6b9e35e9c68d8d5135c" prefix=" " category="inline-code"></block> usando o . Se você copiou a imagem do Trident, bem como as imagens do sidecar do CSI necessárias para um repositório privado, pode ser preferível especificar a localização desse repositório usando o<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block> switch, que assume o formulário<block ref="c4c34dc2c7d5cb25c084ca11127ba1c6" prefix=" " category="inline-code"></block>.</block>
  <block id="8355509d170c8a61d236e927a5fcc6e2" category="paragraph">Se você estiver usando uma distribuição do Kubernetes, onde<block ref="703e9c640b9e3ea630f6687938e43c9a" prefix=" " category="inline-code"></block> mantém seus dados em um caminho diferente do habitual<block ref="bc5cffcf9f10f624d02ae2efb8215dc5" prefix=" " category="inline-code"></block>, você poderá especificar o caminho alternativo usando<block ref="4009da7ed740211f32d29441deab875e" prefix=" " category="inline-code"></block>o .</block>
  <block id="47cd697cf3c9dcf916f70a0007956c1d" category="paragraph">Se você precisar personalizar a instalação além do que os argumentos do instalador permitem, você também pode personalizar os arquivos de implantação. Usando o<block ref="5de93c87952cd098700fb8d46daed4d6" prefix=" " category="inline-code"></block> parâmetro cria os seguintes arquivos YAML no diretório do instalador<block ref="a0f848942ce863cf53c0fa6cc684007d" prefix=" " category="inline-code"></block>:</block>
  <block id="0858f0ee003d52951161848adffe1b31" category="list-text"><block ref="d67d2c9d865b587d65b2e63c78c1cfa0" prefix="" category="inline-code"></block></block>
  <block id="af73689aedfa47bd2a7cf144917b0642" category="list-text"><block ref="eb6cdeddd28243c1552ea3b1061b4410" prefix="" category="inline-code"></block></block>
  <block id="1d53fd876245951bb003eb47849ff39d" category="list-text"><block ref="91696b9b3532f20cd7fb80573a7425d4" prefix="" category="inline-code"></block></block>
  <block id="b17dbe8acaeca82c72d25948de03eefc" category="list-text"><block ref="c1484787d70c4ea99f3bd377937ea020" prefix="" category="inline-code"></block></block>
  <block id="ecb2b56a094cc1cbd3ac263b23d91f8b" category="list-text"><block ref="9f6c6212091d8eef52ff63c5e58f70e8" prefix="" category="inline-code"></block></block>
  <block id="c5e462ae653234d0ea0e98a000e62a97" category="list-text"><block ref="b4d153fcc8c4c7bed016796085d6abd1" prefix="" category="inline-code"></block></block>
  <block id="f1347677de6873f8ddce6d736cba9a63" category="list-text"><block ref="ec3914518572122d25969da6b4b66fcc" prefix="" category="inline-code"></block></block>
  <block id="2539c7e25ada2a2cdae0eb4c4633b893" category="list-text"><block ref="3f7046611d8d5f8ed666a93ae7a61ae7" prefix="" category="inline-code"></block></block>
  <block id="702fa57eedc6ee8490a7294016f8b14f" category="list-text"><block ref="1a368feb8bb72ef66bb194b43d0a15b3" prefix="" category="inline-code"></block></block>
  <block id="385d099ed91e83dbe20ea05fbed68e22" category="paragraph">Depois de gerar esses arquivos, você pode modificá-los de acordo com suas necessidades e, em seguida, usá-los<block ref="8026926641b283123174e50f80da83de" prefix=" " category="inline-code"></block> para instalar sua implantação personalizada.</block>
  <block id="13c852fce58f7c6981fa0a952dcd76af" category="summary">O operador Trident permite personalizar a maneira como o Astra Trident é instalado usando os atributos na<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> especificação.</block>
  <block id="2f6c694f9d016c7193ece4853c402d96" category="doc">Personalizar a instalação do operador Trident</block>
  <block id="705dbdc50888270bf4b0230d75c7ae1d" category="paragraph">O operador Trident permite personalizar a instalação do Astra Trident usando os atributos da<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> especificação. Se você quiser personalizar a instalação além do que<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> os argumentos permitem, considere usar<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> para gerar manifestos YAML personalizados para modificar conforme necessário.</block>
  <block id="a5199cf0d9f113491f9efa18f3bee2e1" category="section-title">Compreensão dos pods dos nós e dos pods do controlador</block>
  <block id="f412c056318f78edc1cce01ed98e751b" category="paragraph">O Astra Trident é executado como um único pod de controlador, além de um pod de nó em cada nó de trabalho no cluster. O pod de nó deve estar em execução em qualquer host onde você queira potencialmente montar um volume Astra Trident.</block>
  <block id="30735a308956ec6de6caa328d0d5b43b" category="inline-link-macro">seletores de nós</block>
  <block id="1db653cf6745dd1e6aa8d6e843ea5e96" category="inline-link-macro">tolerações e taints</block>
  <block id="0897b2b75e3d0217c2f6994605a2cae7" category="paragraph">Kubernetes <block ref="219288b06ade6fd51c16efe605941441" category="inline-link-macro-rx"></block> e <block ref="9466cd429d8630101055a8fd14904bd9" category="inline-link-macro-rx"></block>são usados para restringir um pod a ser executado em um nó específico ou preferencial. Usando o ControllerPlugin e<block ref="96687552cc4dff10038a1b07a8bf3bd3" prefix=" " category="inline-code"></block>o , você pode especificar restrições e substituições.</block>
  <block id="e3826c3aea0bf8502f2ba8ff27eeef19" category="list-text">O plugin controlador lida com o provisionamento e gerenciamento de volume, como snapshots e redimensionamento.</block>
  <block id="361d997e700d422835e56b644784bb7e" category="list-text">O plug-in do nó manipula a conexão do armazenamento ao nó.</block>
  <block id="50f33d14f129e4548c1c270fd6725a78" category="section-title">Opções de configuração</block>
  <block id="1736b3823517cc62395e05494b09ddb9" category="admonition"><block ref="b2c66bca748ffde67c7b6817cb8dd795" prefix="" category="inline-code"></block> É especificado em<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> para indicar o namespace onde o Astra Trident está instalado. Este parâmetro *não pode ser atualizado após a instalação do Astra Trident*. Tentar fazê-lo faz com que o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> status mude para<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block>. O Astra Trident não se destina a ser migrado entre namespaces.</block>
  <block id="a739aa7f082abebdf65f4b114dd3ad7d" category="paragraph">Esta tabela detalha<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> atributos.</block>
  <block id="83f499a540b1323009c200d6f8cc9396" category="cell">Parâmetro</block>
  <block id="7a1920d61156abc05a60135aefe8bc67" category="cell">Padrão</block>
  <block id="f3f30d479f6e3b393d917a3b2f88c770" category="cell"><block ref="89801e9e98979062e84647433a8ed3e9" prefix="" category="inline-code"></block></block>
  <block id="c9db68ea6cff44f42ac5acbbfccec399" category="cell">Namespace para instalar Astra Trident em</block>
  <block id="9aa82da0cffe247b84587c1cc8e32746" category="cell">"predefinição"</block>
  <block id="a67cf6b087ff88dbfacec8375928995c" category="cell"><block ref="ad42f6697b035b7580e4fef93be20b4d" prefix="" category="inline-code"></block></block>
  <block id="4f72bc786a1a01d5a1a8bc09d33334cc" category="cell">Habilite a depuração para o Astra Trident</block>
  <block id="68934a3e9455fa72420237eb05902327" category="cell">falso</block>
  <block id="b4f36de9fda080c1fd1d9edb1e60e36b" category="cell"><block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix="" category="inline-code"></block></block>
  <block id="30042512b273723cf2eec336b6576d84" category="cell"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block> e<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> apenas. Funciona com o Kubernetes Non-Graceful Node Shutdown (NGNS) para conceder aos administradores de cluster a capacidade de migrar com segurança cargas de trabalho com volumes montados para novos nós caso um nó não seja saudável. *Esta é uma caraterística experimental em 23,04.* <block ref="620ff2552a2d798650bb027eb1271b17" category="inline-xref-macro-rx"></block>Consulte para obter detalhes importantes.</block>
  <block id="05f901da7fdacb9ca59e3d7e2d40f98d" category="cell"><block ref="0f4137ed1502b5045d6083aa258b5c42" prefix="" category="inline-code"></block></block>
  <block id="fbbd7b4b14060c4fdb02f92c4c08e702" category="cell">A configuração para<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> permite a instalação em nós de trabalho do Windows.</block>
  <block id="16e20a5ba5cd6442f3cdd49b16e8a5f3" category="cell"><block ref="8bd1aa960638ccc5869583e34d702ce6" prefix="" category="inline-code"></block></block>
  <block id="3dd791c4864e77ae6cf11572e2d7b374" category="cell">Instalar o Astra Trident em IPv6</block>
  <block id="077e99fe42ced522b462656cffffe09c" category="cell"><block ref="d5276bb17ae062102e883a18454c2f1b" prefix="" category="inline-code"></block></block>
  <block id="4448b73eac083e33b7142f0e5790fac5" category="cell">Tempo limite para operações do Kubernetes</block>
  <block id="e4d71bf2abad047425f4463e27bb83b0" category="cell">30sec</block>
  <block id="42cf123e93ecc5c0297652edbc547fc0" category="cell"><block ref="2fac1659431903a30e063d49b3effb9d" prefix="" category="inline-code"></block></block>
  <block id="4a213b7c3b997ffb0794b25909381d16" category="cell">Não envie pacotes AutoSupport para o NetApp automaticamente</block>
  <block id="2bccac20e55391730a985f9819e1cc41" category="cell"><block ref="7ecc687ea7566f05fd13fde7be607bfc" prefix="" category="inline-code"></block></block>
  <block id="84448c234dfdfd2a7367341fd4b56a80" category="cell">A imagem do recipiente para a telemetria AutoSupport</block>
  <block id="d06187756592965157c9f1bc4fc51a9c" category="cell">"NetApp/Trident-AutoSupport:23,07"</block>
  <block id="f4a6821b04b9ce6b90148068341347b6" category="cell"><block ref="5f264298da92162575024336c485cc13" prefix="" category="inline-code"></block></block>
  <block id="7f54ca385f028308d19e228ce0534a47" category="cell">O endereço/porta de um proxy para o envio de telemetria AutoSupport</block>
  <block id="256acfe307251e7444859851d87d5735" category="cell"><block ref="256acfe307251e7444859851d87d5735" category="inline-link-rx"></block></block>
  <block id="e9f06180af644cfa6e5d20bd67c03bc5" category="cell"><block ref="fe98497efedbe156ecc4b953aea77e07" prefix="" category="inline-code"></block></block>
  <block id="076bc379a24183ce77834bac007ca852" category="cell">Um sinalizador usado para desinstalar o Astra Trident</block>
  <block id="cad060d2f14dbf08315c20014ed31daa" category="cell"><block ref="0b19d236934f609fe765b504a36b637e" prefix="" category="inline-code"></block></block>
  <block id="acfc4a8e6d53bad27d4e2d393bfff61e" category="cell">Formato de log Astra Trident a ser usado [text,json]</block>
  <block id="20cd815523e5806aec29a57282b0d49f" category="cell">"texto"</block>
  <block id="7610c5cc7910022402c4fbd450d889ce" category="cell"><block ref="d771848c80f96e5954a8658655cf79d7" prefix="" category="inline-code"></block></block>
  <block id="20f408a3276af1f7f1bf02ba374786ca" category="cell">Imagem Astra Trident a instalar</block>
  <block id="0498ee65f9f6b76f08a28e7b6715c963" category="cell">"NetApp/Trident:23,07"</block>
  <block id="8088435dc0e1c8b85217d850d3e7a602" category="cell"><block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix="" category="inline-code"></block></block>
  <block id="4f25f4cca5c1939f4a728d2678e719f7" category="cell">Caminho para o Registro interno, do formato<block ref="d2ce1f53a5f0e84f4f1b5e28836eb05b" prefix=" " category="inline-code"></block></block>
  <block id="fb4feec526f3a24c097c73a5f36af4bd" category="cell">"k8s.gcr.io/sig-storage" (mais de k8s 1,19 gb) ou "quay.io/k8scsi gb"</block>
  <block id="e6b96cbb467923e86672bb25db5ecebb" category="cell"><block ref="31e3a95d0afff0def109a244b7f82d83" prefix="" category="inline-code"></block></block>
  <block id="31aad37dce0c28e12908582a0d63736a" category="cell">Caminho para o diretório kubelet no host</block>
  <block id="df8f3af91e96fe841267201ed450cd6b" category="cell">"/var/lib/kubelet"</block>
  <block id="b6e0e2c4168573f0ed61c842470342ba" category="cell"><block ref="c13a52521693f799a16fd56a35c77a04" prefix="" category="inline-code"></block></block>
  <block id="4e33345575b5a443dec89767624a1ee8" category="cell">Uma lista de recursos a serem excluídos para realizar uma remoção completa do Astra Trident</block>
  <block id="2d30d1348c4d2533a165827a22516caa" category="cell"><block ref="0d9b54b29da54379cca6b8782b9faae5" prefix="" category="inline-code"></block></block>
  <block id="f73bb4a0bc9913e7fc6db5f9e5f2afeb" category="cell">Segredos para extrair imagens de um Registro interno</block>
  <block id="79445b5dba623a55ad4d974712853c2f" category="cell"><block ref="2b8b5018006a800ae06485c3aacfa08d" prefix="" category="inline-code"></block></block>
  <block id="cbea7dc9eb2c3c926a86130b0be6368f" category="cell">Define a política de recebimento de imagens para o operador Trident. Os valores válidos são: <block ref="68eec46437c384d8dad18d5464ebc35c" prefix=" " category="inline-code"></block> Para sempre puxar a imagem. <block ref="7803982c6b845094275e8e83f0fad3a6" prefix=" " category="inline-code"></block> para puxar a imagem apenas se ela ainda não existir no nó. <block ref="6e7b34fa59e1bd229b207892956dc41c" prefix=" " category="inline-code"></block> para nunca puxar a imagem.</block>
  <block id="ac7c98af4f51cc4b20acafb785a53284" category="cell"><block ref="7803982c6b845094275e8e83f0fad3a6" prefix="" category="inline-code"></block></block>
  <block id="b89df534de66f446ec6482f9d7898bb2" category="cell"><block ref="3d97872197327b9967bcc3f4f76b25c5" prefix="" category="inline-code"></block></block>
  <block id="d64d0e5bb5a552ae4986a713f41c8fc3" category="cell">Seletores de nós adicionais para pods. Segue o mesmo formato que<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>.</block>
  <block id="8d414af35aeb82413205fa45551a5545" category="cell">Sem padrão; opcional</block>
  <block id="df1f367efe879ec0030f43610e29c5af" category="cell"><block ref="e648881dc52660bceb907a4b5b9f7042" prefix="" category="inline-code"></block></block>
  <block id="875ce721843c20d7f9aae240673ed68b" category="cell">Substitui as tolerâncias do Kubernetes para pods. Segue o mesmo formato que<block ref="f1fa64fcf5077601cb803e995a51fa4f" prefix=" " category="inline-code"></block>.</block>
  <block id="47a441037628a3c0f0edb0daccb33f99" category="cell"><block ref="ae41eb1a542b17214c779966cd254a4d" prefix="" category="inline-code"></block></block>
  <block id="00e8e1706119ce5300bdc9141ececc37" category="cell">Seletores de nós adicionais para pods. Segue o mesmo formato que<block ref="6ae8be3433bfc36ced79a1271e6ebf11" prefix=" " category="inline-code"></block>.</block>
  <block id="f297db5a937924105908a365d9d4c4ff" category="cell"><block ref="b729c9d7484a61fd754f6b7f533db71c" prefix="" category="inline-code"></block></block>
  <block id="4352a1b4e004cf57ac04661a18de43aa" category="inline-link-macro">Atribuindo pods a nós</block>
  <block id="b3b67fd79d24b4873c8164c750c21798" category="admonition">Para obter mais informações sobre a formatação dos parâmetros do pod, <block ref="7b3a69fdac08c769183925679da4c365" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="38a0b9f59e6fe23e1617dc0e78498afe" category="section-title">Detalhes sobre Force Detach</block>
  <block id="20c0c9efee2da2645ec0eefaf3c75d8c" category="inline-link-macro">Kubernetes: Desligamento do nó não gracioso</block>
  <block id="c2b73a5f3aeb6a0120f6d516eaedfceb" category="paragraph">O Force Detach está disponível apenas para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e.<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> Antes de ativar a desconexão forçada, o desligamento do nó (NGNS) não gracioso deve ser ativado no cluster do Kubernetes. Para obter mais informações, <block ref="1da18b4f36c698c06b8a402542c42858" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="388f611a7cb1d3b4a55895211f24e657" category="admonition">Como o Astra Trident conta COM NGNS do Kubernetes, não<block ref="2ea3337d8d7fc43880e82df308aa0f16" prefix=" " category="inline-code"></block> remova as taints de um nó que não seja saudável até que todos os workloads não toleráveis sejam reprogramados. Aplicar ou remover a taint de forma imprudente pode comprometer a proteção de dados no back-end.</block>
  <block id="0490d92bd49cf4ca0e3d1454b8166318" category="paragraph">Quando o administrador do cluster do Kubernetes tiver aplicado a<block ref="7b58fe53e2e4b586e9605f1371e1ebf3" prefix=" " category="inline-code"></block> alteração ao nó e<block ref="badc795d88a7db6cc65d56bc758b3ea4" prefix=" " category="inline-code"></block> estiver definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o Astra Trident determinará o status do nó e:</block>
  <block id="5a46bcb638ad3abfd754aecfb450a781" category="list-text">Cessar o acesso de e/S de back-end para volumes montados nesse nó.</block>
  <block id="9e359eb51c11b0162faa185a9f2e6132" category="list-text">Marque o objeto nó Astra Trident como<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block> (não é seguro para novas publicações).</block>
  <block id="dea3db0d9b1c1d5a2c070829016eb1d9" category="admonition">O controlador Trident rejeitará novas solicitações de volume de publicação até que o nó seja requalificado (depois de ter sido marcado como<block ref="32478ef751ab0a81974a3aa8569607b9" prefix=" " category="inline-code"></block>) pelo pod de nó do Trident. Quaisquer cargas de trabalho agendadas com um PVC montado (mesmo depois que o nó do cluster estiver pronto e saudável) não serão aceitas até que o Astra Trident possa verificar o nó<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block> (seguro para novas publicações).</block>
  <block id="2f2c77c0463a5147779a2fe92fffee6d" category="paragraph">Quando a integridade do nó é restaurada e a taint é removida, o Astra Trident:</block>
  <block id="8f57f52b7233aecf56728bcd48d3a51c" category="list-text">Identifique e limpe caminhos publicados obsoletos no nó.</block>
  <block id="a36983f9842a4a5cf4db7f9d23253de0" category="list-text">Se o nó estiver em um<block ref="4304fb35c4cdfa886970499304f2aaba" prefix=" " category="inline-code"></block> estado (a alteração fora de serviço foi removida e o nó está<block ref="e7d31fc0602fb2ede144d18cdffd816b" prefix=" " category="inline-code"></block> no estado) e todos os caminhos obsoletos e publicados estiverem limpos, o Astra Trident reajustará o nó como<block ref="123402c04dcfb6625f688f771a5fc05d" prefix=" " category="inline-code"></block> e permitirá novos volumes publicados no nó.</block>
  <block id="a3ff66cf5848a34d56915c8e879a5d52" category="section-title">Exemplos de configurações</block>
  <block id="a6ba054ae6c021e3bc8a173393842c3d" category="paragraph">Você pode usar os atributos mencionados acima ao definir<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> para personalizar sua instalação.</block>
  <block id="3dabf672facbe8c5e2eeff030c2b8520" category="example-title">Exemplo 1: Configuração personalizada básica</block>
  <block id="d21e69ca251cfbb211d0ee66fd06d5b3" category="paragraph">Este é um exemplo para uma configuração personalizada básica.</block>
  <block id="8438aa96607926cc56a36b843e04244f" category="example-title">Exemplo 2: Implante com seletores de nós</block>
  <block id="fd2915a467b0d801691fa5242e597f02" category="paragraph">Este exemplo ilustra como o Trident pode ser implantado com seletores de nós:</block>
  <block id="aa5b232f08f4f3a911b242c500c5c9a1" category="example-title">Exemplo 3: Implantar em nós de trabalho do Windows</block>
  <block id="74b19e3113c78692266e87afce12f681" category="paragraph">Este exemplo ilustra a implantação em um nó de trabalho do Windows.</block>
  <block id="9023b4b442239b429817bc22fb401e02" category="summary">Você pode implantar o operador Trident e instalar o Astra Trident usando o Helm. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Astra Trident são armazenadas em um Registro privado.</block>
  <block id="3e8935de45b1559e2ec2b01c1bbb06c2" category="doc">Implantar operador Trident usando Helm (modo off-line)</block>
  <block id="11ad6eeb0e6095efdbf4599d71303b0e" category="inline-link-macro">processo para implantação padrão</block>
  <block id="dc0316b52aa2ab6526bdaee13c162530" category="paragraph">Você pode implantar o operador Trident e instalar o Astra Trident usando o Helm. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Astra Trident são armazenadas em um Registro privado. Se não tiver um registo de imagens privado, utilize o <block ref="2230544d14bc4ba0c61a5a1b2030a1d4" category="inline-link-macro-rx"></block>.</block>
  <block id="eab0706ece21a2a7fba820bf95d759fe" category="section-title">Informações críticas sobre o Astra Trident 23,04</block>
  <block id="d883ab5f686800bc89cab8e6bd776c10" category="paragraph">*Você deve ler as seguintes informações críticas sobre o Astra Trident.*</block>
  <block id="92b6d6e1b0bf78702d88ede445c4256f" category="example-title">&lt;strong&gt; informações essenciais sobre o Astra Trident &lt;/strong&gt;</block>
  <block id="2122a8acb599837078e6b76436e892c4" category="list-text">O Kubernetes 1,27 agora é compatível com o Trident. Atualize o Trident antes de atualizar o Kubernetes.</block>
  <block id="7416271d47db3d82227ab2164e43c75c" category="list-text">O Astra Trident reforça estritamente o uso de configuração multipathing em ambientes SAN, com um valor recomendado de<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block> no arquivo multipath.conf.</block>
  <block id="7b9eed191ce5e7cc8c8d1cb8cfe2d8c8" category="paragraph">O uso de configuração não multipathing ou o uso<block ref="a3a1d5b95e345a3db24a5a30e349f699" prefix=" " category="inline-code"></block> de ou<block ref="e82e6d155396541f07f7347c984444ea" prefix=" " category="inline-code"></block> valor no arquivo multipath.conf resultará em falhas de montagem. A Trident recomenda o uso de<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block> desde a versão 21,07.</block>
  <block id="c9ffe59301b588bbc33bb004cfd312ee" category="section-title">Implante o operador Trident e instale o Astra Trident usando o Helm</block>
  <block id="7d3f46589c43a64fd040e4f0e0691a86" category="inline-link-macro">Carta do leme</block>
  <block id="2f5480efe7a0a4b0cffbf110abec11c2" category="paragraph">Usando o Trident<block ref="cdacb2b0d49176a3c0d8cc9d693de833" category="inline-link-macro-rx"></block>, você pode implantar o operador Trident e instalar o Trident em uma etapa.</block>
  <block id="3342f1a2f74c6062a39d3076c35c5a5b" category="inline-link-macro">a visão geral da instalação</block>
  <block id="6657de3ab3deaeef939684c50d5310e3" category="paragraph">Revise <block ref="17128a3e349370ba21c9ca13ca0bc297" category="inline-link-macro-rx"></block> para garantir que você atendeu aos pré-requisitos de instalação e selecionou a opção de instalação correta para o seu ambiente.</block>
  <block id="8f3958d59b8da100a4663b1cace112b7" category="inline-link-macro">pré-requisitos de implantação</block>
  <block id="2e1b3f44683eee188be985693c4af5e1" category="inline-link-macro">Helm versão 3</block>
  <block id="64d2af40480a5cebf7e64939f6253bf3" category="paragraph">Além do <block ref="c7282b7e52e27c635b613335e59bf436" category="inline-link-macro-rx"></block> que você precisa<block ref="fc0cdbd8defe0c7175199dd05a0f8e76" category="inline-link-macro-rx"></block>.</block>
  <block id="113fbd468c6aaecfbef57e5d1e9b500d" category="list-text">Adicione o repositório Astra Trident Helm:</block>
  <block id="b3735f022036728c24121c449da97183" category="inline-link-macro">Imagens de Trident e CSI</block>
  <block id="27855a2d0ff79cc3ecf0f08e67257b0a" category="list-text">Use<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block> e especifique um nome para a localização do Registro de imagens e implantação. O <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> pode estar localizado em um Registro ou Registros diferentes, mas todas as imagens CSI devem estar localizadas no mesmo Registro. Nos exemplos<block ref="fc54aba0c9f6c2fff98f4890349f656c" prefix=" " category="inline-code"></block>, é a versão do Astra Trident que você está instalando.</block>
  <block id="c4ffea098f78924a9b9331b8f5e9c8b4" category="open-title">Imagens em um Registro</block>
  <block id="4847c552b2ff9251806e41c8fa907e19" category="open-title">Imagens em diferentes registos</block>
  <block id="69301f05825d437597b636d8b7e9d918" category="paragraph">Você deve anexar<block ref="4134d52569bb4a6545ebff1e4c83f2bc" prefix=" " category="inline-code"></block> ao<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block> para usar diferentes locais de Registro.</block>
  <block id="134bf17c90c90b5aeed99dde262bf14d" category="admonition">Se você já criou um namespace para Trident, o<block ref="cc1f5c1d16e33b8463c9ee27295cd5df" prefix=" " category="inline-code"></block> parâmetro não criará um namespace adicional.</block>
  <block id="d75fdc8e85ddcd7e9dc9f367168dec11" category="paragraph">Você pode usar<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block> para revisar detalhes de instalação, como nome, namespace, gráfico, status, versão do aplicativo e número de revisão.</block>
  <block id="4c5ab57df808d08e9978671e7e81bb2a" category="section-title">Passe os dados de configuração durante a instalação</block>
  <block id="e366a20246a41520da551be510c1d658" category="paragraph">Há duas maneiras de passar dados de configuração durante a instalação:</block>
  <block id="c2bae6a1b11b371647052979113c2b7c" category="cell"><block ref="2c1d18b300e96c797f390483b0c6acdb" prefix="" category="inline-code"></block> (ou<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block>)</block>
  <block id="0bfab21a3b7a34a60173df3f165eda9c" category="paragraph">Especifique um arquivo YAML com substituições. Isso pode ser especificado várias vezes e o arquivo mais à direita terá precedência.</block>
  <block id="ef136231fb37749162723573d36b19c9" category="cell"><block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix="" category="inline-code"></block></block>
  <block id="7595b6387dfaf9307f563edc4d951a0d" category="paragraph">Especifique substituições na linha de comando.</block>
  <block id="177f0526bba4e516b4db5c3a74252bbd" category="paragraph">Por exemplo, para alterar o valor padrão<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block> do , execute o seguinte<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block> comando onde<block ref="fc54aba0c9f6c2fff98f4890349f656c" prefix=" " category="inline-code"></block> está a versão do Astra Trident que você está instalando:</block>
  <block id="d924b4945b9cee37e07a2c601d1081be" category="paragraph">Esta tabela e o<block ref="ba05023d0f1b5d4b64b6cad4cf9a7ecd" prefix=" " category="inline-code"></block> arquivo, que faz parte do gráfico Helm, fornecem a lista de chaves e seus valores padrão.</block>
  <block id="e0e228e32d97e1461cf4492bd5366550" category="cell"><block ref="6370f866cf64618c026027da41bd248e" prefix="" category="inline-code"></block></block>
  <block id="f54139bbd014c510ee9fa277241d4666" category="cell">Etiquetas de nó para atribuição de pod</block>
  <block id="b7f663c63859fec6f7d2f1ecd891de73" category="cell"><block ref="6e0bd2b3fba01f3f74634cfc6fcc31d6" prefix="" category="inline-code"></block></block>
  <block id="6b164b6efa957c912428e089b86ecd45" category="cell">Anotações do pod</block>
  <block id="4e3c35024b2d124aa9ab33a254e2545c" category="cell"><block ref="7c73e8c8cba054b3164d0b641ef36a41" prefix="" category="inline-code"></block></block>
  <block id="1a6308fa062d92acbff3b1304615d1db" category="cell">Anotações de implantação</block>
  <block id="716c09bbd59aa99d3932f73b7f517b2c" category="cell"><block ref="d6c26478ca41a23cc9741a4e92576269" prefix="" category="inline-code"></block></block>
  <block id="1147c70db6b1e5ac87df9b1ef26ea59a" category="cell">Tolerâncias para atribuição de pod</block>
  <block id="ed550d998ef1de0c69744fb5f7f7173c" category="cell"><block ref="1474047fb00b2d8d95646f7436837ed0" prefix="" category="inline-code"></block></block>
  <block id="064fd06fa9edd7a1e29b4da6fd9a1688" category="cell">Afinidade para atribuição de pod</block>
  <block id="b81e781314c37667d0eae6eeba5f0468" category="cell"><block ref="d525dcbea000b0429493d47a891b5ad9" prefix="" category="inline-code"></block></block>
  <block id="85e06bb6e03e71b7708d9d4b6f4967ea" category="cell">Seletores de nós adicionais para pods. <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="0ccd4d74122ec81d149bc2bb132524d6" category="cell"><block ref="e8c1183eadfdb38078a7bd66bfa038ac" prefix="" category="inline-code"></block></block>
  <block id="74f3be1a07b1f65cef69ac77defaff4b" category="cell">Substitui as tolerâncias do Kubernetes para pods. <block ref="662636849823c896b8f86e3f7d6afa9b" category="inline-xref-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="c5387f0fc94f27d79519bb1299916e0f" category="cell"><block ref="bc0951b6e57a04c942fe6054649bb323" prefix="" category="inline-code"></block></block>
  <block id="7923027736f9cc9bbc6f6914e020e8a2" category="cell"><block ref="85dec10eb608a93a9febb24b39f5dae5" prefix="" category="inline-code"></block></block>
  <block id="a5dbdd22874a005ac9265ab4869f4b42" category="cell">Identifica o registo para as<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>,<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block>e outras imagens. Deixe vazio para aceitar o padrão.</block>
  <block id="9d4568c009d203ab10e33ea9953a0264" category="cell">""</block>
  <block id="7211a1f37ce0f92a2727e11de77a5256" category="cell">Define a política de recebimento de imagens para o<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>.</block>
  <block id="f19aec010e48d5133114e8de96e071cd" category="cell">Define os segredos de extração da imagem para as<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>,<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> e outras imagens.</block>
  <block id="b8ef31ad215c14ea7ac3aa4744f3b42f" category="cell">Permite substituir a localização do host do estado interno do kubelet.</block>
  <block id="9f61c56640ad918301f4486f261872db" category="cell">""/var/lib/kubelet"</block>
  <block id="5e2907912eaee9094910d428b8f01073" category="cell"><block ref="2d9583aa0b2422324be870c86f92540f" prefix="" category="inline-code"></block></block>
  <block id="a580f5edb0407fe7fc07e03adb88d2be" category="cell">Permite que o nível de log do operador Trident seja definido como:<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block>, ,<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>,<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block><block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block> , ,<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block> Ou<block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block>.</block>
  <block id="17b455f4f77262089207347508d91156" category="cell"><block ref="94b4515f09a2cc099780cd762366bc78" prefix="" category="inline-code"></block></block>
  <block id="0b401c459e3ff134b1e0ef7924967db5" category="cell"><block ref="844aa3cc935c46477e308955f84504e9" prefix="" category="inline-code"></block></block>
  <block id="0d1fd401e197635acbe814b44cbbe0f0" category="cell">Permite que o nível de log do operador Trident seja definido como debug.</block>
  <block id="e6e859881d25cceaf35be98ff2b495e5" category="cell"><block ref="225eb420f27fc1614025e3e94f1dbcd4" prefix="" category="inline-code"></block></block>
  <block id="3e23960e7162cfc391ab62ee009d09b5" category="cell">Permite a substituição completa da imagem para<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block>.</block>
  <block id="586d412183efcbc76c2b206c73911009" category="cell"><block ref="5a50bd404d515b199254e69f83732c55" prefix="" category="inline-code"></block></block>
  <block id="87a9d5d1548b0e39b7cfe5115c686d2d" category="cell">Permite substituir a etiqueta da<block ref="c39d2745402b5d2987cfdd8df3bda0e1" prefix=" " category="inline-code"></block> imagem.</block>
  <block id="ba6229139ac12ca183160040964cdaae" category="cell"><block ref="c185b55e62d1fe703eb97b2a31b6c2a3" prefix="" category="inline-code"></block></block>
  <block id="fbb572d608f0afb5d8449144a2f9e8f3" category="cell">Permite que o Astra Trident funcione em IPv6 clusters.</block>
  <block id="aacf685d031cae06a5c158144296d071" category="cell"><block ref="b958a6de9ca123713491252f2ab02f59" prefix="" category="inline-code"></block></block>
  <block id="f8d2c273db74b394820e68a59b18bfff" category="cell">Substitui o tempo limite padrão de 30 segundos para a maioria das operações da API do Kubernetes (se não for zero, em segundos).</block>
  <block id="2911e600bbad981e24b3e2a2b3a03f82" category="cell"><block ref="cfcd208495d565ef66e7dff9f98764da" prefix="" category="inline-code"></block></block>
  <block id="fbf0a4141bdac5821d271a6c1de1f483" category="cell"><block ref="70b0324e2a65a29bea1b014606caba39" prefix="" category="inline-code"></block></block>
  <block id="d74c6fe1792f46d6c929a448fd8b99cd" category="cell">Substitui o tempo limite padrão de 90 segundos para as solicitações HTTP,<block ref="bb61fa2850d04f4e5e34449de13febe4" prefix=" " category="inline-code"></block> sendo uma duração infinita para o tempo limite. Valores negativos não são permitidos.</block>
  <block id="ab7c61393023df91a4271d09e26bda15" category="cell"><block ref="558c8a41e3e5c9a0f109be6e60efce8d" prefix="" category="inline-code"></block></block>
  <block id="b2ffdfaa5c81870c0fb113956a7244aa" category="cell"><block ref="141d9fad9dd7e4fec852d6e55f414373" prefix="" category="inline-code"></block></block>
  <block id="595576072ae91fd3ed07cffb0f6bf8dc" category="cell">Permite desativar os relatórios periódicos do Astra Trident AutoSupport.</block>
  <block id="22ca6470a16bcd1b3a0fd7b7dc456b4c" category="cell"><block ref="9626ee86c83efe1de7c3f5e2669b4a04" prefix="" category="inline-code"></block></block>
  <block id="afed3cb70fa67ef62195179f6c724664" category="cell">Permite substituir a tag da imagem para o contentor Astra Trident AutoSupport.</block>
  <block id="dfdc01cf8fa557986d9b3e8702b6ff1b" category="cell"><block ref="3d689bd3819ead35ed794427bd12f459" prefix="" category="inline-code"></block></block>
  <block id="8639f9efa7d4198eba06690d4a1f0d16" category="cell"><block ref="c370bb44f26914bb0c965f35a89a42f7" prefix="" category="inline-code"></block></block>
  <block id="b830fe1139fea1840be49f78927d6364" category="cell">Permite que o Astra Trident AutoSupport Container ligue para casa por meio de um proxy HTTP.</block>
  <block id="b081a6c6ed5931a2b55e31e706aae502" category="cell"><block ref="5836094432fed0c547c18869122bbf9a" prefix="" category="inline-code"></block></block>
  <block id="6ea2564bcf36b1d8878738d14312d34e" category="cell">Define o formato de registo Astra Trident <block ref="1cb251ec0d568de6a929b520c4aed8d1" prefix="(" category="inline-code"></block>ou<block ref="466deec76ecdf5fca6d38571f6324d54" prefix=" " category="inline-code"></block>).</block>
  <block id="db8e1facb8efde48ce50388e2dc9cfcc" category="cell"><block ref="20cd815523e5806aec29a57282b0d49f" prefix="" category="inline-code"></block></block>
  <block id="4d165b964c1ea4708882da42c3ef5194" category="cell"><block ref="0be533d5261bfa202a27dd6f4a2ff4da" prefix="" category="inline-code"></block></block>
  <block id="67471026c71afd28bcd767ef1006c39a" category="cell">Desativa o registrador de auditoria Astra Trident.</block>
  <block id="c7bc9c0edf4b3f771388feb15b8ad592" category="cell"><block ref="cd4906de65bd0389fcc62105f05b77d6" prefix="" category="inline-code"></block></block>
  <block id="5f65c3e97612dfc2a1875871e1d5298d" category="cell">Permite que o nível de log do Astra Trident seja definido como:<block ref="04a75036e9d520bb983c5ed03b8d0182" prefix=" " category="inline-code"></block>,<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>, ,<block ref="caf9b6b99962bf5c2264824231d7a40c" prefix=" " category="inline-code"></block><block ref="1ea4c3ab05ee0c6d4de30740443769cb" prefix=" " category="inline-code"></block> , ,<block ref="cb5e100e5a9a3e7f6d1fd97512215282" prefix=" " category="inline-code"></block><block ref="df6402fd9ecc60f5a2159fdf45711cd4" prefix=" " category="inline-code"></block> Ou .</block>
  <block id="c97f5436c3ba56768a7996ac0a152830" category="cell"><block ref="efc1e9e3a120c20b12e892ce2f230ff8" prefix="" category="inline-code"></block></block>
  <block id="40caa5c31158e12517414bf1429ad350" category="cell">Permite que o nível de log do Astra Trident seja definido como<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block>.</block>
  <block id="3e52a0855ea502bd31c48eb02424ee67" category="cell"><block ref="aaeab2a659f3d6ac5063b6d8a4e7c24a" prefix="" category="inline-code"></block></block>
  <block id="5934b7dd9f1b8b0cd103a9f658e321a2" category="cell">Permite que fluxos de trabalho específicos do Astra Trident sejam ativados para registo de rastreio ou supressão de registos.</block>
  <block id="66468bda18a84578afccd8255efa1845" category="cell"><block ref="d5c1386f335f8df3cd920142f8ee23b7" prefix="" category="inline-code"></block></block>
  <block id="b09ba1c3bffb182e31b3e02e89809aff" category="cell">Permite que camadas específicas do Astra Trident sejam ativadas para registo de rastreio ou supressão de registos.</block>
  <block id="1aaea3b64b47a673c851da63225fddfb" category="cell">Permite a substituição completa da imagem para Astra Trident.</block>
  <block id="a74941f6c96a1995cbfb438419467c32" category="cell"><block ref="fdd0820bbfc488d6a2ccba8ba0f74e73" prefix="" category="inline-code"></block></block>
  <block id="63742b48f6bddb4de8ebee8c4337f07e" category="cell">Permite substituir a tag da imagem para Astra Trident.</block>
  <block id="50c1c44df91bb9f35aaa04b0157d6136" category="cell"><block ref="60c65b849dbb837618645b7860aa608e" prefix="" category="inline-code"></block></block>
  <block id="74b30241e61b88d42e066d77a638a568" category="cell">Permite substituir a porta padrão usada para sondas de disponibilidade/prontidão do Kubernetes.</block>
  <block id="e07d4a2a2e6f176011493e3326962c52" category="cell">Permite que o Astra Trident seja instalado no nó de trabalho do Windows.</block>
  <block id="0a08ed3de9d17e8644d3e57dc374c3ea" category="cell">Permite ativar a função forçar desanexar.</block>
  <block id="632a46acdaa26f30f25b11d5c83eaa58" category="cell"><block ref="94ef2a130a825358ab3002442d6e5145" prefix="" category="inline-code"></block></block>
  <block id="ad77b466842808c8dce5116073a3e52b" category="cell">Exclui a criação da diretiva de segurança do pod do operador.</block>
  <block id="01e12de62fa77fda2815719aed8ff892" category="section-title">O que vem a seguir</block>
  <block id="94498fae00c7d39d673cb4558db7bc6f" category="inline-link-macro">crie um back-end e uma classe de storage, provisione um volume e monte o volume em um pod</block>
  <block id="a8726a62b6428d53252a80359035e514" category="paragraph">Agora você pode <block ref="1c0bc5c2bfbcde176e7340e3acb3bb23" category="inline-link-macro-rx"></block>.</block>
  <block id="00148cd37a97a236d1ff100ec0464493" category="summary">Você pode implantar o operador Trident e instalar o Astra Trident usando o Helm. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Astra Trident não são armazenadas em um Registro privado.</block>
  <block id="2f74d18d1c9959832fc00b898fa2417e" category="doc">Implantar operador Trident usando Helm (modo padrão)</block>
  <block id="6852076d7b753ee3ea825ae4af1375ac" category="inline-link-macro">processo para implantação off-line</block>
  <block id="20815399023070f3335b67451f864388" category="paragraph">Você pode implantar o operador Trident e instalar o Astra Trident usando o Helm. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Astra Trident não são armazenadas em um Registro privado. Se tiver um registo de imagens privado, utilize o <block ref="95202a095b590d767c9926fd1850fb68" category="inline-link-macro-rx"></block>.</block>
  <block id="5934d78c1e4b16833d855fae6656a994" category="list-text">Use<block ref="0562418e6d9a76d0dd22b2f186a2203d" prefix=" " category="inline-code"></block> e especifique um nome para sua implantação, como no exemplo a seguir, onde<block ref="fc54aba0c9f6c2fff98f4890349f656c" prefix=" " category="inline-code"></block> está a versão do Astra Trident que você está instalando.</block>
  <block id="4bdf9319fbd791503ac6c31b80a89220" category="summary">Você pode implantar manualmente o operador Trident para instalar o Astra Trident. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Astra Trident são armazenadas em um Registro privado.</block>
  <block id="44e21d73aa8bd7200fceac6671723524" category="doc">Implantar manualmente o operador Trident (modo off-line)</block>
  <block id="3410d56c3ae45b01726f4f271693484f" category="paragraph">Você pode implantar manualmente o operador Trident para instalar o Astra Trident. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Astra Trident são armazenadas em um Registro privado. Se não tiver um registo de imagens privado, utilize o <block ref="0d70fdec6fbaf15c3c460970c31207c9" category="inline-link-macro-rx"></block>.</block>
  <block id="8ff1bc8a7ac69f081f871e9e2a8c0d0f" category="section-title">Implante manualmente o operador Trident e instale o Trident</block>
  <block id="ea8cda06a0e70ad34c1b9ab1b7135105" category="inline-link-macro">Cluster compatível com Kubernetes</block>
  <block id="bcc71769dd00af93bb067088094d9b0b" category="paragraph">Faça login no host Linux e verifique se ele está gerenciando um trabalho e <block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block>que você tem o Privileges necessário.</block>
  <block id="e420b75ec3bc014e3f69c43b2383768b" category="admonition">Com OpenShift, use<block ref="fb024832e51eb5f6da9113a745f1eb59" prefix=" " category="inline-code"></block> em vez de<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> em todos os exemplos que se seguem, e faça login como *system:admin* primeiro executando<block ref="924132b4cedac6927feecff33e0a8e17" prefix=" " category="inline-code"></block> ou<block ref="42c32f65d2d1c08a83fbc226da30a162" prefix=" " category="inline-code"></block>.</block>
  <block id="92e83bca2bb40324de35154f8c95083d" category="list-text">Verifique sua versão do Kubernetes:</block>
  <block id="b17eef151a74252395aad7db4b148b57" category="list-text">Verifique o Privileges do administrador do cluster:</block>
  <block id="987c560d773c81bc59f0fa11370626f5" category="list-text">Verifique se você pode iniciar um pod que usa uma imagem do Docker Hub e alcançar seu sistema de armazenamento pela rede de pod:</block>
  <block id="d868f4f0026c532dcfdb417dde3174c2" category="section-title">Passo 1: Baixe o pacote de instalação do Trident</block>
  <block id="a1142049a82a11e90102d655bb7e234d" category="inline-link-macro">A seção _assets_ no GitHub</block>
  <block id="e0a7ed284b169328627ba69adfc9350d" category="paragraph">O pacote de instalação do Astra Trident contém tudo o que você precisa para implantar o operador Trident e instalar o Astra Trident. Baixe e extraia a versão mais recente do instalador do Trident a partir <block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>do .</block>
  <block id="e0755e6cf0a80c2d8535ac3b7eae0b4b" category="section-title">Passo 2: Crie o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRD</block>
  <block id="04bed90b9e7d65b6d7dd48211e0a9f6c" category="paragraph">Crie a<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Definição de recurso personalizada (CRD). Você criará um<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> recurso personalizado mais tarde. Use a versão apropriada do CRD YAML em<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block> para criar o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRD:</block>
  <block id="ad9aaefb573cd08d43c2b039449b1f0e" category="section-title">Etapa 3: Atualize a localização do Registro no operador</block>
  <block id="00be8b5bb428d40a01f22c5dfaced5bc" category="paragraph">No<block ref="02f3115b006f7541a477d52ea8c0f861" prefix=" " category="inline-code"></block>, atualize<block ref="5e146ae3f34d00ee9d9dfd14adb077b2" prefix=" " category="inline-code"></block> para refletir a localização do registo de imagens. O <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> pode estar localizado em um Registro ou Registros diferentes, mas todas as imagens CSI devem estar localizadas no mesmo Registro. Por exemplo:</block>
  <block id="e93860a0ea424a0e69abe92f2da77d80" category="list-text"><block ref="7c512d5013550eab761c07cf420c0618" prefix="" category="inline-code"></block> se todas as suas imagens estiverem localizadas em um registro.</block>
  <block id="a986eb4e954c9ef61b993f620528b25b" category="list-text"><block ref="2e87742ef58dd6e98b2afaaddbe68076" prefix="" category="inline-code"></block> Se a sua imagem Trident estiver localizada num registo diferente das suas imagens CSI.</block>
  <block id="7a79f435dcaa0ca2322cde1d80c13868" category="section-title">Etapa 4: Implante o operador Trident</block>
  <block id="4488449936bc789dc4dfb6a7887b3533" category="paragraph">O instalador do Astra Trident fornece um arquivo de pacote que pode ser usado para instalar o operador e criar objetos associados. O arquivo de pacote é uma maneira fácil de implantar o operador e instalar o Astra Trident usando uma configuração padrão.</block>
  <block id="210f1e5eca9c602b1282553f342448ae" category="list-text">Para clusters que executam o Kubernetes 1,24 ou anterior,<block ref="bd2cc8575fe69c7f775292759380c838" prefix=" " category="inline-code"></block> use o .</block>
  <block id="e4941fda44f66f353885d1a37ca63e2b" category="list-text">Para clusters que executam o Kubernetes 1,25 ou posterior,<block ref="5a02ebff4889c2de0379a0fb10bed282" prefix=" " category="inline-code"></block> use o .</block>
  <block id="622bbef04f6f2121d92777cd7c59cc83" category="list-text">Por padrão, o instalador do Trident implanta o operador no<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> namespace. Se o<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> namespace não existir, crie-o usando:</block>
  <block id="5bb66df6f3cd1e022e0cb84d5ef9e8e6" category="list-text">Para implantar o operador em um namespace diferente do<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> namespace, atualizar<block ref="8610cac3beb01fb0b43bc94c587a807d" prefix=" " category="inline-code"></block><block ref="a3df76a4fb69b2a5e9ec42d242e90ea3" prefix=" " category="inline-code"></block><block ref="9fa80de5781893b057ff1d535201893b" prefix=" " category="inline-code"></block> e gerar o arquivo do pacote usando o<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block>.</block>
  <block id="c6c7f5dc0544ce8f73992592be4fa6f0" category="list-text">Crie o<block ref="67b2cc1cd5b1570014463995fb2ada61" prefix=" " category="inline-code"></block> usando o seguinte comando onde _&lt;bundle&gt;_ está<block ref="b30cd2dae2689e160b36283c2657caa5" prefix=" " category="inline-code"></block> ou<block ref="e4384751f7a5be47c7eaafbdfc116ab5" prefix=" " category="inline-code"></block> baseado na sua versão do Kubernetes.</block>
  <block id="34e1bffd3ed9e5b9d2d9cec17fd7eadf" category="list-text">Compile o pacote usando o seguinte comando onde _&lt;bundle&gt;_ está<block ref="b30cd2dae2689e160b36283c2657caa5" prefix=" " category="inline-code"></block> ou<block ref="e4384751f7a5be47c7eaafbdfc116ab5" prefix=" " category="inline-code"></block> baseado na sua versão do Kubernetes.</block>
  <block id="05cb480f9344b60f5eeaed25c5e230d1" category="list-text">Crie os recursos e implante o operador:</block>
  <block id="806742cccf8380250ffb871d582a0a03" category="list-text">Verifique se o operador, a implantação e as replicasets foram criados.</block>
  <block id="a770ca95121cc795b602f9af6af024fb" category="admonition">Deve haver apenas *uma instância* do operador em um cluster do Kubernetes. Não crie várias implantações do operador Trident.</block>
  <block id="579b44412770c0d6b65bc3fd9bf7c61c" category="section-title">Passo 5: Atualize a localização do registo de imagens no<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block></block>
  <block id="d0ebde94f92d8c1bae0c6660a5847bba" category="paragraph">O <block ref="57de9a35aeedde82408b1e047030d221" category="inline-link-macro-rx"></block> pode estar localizado em um Registro ou Registros diferentes, mas todas as imagens CSI devem estar localizadas no mesmo Registro. Atualize<block ref="7b4b81fb05ca7f2a09fe73526ac95482" prefix=" " category="inline-code"></block> para adicionar as especificações de localização adicionais com base na configuração do seu registo.</block>
  <block id="5295ac8fb520b71deb8a1b57857b2562" category="section-title">Passo 6: Crie o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> e instale o Trident</block>
  <block id="78f538d1739cfd8c70698ec72269da17" category="inline-link-macro">Personalize a instalação do Trident</block>
  <block id="60b02b15eaf058a3b9da12633792321f" category="paragraph">Agora você pode criar e instalar o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Astra Trident. Opcionalmente, você pode usar ainda mais <block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block>os atributos na<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> especificação. O exemplo a seguir mostra uma instalação onde as imagens Trident e CSI estão localizadas em diferentes Registros.</block>
  <block id="9c0f95d6de9186b24cce94c1c19ad0bb" category="section-title">Verifique a instalação</block>
  <block id="f33407040f00668c9fe98aa95119654b" category="paragraph">Existem várias maneiras de verificar sua instalação.</block>
  <block id="1ee1b78e8a634a10be54657432d990c0" category="section-title"><block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>Usando o status</block>
  <block id="59331c774767b9695025c001ca75a1f6" category="inline-link-macro">verifique os logs</block>
  <block id="4b3e10870e70ff689f8c7d5c4470bb56" category="paragraph">O status de<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> indica se a instalação foi bem-sucedida e exibe a versão do Trident instalado. Durante a instalação, o status das<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> alterações de<block ref="2763f33c904a183bd0ef06f9c4fb4403" prefix=" " category="inline-code"></block> para<block ref="98dd43dfae05b11befe1f140e0ec787a" prefix=" " category="inline-code"></block>. Se você observar o<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block> status e o operador não conseguir recuperar sozinho, <block ref="b02c5b645df4a829ba2f9c98296d4b15" category="inline-link-macro-rx"></block>.</block>
  <block id="ec53a8c4f07baed5d8825072c89799be" category="cell">Estado</block>
  <block id="2763f33c904a183bd0ef06f9c4fb4403" category="cell">A instalar</block>
  <block id="64162845794ff7262e665deec58a84f5" category="cell">O operador está instalando o Astra Trident usando este<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR.</block>
  <block id="98dd43dfae05b11befe1f140e0ec787a" category="cell">Instalado</block>
  <block id="2fe2cc0adf9b69a871d33ba220695cd4" category="cell">O Astra Trident foi instalado com sucesso.</block>
  <block id="c2aaea4dacecce78b34302e41fcef75e" category="cell">Desinstalação</block>
  <block id="c27ff0e050a671f2eab32a372c9636bd" category="cell">O operador está desinstalando o Astra Trident,<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block> porque .</block>
  <block id="b78846123fdd78d5ab62451b855194e3" category="cell">Desinstalado</block>
  <block id="f8a32612e33c768b5fa0dd033d91ce8d" category="cell">O Astra Trident foi desinstalado.</block>
  <block id="d7c8c85bf79bbe1b7188497c32c3b0ca" category="cell">Falha</block>
  <block id="273b9a9e933220f1963cbac7a7a46645" category="cell">O operador não pôde instalar, corrigir, atualizar ou desinstalar o Astra Trident; o operador tentará recuperar automaticamente deste estado. Se este estado persistir, será necessário resolver o problema.</block>
  <block id="6909beea5b50605780e3411f879fe916" category="cell">A atualizar</block>
  <block id="3201d58137fab497dea740d761a9733b" category="cell">O operador está atualizando uma instalação existente.</block>
  <block id="902b0d55fddef6f8d651fe1035b7d4bd" category="cell">Erro</block>
  <block id="efaeca66375c8663b6d1d64f4886f267" category="cell">O<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> não é utilizado. Outro já existe.</block>
  <block id="474d9cf1b4e7f826154b0e1f35c59f5a" category="section-title">Usando o status de criação do pod</block>
  <block id="726f87e7b7987ccf71570849c59ae750" category="paragraph">Você pode confirmar se a instalação do Astra Trident foi concluída analisando o status dos pods criados:</block>
  <block id="8492a795a07bc459d58808ef0ab73c36" category="section-title">Utilização<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="af78a296b63187cfcb391c6b5b7ab9ae" category="paragraph">Você pode usar<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> para verificar a versão do Astra Trident instalada.</block>
  <block id="f032a385b0ce5fcf6464cead04cd3018" category="summary">Você pode implantar manualmente o operador Trident para instalar o Astra Trident. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Astra Trident não são armazenadas em um Registro privado.</block>
  <block id="5d8f25140dde9344f1318b1319929306" category="doc">Implantar manualmente o operador Trident (modo padrão)</block>
  <block id="b6d3bf16e1407232f27db7edf1b1aeb2" category="paragraph">Você pode implantar manualmente o operador Trident para instalar o Astra Trident. Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Astra Trident não são armazenadas em um Registro privado. Se tiver um registo de imagens privado, utilize o <block ref="3fd9bb28718715a2d036f0ab9d9239b8" category="inline-link-macro-rx"></block>.</block>
  <block id="953aeeea088f5f969f2eba121ae81f15" category="paragraph">Antes de iniciar a instalação, faça login no host Linux e verifique se ele está gerenciando um trabalho e <block ref="ac355729d1ddc95a290738ca862fed08" category="inline-link-macro-rx"></block>se você tem o Privileges necessário.</block>
  <block id="baa9ad279e74fa4534c3259cbc91b518" category="paragraph">Crie a<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Definição de recurso personalizada (CRD). Você criará um<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> recurso personalizado mais tarde. Use a versão apropriada do CRD YAML em<block ref="91ff3926f7c7983bb4a56689f631e6c9" prefix=" " category="inline-code"></block> para criar o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRD.</block>
  <block id="7e1c8354fb2b2ecb65abfa6a63e08970" category="section-title">Etapa 3: Implante o operador Trident</block>
  <block id="c35c65e4cd4cef23559781ed63709eb0" category="section-title">Passo 4: Crie o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> e instale o Trident</block>
  <block id="70e42312f50f2ab1f64d8045ef7bee39" category="paragraph">Agora você pode criar e instalar o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> Astra Trident. Opcionalmente, você pode <block ref="af79c767b326b6188dbe7366c85a8007" category="inline-link-macro-rx"></block> usar os atributos na<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> especificação.</block>
  <block id="7a958030f69f08aa24ff2b440556c305" category="summary">Você pode instalar o Astra Trident usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o . Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Astra Trident são armazenadas em um Registro privado ou não.</block>
  <block id="3d289dfc040026f9fd5fd0d307821b6c" category="doc">Instale usando o tridentctl</block>
  <block id="bbe2bfefd5797bb567e3da92f68ce8d1" category="inline-link-macro">Personalizar a implantação do tridentctl</block>
  <block id="9b809d56a3bb0caddcd0793e74d8e636" category="paragraph">Você pode instalar o Astra Trident usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o . Este processo aplica-se a instalações onde as imagens de contentor exigidas pelo Astra Trident são armazenadas em um Registro privado ou não. Para personalizar sua<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> implantação, <block ref="8e7a26c9800a78fa0b68fb2423ba3fb4" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="61697702c419c08b19643e7defded065" category="section-title">Instalar o Astra Trident usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="8e00e0acac84eb708bf35882acdffca9" category="paragraph">O pacote de instalação do Astra Trident cria um pod Trident, configura os objetos CRD que são usados para manter seu estado e inicializa os sidecars CSI para executar ações como provisionar e anexar volumes aos hosts de cluster. Baixe e extraia a versão mais recente do instalador do Trident a partir <block ref="6a7c34d1e7545bd3ab5abc336e61eb7f" category="inline-link-macro-rx"></block>do . Atualize _ cliente Trident-installer-XX.XX.X.tar.gz&gt;_ no exemplo com a versão selecionada do Astra Trident.</block>
  <block id="4fba6bba4e54639c0f1d19c0a5679833" category="section-title">Etapa 2: Instale o Astra Trident</block>
  <block id="c0e89c01626a7378d795a618051fccbf" category="paragraph">Instale o Astra Trident no namespace desejado executando o<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block> comando. Você pode adicionar argumentos adicionais para especificar a localização do Registro da imagem.</block>
  <block id="53c512e9599c71e1a585d636a5229820" category="open-title">Modo padrão</block>
  <block id="ca5380881d4e3b38f359d5d05acd6163" category="paragraph">Seu status de instalação deve ser parecido com isso.</block>
  <block id="c5e8fc3926c956e64487a70aa036ec8c" category="paragraph">Você pode verificar sua instalação usando o status de criação do pod ou<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>.</block>
  <block id="5ba19178fb1b2111306714e923b35945" category="inline-link-macro">ative o modo de depuração</block>
  <block id="43e7d51a6323aabe7af3d192e157f5ed" category="admonition">Se o instalador não for concluído com êxito ou<block ref="ce3abad3e11d6a43c5178e20a0c7d64b" prefix=" " category="inline-code"></block> <block ref="2903817a25b5de1e17a06122d71c5cf9" prefix="(" category="inline-code"></block> em versões anteriores a 23,01) não tiver um status *Running*, a plataforma não foi instalada. Use<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix=" " category="inline-code"></block> para <block ref="82f062b46969132d4baf9d002395a676" category="inline-link-macro-rx"></block> e solucione o problema.</block>
  <block id="1ff1fd258a61bd04eee000a1fb6131fa" category="example-title">Exemplo 1: Habilite o Astra Trident a ser executado em nós do Windows</block>
  <block id="f53514cf8829a41463c245b088ae732e" category="paragraph">Para permitir que o Astra Trident seja executado em nós do Windows:</block>
  <block id="a921baa9e8c81f13d59fed4fce57ec88" category="example-title">Exemplo 2: Ativar força desanexar</block>
  <block id="c5b5b00ff1b3a892c8694ab932cbf9ca" category="paragraph">Para obter mais informações sobre a força desapegada, <block ref="63cac71755fb6ef1f1fea34cf4037121" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="324e584edb971a95594d9f53d3cd5b56" category="summary">Você pode instalar o Astra Trident usando o operador Trident (manualmente ou usando o Helm) ou com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o . Este tópico fornece informações importantes para selecionar o processo de instalação certo para você.</block>
  <block id="0769d1459ee3d99d6454d7f99246c894" category="doc">Saiba mais sobre a instalação do Astra Trident</block>
  <block id="32a389c0498b062693ada7b4b9ac88d7" category="paragraph">Para garantir que o Astra Trident possa ser instalado em uma ampla variedade de ambientes e organizações, o NetApp oferece várias opções de instalação. Você pode instalar o Astra Trident usando o operador Trident (manualmente ou usando o Helm) ou com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o . Este tópico fornece informações importantes para selecionar o processo de instalação certo para você.</block>
  <block id="ef911ad0da9f5477ca7ec7af0ba4181a" category="paragraph">Independentemente do seu caminho de instalação, você deve ter:</block>
  <block id="3f2851ece89063ca1615062ac2117a4e" category="list-text">Privileges completo para um cluster Kubernetes compatível com execução de uma versão compatível do Kubernetes e requisitos de recursos habilitados. Reveja a <block ref="3675fd04b78685cacd6e23511ab11d10" category="inline-link-macro-rx"></block> para obter detalhes.</block>
  <block id="071d9becf308917b53d70c09e7da51b6" category="list-text">Acesso a um sistema de storage NetApp compatível.</block>
  <block id="19eb712f406fc64109f96d9cf4055cb9" category="list-text">Funcionalidade de montar volumes de todos os nós de trabalho do Kubernetes.</block>
  <block id="5f35b91e200cda68bf700d65b89c2c73" category="list-text">Um host Linux com<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> (ou<block ref="fb024832e51eb5f6da9113a745f1eb59" prefix=" " category="inline-code"></block>, se você estiver usando o OpenShift) instalado e configurado para gerenciar o cluster do Kubernetes que deseja usar.</block>
  <block id="f6f19569d16b2b36f137e3df3e315626" category="list-text">A<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> variável de ambiente configurada para apontar para a configuração do cluster do Kubernetes.</block>
  <block id="dd3de2609b612d76ef4c71b97b8d6100" category="inline-link">Siga os passos para ativar o acesso CLI</block>
  <block id="c585967fa32d82c5e3c24bd63926c6a0" category="list-text">Se você estiver usando o Kubernetes com Docker Enterprise<block ref="57562caf1c76e1a261b7e2f8c3d113f9" category="inline-link-rx"></block>, .</block>
  <block id="4a052772dca278b7be31d54ca9f21831" category="inline-link-macro">conceitos básicos</block>
  <block id="f73c8e5f81fc3213cf0bc8c399979852" category="admonition">Se você não se familiarizou com o <block ref="0342248ee22d08eaf42465a29ddd67ec" category="inline-link-macro-rx"></block>, agora é um grande momento para fazer isso.</block>
  <block id="a24b4ef46f44c1b54b99e62f49bef9af" category="section-title">Escolha o método de instalação</block>
  <block id="dcb987a2d08ee1a9198d1183b1a63a96" category="inline-link-macro">movendo-se entre métodos</block>
  <block id="e11c9248bc5d43c6663f67955adbc53b" category="paragraph">Selecione o método de instalação correto para você. Você também deve rever as considerações <block ref="e6ce874bf5f421a383109cc222a74763" category="inline-link-macro-rx"></block>antes de tomar sua decisão.</block>
  <block id="bd1cc9ebdb33ed22a54815219f97af08" category="section-title">Utilizando o operador Trident</block>
  <block id="b2ad529645b5bea51c4bcd516a5c5c8f" category="inline-link-macro">Personalize a implantação do seu operador Trident</block>
  <block id="938620f641cb8e0eead448105ff52780" category="paragraph">Seja implantando manualmente ou usando o Helm, o operador Trident é uma ótima maneira de simplificar a instalação e gerenciar dinamicamente os recursos do Astra Trident. Você pode até mesmo <block ref="5290e5312b651716bedf8a83ec5a6467" category="inline-link-macro-rx"></block> usar os atributos no<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> recurso personalizado (CR).</block>
  <block id="9d2c1d92b0ecb606394b40e3553d07d2" category="paragraph">Os benefícios de usar o operador Trident incluem:</block>
  <block id="636fc797e6d4f9b558107df8ad867cc7" category="example-title">&lt;strong&gt;Astra Trident Object creation&lt;/strong&gt;</block>
  <block id="9bb09894435f05fa667865ab4c45ace7" category="paragraph">O operador Trident cria automaticamente os seguintes objetos para a versão do Kubernetes.</block>
  <block id="839be275cd4b0f32a2c3e0278ce6d568" category="list-text">ServiceAccount para o operador</block>
  <block id="f330ead337ce41659c5526de118cdac3" category="list-text">ClusterRole e ClusterRoleBinding para o ServiceAccount</block>
  <block id="02c7e9dd319d7284e2200c673387dfdc" category="list-text">PodSecurityPolicy dedicada (para Kubernetes 1,25 e versões anteriores)</block>
  <block id="dbbf8c6ec95775d28c3c6da1878bf8c3" category="list-text">O próprio operador</block>
  <block id="504dabdcc3051fc4c1b7a92eb22fad82" category="example-title">&lt;strong&gt; capacidade de autorrecuperação &lt;/strong&gt;</block>
  <block id="1505039bc5aa0b8285d451e49fba843e" category="paragraph">O operador monitora a instalação do Astra Trident e toma ativamente medidas para resolver problemas, como quando a implantação é excluída ou se for modificada acidentalmente. É criado um<block ref="6088362e783ede60a64ba91287dc58c1" prefix=" " category="inline-code"></block> pod que associa<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> um CR a uma instalação do Astra Trident. Isso garante que haja apenas uma instância do Astra Trident no cluster e controla sua configuração, garantindo que a instalação seja idempotente. Quando as alterações são feitas na instalação (como, por exemplo, a exclusão do daemonset de implantação ou nó), o operador as identifica e as corrige individualmente.</block>
  <block id="0bfe7abd2878a67d5ff26746df309f8c" category="example-title">&lt;strong&gt; atualizações fáceis para &lt;/strong&gt; existente</block>
  <block id="cbbeebc91e4ea4f1960f7a74b5b14c23" category="paragraph">Você pode facilmente atualizar uma implantação existente com o operador. Você só precisa editar o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR para fazer atualizações em uma instalação.</block>
  <block id="561b04cbccb34a376c360e7325ad76d0" category="paragraph">Por exemplo, considere um cenário em que você precisa habilitar o Astra Trident para gerar logs de depuração. Para fazer isso, corrija o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> para definir<block ref="8cddd364bfd0d68f21e3a9ba1123b849" prefix=" " category="inline-code"></block> como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>:</block>
  <block id="c9534512c045771d255bf1068862beec" category="paragraph">Após<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> a atualização, o operador processa as atualizações e corrige a instalação existente. Isso pode acionar a criação de novos pods para modificar a instalação de acordo.</block>
  <block id="f72ba1a3a498489a96fd8774bfa9ea9d" category="example-title">&lt;strong&gt; handling&lt;/strong&gt; de atualização automática do Kubernetes</block>
  <block id="f456a413d0506028374e871768a5f176" category="paragraph">Quando a versão do Kubernetes do cluster é atualizada para uma versão compatível, a operadora atualiza uma instalação existente do Astra Trident automaticamente e a altera para garantir que ela atenda aos requisitos da versão do Kubernetes.</block>
  <block id="d1aae6ea63eb5e7fe6a9fcea5f671406" category="admonition">Se o cluster for atualizado para uma versão não suportada, o operador impede a instalação do Astra Trident. Se o Astra Trident já tiver sido instalado com a operadora, um aviso será exibido para indicar que o Astra Trident está instalado em uma versão Kubernetes não suportada.</block>
  <block id="c3b2fe84f143129d7a18ad12df229bc6" category="example-title">&lt;strong&gt; gerenciamento de clusters do Kubernetes usando o BlueXP  (anteriormente conhecido como Cloud Manager) &lt;/strong&gt;</block>
  <block id="fd1117c82327fbe8671f26e897ceb8f4" category="inline-link-macro">Astra Trident usando BlueXP </block>
  <block id="a76a1e164520105317267dc41b95e8ce" category="paragraph">Com <block ref="f8c16e8c21124ccc028d2db7fd32a98f" category="inline-link-macro-rx"></block>o , você pode atualizar para a versão mais recente do Astra Trident, adicionar e gerenciar classes de storage, conectá-las a ambientes de trabalho e fazer backup de volumes persistentes usando o Cloud Backup Service. O BlueXP  oferece suporte à implantação do Astra Trident usando o operador Trident, manualmente ou usando o Helm.</block>
  <block id="43e6c0a141c1737a96917c56c7e22a73" category="inline-link-macro">instalação usando o prefixo de referência do c</block>
  <block id="1a2de31d648d8c09e5c2a9257a5ad67b" category="paragraph">Se você tiver uma implantação existente que deve ser atualizada ou se você estiver procurando personalizar altamente sua implantação, considere <block ref="e214bf159dbaf6573cfe15f1373b92db" category="inline-link-macro-rx"></block>o . Esse é o método convencional de implantação do Astra Trident.</block>
  <block id="4c24a3b9facf2ea9fc7ed2ca52dab45d" category="inline-link-macro">personalize o seu prefixo de referência do bloco do cliente</block>
  <block id="40beff6895ce0eeff65f9568dd5c7247" category="paragraph">Você pode <block ref="d16089dfa270d6679e80d43ec8b5c378" category="inline-link-macro-rx"></block>gerar os manifestos para recursos do Trident. Isso inclui a implantação, o daemonset, a conta de serviço e a função de cluster que o Astra Trident cria como parte de sua instalação.</block>
  <block id="cb024a74bf03f9ba7a9433337492808e" category="admonition">A partir da versão 22,04, as chaves AES não serão mais regeneradas sempre que o Astra Trident for instalado. Com este lançamento, o Astra Trident instalará um novo objeto secreto que persiste em todas as instalações. Isso significa que<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> no 22,04 pode desinstalar versões anteriores do Trident, mas versões anteriores não podem desinstalar instalações do 22,04. Selecione a instalação apropriada _method_.</block>
  <block id="84721e18f913ae71c91ded91f5eb0ccc" category="section-title">Escolha o modo de instalação</block>
  <block id="ecafb217c7f4e740b9f654a4f2d90d83" category="paragraph">Determine seu processo de implantação com base no _modo de instalação_ (padrão, Offline ou remoto) exigido pela sua organização.</block>
  <block id="e0090e5eeb1da23a2924e8a8913a9bf8" category="open-title">Instalação padrão</block>
  <block id="2de7b81fa5e55c649aed923c069d97fa" category="paragraph">Essa é a maneira mais fácil de instalar o Astra Trident e funciona para a maioria dos ambientes que não impõem restrições de rede. O modo de instalação padrão usa Registros padrão para armazenar <block ref="95d6355f896a633ab07c528c03b44c8e" prefix="(" category="inline-code"></block>imagens Trident <block ref="0b505db73d92bac18356fa3feb3cf7e3" prefix="(" category="inline-code"></block>) e CSI necessárias.</block>
  <block id="bed44ad15130067b96b51ba770e3e821" category="paragraph">Quando você usa o modo padrão, o instalador do Astra Trident:</block>
  <block id="ca02732ace7c24d10b82abb835861fa8" category="list-text">Obtém as imagens de contentor pela Internet</block>
  <block id="2a35874c002d31bf8a669cf5f15508f2" category="list-text">Cria um daemonset de implantação ou nó, que ativa pods do Astra Trident em todos os nós qualificados no cluster do Kubernetes</block>
  <block id="6c09f957f6dd5f1b3287dacfabe8711a" category="open-title">Instalação offline</block>
  <block id="559e73031b36e6693dcd5724b5ec9488" category="paragraph">O modo de instalação off-line pode ser necessário em um local seguro ou protegido. Nesse cenário, você pode criar um único Registro privado espelhado ou dois Registros espelhados para armazenar imagens Trident e CSI necessárias.</block>
  <block id="37f28a5a50507d5cf12665008632572f" category="admonition">Independentemente da configuração do Registro, as imagens CSI devem residir em um Registro.</block>
  <block id="8e9a94c9655a1b4aac478f836ff8dde6" category="open-title">Instalação remota</block>
  <block id="3937570b6000a2f24b3066af230f4546" category="paragraph">Aqui está uma visão geral de alto nível do processo de instalação remota:</block>
  <block id="37dbca6cb8ca55a471ebc072575c0a46" category="list-text">Implante a versão apropriada do<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> na máquina remota de onde você deseja implantar o Astra Trident.</block>
  <block id="02ed10abbc71334918b1acb54df6e3f3" category="list-text">Copie os arquivos de configuração do cluster do Kubernetes e defina a<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> variável de ambiente na máquina remota.</block>
  <block id="da693b77cde91654c6296abe8f901988" category="list-text">Inicie um<block ref="1513e62b9eb7bbfc46c1be1a91a2ab76" prefix=" " category="inline-code"></block> comando para verificar se você pode se conetar ao cluster do Kubernetes necessário.</block>
  <block id="df65ec31c6f96e95301e3c6ff8863335" category="list-text">Conclua a implementação a partir da máquina remota utilizando as etapas de instalação padrão.</block>
  <block id="8be61d7ba452354892142828445281d0" category="section-title">Selecione o processo com base no seu método e modo</block>
  <block id="667af34faf4c2e74b377bbe7608ca481" category="paragraph">Depois de tomar suas decisões, selecione o processo apropriado.</block>
  <block id="4c3880bb027f159e801041b1021e88e8" category="cell">Método</block>
  <block id="f8a17e31b9d98082aa01aa0b41f63a01" category="cell">Modo de instalação</block>
  <block id="e633d636fff46ea0b0998da525b2fba2" category="cell">Operador Trident (manualmente)</block>
  <block id="8f923c676fa6a52b7729476fc0d5f245" category="paragraph"><block ref="8f923c676fa6a52b7729476fc0d5f245" category="inline-link-macro-rx"></block></block>
  <block id="d295bad40364c9511c0d7b6a18e9557b" category="paragraph"><block ref="d295bad40364c9511c0d7b6a18e9557b" category="inline-link-macro-rx"></block></block>
  <block id="b9267203f04d91a5fcda0041ad2b3b64" category="cell">Operador Trident (Helm)</block>
  <block id="c197c2a4864a9d7a8190b1988d1e5885" category="paragraph"><block ref="c197c2a4864a9d7a8190b1988d1e5885" category="inline-link-macro-rx"></block></block>
  <block id="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="paragraph"><block ref="8dc52e4e0ca84a69e954b9b7a21c2bfc" category="inline-link-macro-rx"></block></block>
  <block id="0b9d702360fb60f9b8b477339ca03a7b" category="cell"><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="" category="inline-code"></block></block>
  <block id="be686de0390e44f3981b994e059dfcb7" category="inline-link-macro">Instalação padrão ou offline</block>
  <block id="9e244fc5020d1137289c0c34c2944ac4" category="paragraph"><block ref="9e244fc5020d1137289c0c34c2944ac4" category="inline-link-macro-rx"></block></block>
  <block id="dd341f866eaefb939dc86608773c909d" category="section-title">Movendo-se entre os métodos de instalação</block>
  <block id="84dfae02381a00cf11d01c571e3e3e0f" category="paragraph">Você pode decidir alterar seu método de instalação. Antes de fazer isso, considere o seguinte:</block>
  <block id="a2f9fc61dcbb8d315328956b20ee41f8" category="list-text">Sempre use o mesmo método para instalar e desinstalar o Astra Trident. Se você implantou com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o , use a versão apropriada<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> do binário para desinstalar o Astra Trident. Da mesma forma, se você estiver implantando com o operador, edite o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR e configure<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block> para desinstalar o Astra Trident.</block>
  <block id="aa7d43663995cc5a82e0608e61443ac2" category="list-text">Se você tiver uma implantação baseada em operador que deseja remover e usar<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> para implantar o Astra Trident, primeiro edite<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> e configure<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block> para desinstalar o Astra Trident. Em seguida, exclua<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> e a implantação do operador. Você pode instalar usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="e77325ac6e155cf5d14c756f1d64333f" category="list-text">Se você tiver uma implantação manual baseada no operador e quiser usar a implantação do operador Trident baseada no Helm, desinstale manualmente o operador primeiro e execute a instalação do Helm. Isso permite que o Helm implante o operador Trident com as etiquetas e anotações necessárias. Se você não fizer isso, sua implantação de operador Trident baseada em Helm falhará com erro de validação de rótulo e erro de validação de anotação. Se você tem uma<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> implantação baseada em -, você pode usar a implantação baseada em Helm sem problemas.</block>
  <block id="25c11af81bf0b01ce7b0f24ddc9f7136" category="section-title">Outras opções de configuração conhecidas</block>
  <block id="ffedfe711d36cdc8c41927063ae77027" category="paragraph">Ao instalar o Astra Trident em produtos do portfólio VMware Tanzu:</block>
  <block id="8ded34c5caad3971bb6d0a2b202d7b32" category="list-text">O cluster precisa dar suporte a workloads privilegiados.</block>
  <block id="dbe38f4f0d856b41827e6e4531720a5e" category="list-text">A<block ref="4009da7ed740211f32d29441deab875e" prefix=" " category="inline-code"></block> bandeira deve ser definida para a localização do diretório kubelet. Por padrão, isso é<block ref="a926643d94a7dbc3362b17c2ed8a3f12" prefix=" " category="inline-code"></block>.</block>
  <block id="4dc3529fbf05312075f0aa52f9c0908e" category="paragraph">Especificar a localização do kubelet usando<block ref="4009da7ed740211f32d29441deab875e" prefix=" " category="inline-code"></block> é conhecido por funcionar para o Operador Trident, Helm e<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> implantações.</block>
  <block id="55847a7d73d44b84804f47ee7863b80f" category="summary">Depois de implantar o Astra Trident, você pode continuar criando um back-end, criando uma classe de storage, provisionando um volume e montando o volume em um pod.</block>
  <block id="3f297ef15cde0668e93b35f2752fd4fd" category="doc">O que vem a seguir?</block>
  <block id="5a04d9954bfe73c6033b2a6a77d3bae8" category="paragraph">Depois de instalar o Astra Trident, você pode continuar criando um back-end, criando uma classe de storage, provisionando um volume e montando o volume em um pod.</block>
  <block id="0b0ca016c0d99a4845777aeeebb032ac" category="section-title">Passo 1: Crie um backend</block>
  <block id="4f374e8dd911d1e70f7b7a53fdac1f2a" category="paragraph">Agora você pode ir em frente e criar um back-end que será usado pelo Astra Trident para provisionar volumes. Para fazer isso, crie um<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> arquivo que contenha os parâmetros necessários. Arquivos de configuração de exemplo para diferentes tipos de backend podem ser encontrados<block ref="75e4a0ceb294a9d74374c938e4e8ddc8" prefix=" " category="inline-code"></block> no diretório.</block>
  <block id="8b389d7be97d6c697a4e775ff8338905" category="paragraph">Consulte <block ref="49641f5ab61d7a6ce07b1b6ba31204f8" category="inline-link-macro-rx"></block> para obter mais detalhes sobre como configurar o arquivo para o seu tipo de back-end.</block>
  <block id="af445e1d9a0a481ba7f9b5f01df23a3d" category="paragraph">Se a criação falhar, algo estava errado com a configuração de back-end. Você pode exibir os logs para determinar a causa executando o seguinte comando:</block>
  <block id="00715976efdc0cc3b7c5a8512fb0e08d" category="inline-link-macro">o diagnóstico de avarias</block>
  <block id="936067ad00da88d877acb024c96f3129" category="paragraph">Depois de resolver o problema, basta voltar ao início deste passo e tentar novamente. Para obter mais dicas de solução de problemas, <block ref="fa8c952f2dea85664a3e3e5dc210aa4c" category="inline-link-macro-rx"></block>consulte a seção.</block>
  <block id="0cf7ce61dd48f9396923c05ab8f5e302" category="section-title">Passo 2: Crie uma classe de armazenamento</block>
  <block id="8c566ff50efde64c700b1188e862c328" category="inline-link">classe de armazenamento</block>
  <block id="c44e939795fbf61079e70122d3e77735" category="paragraph">Os usuários do Kubernetes provisionam volumes usando declarações de volume persistentes (PVCs) que especificam um<block ref="bc70014ff50467618a31ef39142ab151" category="inline-link-rx"></block> por nome. Os detalhes ficam ocultos para os usuários, mas uma classe de storage identifica o provisionador usado para essa classe (nesse caso, Trident) e o que essa classe significa para o provisionador.</block>
  <block id="56cc6184a3bc4387f839993b204e4c5f" category="paragraph">Criar uma classe de armazenamento que os usuários do Kubernetes especificarão quando quiserem um volume. A configuração da classe precisa modelar o back-end criado na etapa anterior, para que o Astra Trident a use para provisionar novos volumes.</block>
  <block id="45a1f9131ca1bec07f47f45a194d9d58" category="paragraph">A classe de armazenamento mais simples para começar é uma baseada no<block ref="9a35c6080acd99f860d0c669b1a980f9" prefix=" " category="inline-code"></block> arquivo que vem com o instalador, substituindo<block ref="9c9a0798e59f3f4d7b08e45faef1e131" prefix=" " category="inline-code"></block> pelo nome do driver de armazenamento.</block>
  <block id="b4987be37083b7196f23d63ddd5d56df" category="paragraph">Esse é um objeto do Kubernetes, então você usa<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> para criá-lo no Kubernetes.</block>
  <block id="a191af7083288f9d9556f3ebcd821a34" category="paragraph">Agora você deve ver uma classe de storage *Basic-csi* no Kubernetes e Astra Trident, e o Astra Trident deve ter descoberto os pools no back-end.</block>
  <block id="3bdc1ec6969d1615bb58d7f0443bf1c2" category="section-title">Etapa 3: Provisione seu primeiro volume</block>
  <block id="a58b17a231318aa42ed47bfe0be43447" category="inline-link">reembolso de volume persistente</block>
  <block id="512b66e66e82ba09d70c3e9f784aa8af" category="paragraph">Agora você está pronto para provisionar dinamicamente seu primeiro volume. Isso é feito criando um objeto Kubernetes<block ref="95c09f225fe48abca705fd090f5f4c89" category="inline-link-rx"></block> (PVC).</block>
  <block id="61e8eac65ddef26d4c4230d88cae8498" category="paragraph">Crie um PVC para um volume que use a classe de armazenamento que você acabou de criar.</block>
  <block id="b357acbdc339437d16e4e967ecc6d0c2" category="paragraph"><block ref="12bd5df975eb53052356f9e87bb1a28c" prefix=" " category="inline-code"></block>Consulte para obter um exemplo. Verifique se o nome da classe de armazenamento corresponde ao que você criou.</block>
  <block id="2fe8954464ccf22d2d06423b358f38a7" category="section-title">Etapa 4: Montar os volumes em um pod</block>
  <block id="366556d176e685870d134b7fc6e9ca3c" category="paragraph">Agora vamos montar o volume. Vamos lançar um pod nginx que monta o PV sob<block ref="cf45e6e1bb42c43e8b12803789d6c36d" prefix=" " category="inline-code"></block>.</block>
  <block id="6f5eca6ad9143d35bb33a1a17df3a848" category="paragraph">Neste ponto, o pod (aplicativo) não existe mais, mas o volume ainda está lá. Você pode usá-lo de outro pod, se quiser.</block>
  <block id="3ba419ecccf23f33a6bae5d23f206fdd" category="paragraph">Para eliminar o volume, elimine a reclamação:</block>
  <block id="1a00c9156117d9ec9fa3e45d5a757d04" category="paragraph">Agora você pode fazer tarefas adicionais, como as seguintes:</block>
  <block id="ce2c6a300f520205e891fc45009ec4c3" category="inline-link-macro">Configurar backends adicionais.</block>
  <block id="642bfa81920103d4177bb3fdf6f9186f" category="list-text"><block ref="642bfa81920103d4177bb3fdf6f9186f" category="inline-link-macro-rx"></block></block>
  <block id="93e8ba41e1ebcadc1338cc7f75109210" category="inline-link-macro">Crie classes de armazenamento adicionais.</block>
  <block id="daa40449d28fbb16d2bcd8a8434d05e6" category="list-text"><block ref="daa40449d28fbb16d2bcd8a8434d05e6" category="inline-link-macro-rx"></block></block>
  <block id="a60c2f57df655a9ac5fcaa0750886195" category="summary">Se você acabou de começar a usar o Kubernetes, siga as instruções para instalar o Kubernetes para experimentá-lo. Essas instruções fornecem um cluster de nó único e bare-metal com o qual o Trident pode se integrar para fins de demonstração.</block>
  <block id="62bdbe048d174b559cb770f9ebaf0895" category="doc">Experimente</block>
  <block id="e8dadc588901af436e2c6036acf23973" category="inline-link-macro">Unidade de teste do NetApp</block>
  <block id="71503111a9a38d6809e90320e9623ce0" category="paragraph">O NetApp fornece uma imagem de laboratório pronta para uso que pode ser solicitada através <block ref="eb9c34df0ed196dd801ef85207c8bf2c" category="inline-link-macro-rx"></block>do .</block>
  <block id="8e38f783b1f4f54c97bae54c0e8a176f" category="section-title">Saiba mais sobre o Test Drive</block>
  <block id="99dc40aa93c5cb01a5d80f68e3287975" category="paragraph">O Test Drive oferece um ambiente sandbox que inclui um cluster de Kubernetes de três nós e o Astra Trident instalado e configurado. É uma ótima maneira de se familiarizar com o Astra Trident e explorar seus recursos.</block>
  <block id="8685ac2061f9dca7ab48f41e0871f7af" category="inline-link-macro">Guia de Instalação do kubeadm</block>
  <block id="37bdb0f602c1d2a2a6f285533e4ce5c8" category="paragraph">Outra opção é ver o <block ref="c7dbb75618a5e106a360075f923cb87f" category="inline-link-macro-rx"></block> fornecido pelo Kubernetes.</block>
  <block id="2cf0c4e99dd3c0b2e7e0f63af3531622" category="admonition">Você não deve usar o cluster do Kubernetes criado usando essas instruções em produção. Use os guias de implantação de produção fornecidos pela distribuição para criar clusters prontos para produção.</block>
  <block id="e3ecede511471cf67c294e427e2f012e" category="paragraph">Se esta for a primeira vez que você estiver usando o Kubernetes, familiarize-se com os conceitos e as ferramentas <block ref="22f850f308b2d2016502017a1dcd1044" category="inline-link-macro-rx"></block>.</block>
  <block id="901977c62370814085e1228ede1e5919" category="summary">Antes de instalar o Astra Trident, você deve analisar esses requisitos gerais de sistema. Backends específicos podem ter requisitos adicionais.</block>
  <block id="5a2ebfb8baa378cfcfcba58bbb1380c2" category="doc">Requisitos</block>
  <block id="9899a49139c92dc0ebfa6808b9d83291" category="section-title">Informações críticas sobre o Astra Trident 23,01</block>
  <block id="c777be7f669397b0a376fe32ca5cd9c3" category="section-title">Frontens suportados (orquestradores)</block>
  <block id="74aefc05d193afd5c50a0df882997656" category="paragraph">O Astra Trident é compatível com vários mecanismos de contêiner e orquestradores, incluindo os seguintes:</block>
  <block id="40991bba76926bfbcf7fb0b9c207187f" category="list-text">Anthos On-Prem (VMware) e Anthos em bare metal 1,12</block>
  <block id="10ba3564f65dbf6cec8650972c26ea30" category="list-text">Kubernetes 1,21 - 1,27</block>
  <block id="094a6e8342b02106129112ad2ff3d374" category="list-text">Mecanismo do Kubernetes do Mirantis 3,5</block>
  <block id="020762714bd7a4355a1abeca3c382c18" category="list-text">OpenShift 4,9 - 4,12</block>
  <block id="201eb37826a33e35adff9119f25946bd" category="paragraph">O operador Trident é suportado com estas versões:</block>
  <block id="8fad5c21cf613e120f249eadc62cda2f" category="paragraph">O Astra Trident também trabalha com uma série de outras ofertas do Kubernetes totalmente gerenciadas e autogeridas, incluindo o Google Kubernetes Engine (GKE), o Amazon Elastic Kubernetes Services (EKS), o Azure Kubernetes Service (AKS), o Rancher e o portfólio VMware Tanzu.</block>
  <block id="61d74cfa0c3f53abef0b4694fba0522f" category="inline-link-macro">Atualize uma instalação de operador baseada em Helm</block>
  <block id="36b8e64fc53799e09b318940d0d01c3b" category="admonition">Antes de atualizar um cluster do Kubernetes do 1,24 para o 1,25 ou posterior que tenha o Astra Trident instalado, <block ref="b78a528fa331707807c1d5b493daab09" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="f787cd4b6963b13f12fa53131f58ef6c" category="section-title">Backends suportados (armazenamento)</block>
  <block id="843e2f0c722d25903a6010b62ac4f13b" category="paragraph">Para usar o Astra Trident, você precisa de um ou mais dos seguintes back-ends compatíveis:</block>
  <block id="4d82a1ec1af02725042c8c785564ee7a" category="list-text">Amazon FSX para NetApp ONTAP</block>
  <block id="7450cfde7058dc5e1f7909d0280fd7ae" category="list-text">Azure NetApp Files</block>
  <block id="117bdbda976fe8b3212bc3b6327a0a1b" category="list-text">Cloud Volumes ONTAP</block>
  <block id="a3c559e0541e9bb860178ce6fe414224" category="list-text">Cloud Volumes Service para GCP</block>
  <block id="0ffed9ae8c0b8e64c5dc8cba81c4fe34" category="list-text">FAS/AFF/Selecione 9,5 ou posterior</block>
  <block id="1d3d126b8a5bad69c46ed03734beed47" category="list-text">NetApp All SAN Array (ASA)</block>
  <block id="6b51834314ece904405eb0ce1a6e6bd8" category="list-text">Software NetApp HCI/Element 11 ou superior</block>
  <block id="c7c7a6a5641f33e348244f9c43010e16" category="section-title">Requisitos de recursos</block>
  <block id="6286d1b386e84c92fae11f2bcb9ceecd" category="paragraph">A tabela abaixo resume os recursos disponíveis com esta versão do Astra Trident e as versões do Kubernetes compatíveis.</block>
  <block id="21021ea0e52be8e9c599f4dff41e5be0" category="cell">Recurso</block>
  <block id="80afba45eb055fc9bdc48c90d1debd06" category="cell">Versão do Kubernetes</block>
  <block id="10f295a61d2a793ac8936a69cf458654" category="cell">É necessário ter portões?</block>
  <block id="f336592ca417cff322b935bc0eeaff8f" category="cell">CSI Trident</block>
  <block id="fe74bcccaeacaddf91b58dec28fef5be" category="paragraph">1,21 - 1,27</block>
  <block id="bafd7322c6e97d25b6299b5d6fe8920b" category="paragraph">Não</block>
  <block id="e830b7e4d1fb7f84600876af87cb4381" category="cell">Instantâneos de volume</block>
  <block id="ea8ed249117e76cb53766e218fe2b7c7" category="cell">PVC a partir de instantâneos de volume</block>
  <block id="28dcded20f550dcad1bd9bb03a5bbe73" category="cell">Redimensionamento iSCSI PV</block>
  <block id="1673543ed032e46f3572ba65bc070693" category="cell">ONTAP bidirectional CHAP</block>
  <block id="176e16df4faab1a1e06e9585c813d5fe" category="cell">Políticas de exportação dinâmica</block>
  <block id="1f7219b07d5bce7feec002a9f4dc2201" category="cell">Operador Trident</block>
  <block id="443432948b68bb63d707ce7ecc4a021a" category="cell">Topologia de CSI</block>
  <block id="af7c8216a3289efe1a298a19c00b8b8c" category="section-title">Sistemas operacionais de host testados</block>
  <block id="6726c1f070eb0e4315bf3ec874a13f78" category="paragraph">Embora o Astra Trident não seja oficialmente compatível com sistemas operacionais específicos, sabe-se que os seguintes itens funcionam:</block>
  <block id="362997bacf08e019288e372d8ae1f070" category="list-text">Versões do RedHat CoreOS (RHCOS) suportadas pela OpenShift Container Platform (AMD64 e ARM64)</block>
  <block id="a3460163c4a2854c79a419dda57ac917" category="list-text">RHEL 8 OU SUPERIOR (AMD64 E ARM64)</block>
  <block id="f51a58a0cffb9f9953edce6411578b53" category="list-text">Ubuntu 22,04 ou posterior (AMD64 e ARM64)</block>
  <block id="1285a056fd837828136d15f7e76d09cc" category="list-text">Windows Server 2019 (AMD64 bits)</block>
  <block id="57b3e1695eb7d16642702fbce3837b86" category="paragraph">Por padrão, o Astra Trident é executado em um contentor e, portanto, será executado em qualquer trabalhador Linux. No entanto, esses funcionários precisam ser capazes de montar os volumes que o Astra Trident fornece usando o cliente NFS padrão ou iniciador iSCSI, dependendo dos backends que você está usando.</block>
  <block id="11ea58814ce429c3e3254a63f8cde7a4" category="paragraph">O<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> utilitário também é executado em qualquer uma dessas distribuições do Linux.</block>
  <block id="13d80777c8fd43e555c1f5b1b72d7ef0" category="section-title">Configuração de host</block>
  <block id="f8b1c66e563136ad12055c2d31964acc" category="paragraph">Todos os nós de trabalho no cluster do Kubernetes precisam ser capazes de montar os volumes provisionados para os pods. Para preparar os nós de trabalho, você deve instalar ferramentas NFS ou iSCSI com base na seleção de driver.</block>
  <block id="89d83ec6e8ec0c087fbc4aedc555b362" category="inline-link-macro">Prepare o nó de trabalho</block>
  <block id="f36d25716a4b2c466ddcb8065bef3ae6" category="paragraph"><block ref="f36d25716a4b2c466ddcb8065bef3ae6" category="inline-link-macro-rx"></block></block>
  <block id="2139fe384d5ae165545994dff01961d9" category="section-title">Configuração do sistema de storage</block>
  <block id="0d25ed458cdfc3817973631b0b776a34" category="paragraph">O Astra Trident pode exigir alterações em um sistema de storage antes que uma configuração de back-end o use.</block>
  <block id="87dc0337d3ded2211d9b01c32e22d90d" category="inline-link-macro">Configurar backends</block>
  <block id="50823ee9226376c44bfb71c334ee2f3f" category="paragraph"><block ref="50823ee9226376c44bfb71c334ee2f3f" category="inline-link-macro-rx"></block></block>
  <block id="b229055f6bd047c28dfc84c9bee4c252" category="section-title">Portas Astra Trident</block>
  <block id="29dcef620f05a3eaaf13d29d1f14e860" category="paragraph">O Astra Trident requer acesso a portas específicas para comunicação.</block>
  <block id="b2dabe4b341f1e163a7ba3f3553d6b1b" category="paragraph"><block ref="b2dabe4b341f1e163a7ba3f3553d6b1b" category="inline-link-macro-rx"></block></block>
  <block id="923680056b0f0258907f498670b4ead1" category="section-title">Imagens de contêineres e versões correspondentes do Kubernetes</block>
  <block id="ee50d481128d1543f9945b4a4f3fbe9d" category="paragraph">Para instalações com conexão de ar, a lista a seguir é uma referência das imagens de contêiner necessárias para instalar o Astra Trident. Use o<block ref="4ebf280824868255c952dc529072ecb9" prefix=" " category="inline-code"></block> comando para verificar a lista de imagens de contentor necessárias.</block>
  <block id="aa92c4c233bc01609d957e469736b699" category="cell">Imagem do recipiente</block>
  <block id="6f0b081bef5e745ef2429ef74472d9bd" category="cell">v1.21.0</block>
  <block id="48c807e08099dd321790a397d4e17e28" category="list-text">docker.io/NetApp/Trident:23.04.0</block>
  <block id="417605e9cc8da2514c99aaf846144b96" category="list-text">docker.io/NetApp/Trident-AutoSupport:23,04</block>
  <block id="e25b6bdb94c83d79f50a7d33929b965a" category="list-text">provisionador do registry.k8s.io/sig-storage/csi:v3,4.1</block>
  <block id="cbad6fc461000c6d8790221b622aceb0" category="list-text">registry.k8s.io/sig-storage/csi-attacher:v4,2.0</block>
  <block id="42b4a2f67addae58772b1c250a251f7e" category="list-text">registry.k8s.io/sig-storage/csi-resizer:v1.7.0</block>
  <block id="6171b5857bec22984fe260652936c7b1" category="list-text">registry.k8s.io/sig-storage/csi-snapshotter:v6,2.1</block>
  <block id="87cd48d9616779fe4d3afb72f325eb12" category="list-text">registry.k8s.io/sig-storage/csi-node-driver-registrador:v2.7.0</block>
  <block id="8eb8a41b260e1d77c7ffe733b87d87a1" category="list-text">docker.io/NetApp/Trident-operador:23.04.0 (opcional)</block>
  <block id="681d715b456f6d29a501b8f132e941a1" category="cell">v1.22.0</block>
  <block id="73e93ad328287e5ce4c06228cfdba2bf" category="cell">v1.23.0</block>
  <block id="468bc1e7f7712a8dc9b91d063523cdff" category="cell">v1.24.0</block>
  <block id="6f4b2a393838b7a42ebca342bdba2246" category="cell">v1.25.0</block>
  <block id="725cbb3a0d4bcdf2e5483f06a14ffc8a" category="cell">v1.26.0</block>
  <block id="b38420e98813aed20daa115db2ac94a9" category="cell">v1.27.0</block>
  <block id="a54af9f6f0bee26551da0258c438d6b9" category="admonition">No Kubernetes versão 1,21 e posterior, use a imagem validada<block ref="40f3a80e171b33f08017cecd592672f1" prefix=" " category="inline-code"></block> somente se a<block ref="6654c734ccab8f440ff0825eb443dc7f" prefix=" " category="inline-code"></block> versão estiver servindo o<block ref="ab003b1d43edbe8a5b9d3e8baef8790c" prefix=" " category="inline-code"></block> CRD. Se a<block ref="ee21100dace47d83bcefcb7dea09cdd3" prefix=" " category="inline-code"></block> versão estiver servindo o CRD com/sem a<block ref="6654c734ccab8f440ff0825eb443dc7f" prefix=" " category="inline-code"></block> versão, use a imagem validada<block ref="fdb913c5472aa018b449f65e38beb9e0" prefix=" " category="inline-code"></block>.</block>
  <block id="1e209c07680392db2505687941188c9f" category="summary">Saiba mais sobre os passos envolvidos na redução para uma versão anterior do Astra Trident.</block>
  <block id="9b51b245233e60555d569a43ebaa1b8d" category="doc">Downgrade Astra Trident</block>
  <block id="9bb6c30b6b6e3a9fbbd83b458a3556eb" category="section-title">Quando fazer downgrade</block>
  <block id="f58ee9343b12a3276981187a42480ba7" category="paragraph">Você pode considerar downgrade por vários motivos, como o seguinte:</block>
  <block id="e930f1fff9365ca35f55f1e61bef69a9" category="list-text">Planejamento de contingência</block>
  <block id="235115784feaabab0df1d64a2019b176" category="list-text">Correção imediata para bugs observados como resultado de uma atualização</block>
  <block id="41768ab308324d6b4a49e2e225427666" category="list-text">Problemas de dependência, atualizações sem sucesso e incompletas</block>
  <block id="26dbe1fe275b741e7240a373222d3480" category="paragraph">Você deve considerar um downgrade ao mudar para uma versão do Astra Trident que usa CRDs. Como o Astra Trident usa CRDs para manter o estado, todas as entidades de storage criadas (backends, classes de storage, PV e snapshots de volume) têm objetos CRD associados em vez de dados gravados<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> no PV (usados pela versão instalada anterior do Astra Trident). PVS, backends e classes de armazenamento recém-criados são todos mantidos como objetos CRD.</block>
  <block id="06b33bc9cc124539c964174ecd43eb43" category="paragraph">Tente fazer o downgrade apenas para uma versão do Astra Trident que seja executada usando CRDs (19,07 e posterior). Isso garante que as operações realizadas na versão atual do Astra Trident sejam visíveis após o downgrade ocorrer.</block>
  <block id="cb4d3c8706ed4dd2a49a007f19e8b30a" category="section-title">Quando não para downgrade</block>
  <block id="7be40d1b43eccf7d81bd7ad70a7cee5b" category="paragraph">Você não deve fazer o downgrade para uma versão do Trident que usa<block ref="a226e9fbdfc1c8dd7e7fef4d333f86ed" prefix=" " category="inline-code"></block> para manter o estado (19,04 e anterior). Todas as operações executadas com o lançamento atual do Astra Trident não se refletem após o downgrade. PVS recém-criados não são utilizáveis ao voltar para uma versão anterior. As alterações feitas em objetos como backends, PVS, classes de armazenamento e snapshots de volume (criados/atualizados/excluídos) não são visíveis para o Astra Trident ao voltar para uma versão anterior. Voltar para uma versão anterior não interrompe o acesso para PVS que já foram criados usando a versão mais antiga, a menos que tenham sido atualizados.</block>
  <block id="716e6c4d72b03c2b5b4503d5e968e654" category="section-title">Processo de downgrade quando o Astra Trident é instalado usando o operador</block>
  <block id="286ac65245e7b7508f3cdf1dea1c60eb" category="paragraph">Para instalações realizadas usando o Operador Trident, o processo de downgrade é diferente e não requer o uso<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>do .</block>
  <block id="41cc548b7b7993679e555423a014ca5c" category="paragraph">Para instalações feitas usando o operador Trident, o Astra Trident pode ser rebaixado para uma das seguintes opções:</block>
  <block id="c3d92c281c17e41ffac420b45790ecbf" category="list-text">Uma versão que é instalada usando o operador com escopo de namespace (20,07 - 20,10).</block>
  <block id="69f5b5f7aa4a5f07267b9c758e2580e6" category="list-text">Uma versão que é instalada usando o operador com escopo de cluster (21,01 e posterior).</block>
  <block id="0d8778040c29d89141a733b060314da3" category="section-title">Downgrade para operador com escopo de cluster</block>
  <block id="12a3bd4ff105bed8650ca128636a078f" category="paragraph">Para fazer o downgrade do Astra Trident para uma versão que usa o operador com escopo de cluster, siga as etapas mencionadas abaixo.</block>
  <block id="43f17763173fe230bdd78477152f5f7d" category="inline-link-macro">Desinstale o Astra Trident</block>
  <block id="6c5b68b88f6af6f28b3bf69ad9c17b70" category="list-text"><block ref="e6c6ebb45af4a1845e181c2b5544dbb0" category="inline-link-macro-rx"></block>. **Não exclua os CRDs a menos que você queira remover completamente uma instalação existente.**</block>
  <block id="c97d8f6272d9a08ec67b35acba91f6d3" category="list-text">O operador Trident pode ser excluído usando o manifesto do operador associado à sua versão do Trident. Por exemplo,<block ref="e4411f2e6de8cc67724fb259f247dc3e" prefix=" " category="inline-code"></block><block ref="7d2e512472107955c1b3fb2ce2e19bc4" prefix=" " category="inline-code"></block> onde está o número da versão (por<block ref="ea99d71aa7a32717f8398c406b38b062" prefix=" " category="inline-code"></block> exemplo ) e<block ref="5765a306f9d7568469e1db22a96adfd0" prefix=" " category="inline-code"></block> é o nome do arquivo YAML do pacote.</block>
  <block id="44d9737dc7f423d188a4b34663c5f06e" category="list-text">Continue a fazer o downgrade instalando a versão desejada do Astra Trident. Siga a documentação para a versão desejada.</block>
  <block id="0e792058c21e7156d25e8ae8f2d784a0" category="section-title">Downgrade para operador com escopo de namespace</block>
  <block id="8ad79c030a4ebdd2f446157ba529561e" category="paragraph">Esta seção resume as etapas envolvidas na redução para uma versão do Astra Trident que cai no intervalo de 20,07 a 20,10, que será instalada usando o operador com escopo de namespace.</block>
  <block id="a7c80f52f9be4831ca776b56dc642a45" category="list-text"><block ref="e6c6ebb45af4a1845e181c2b5544dbb0" category="inline-link-macro-rx"></block>. **Não use os CRDs a menos que você queira remover completamente uma instalação existente.** Certifique-se de que o<block ref="de2dc323226e711fbec4c5c39eeac5b8" prefix=" " category="inline-code"></block> é eliminado.</block>
  <block id="2389eabedca3341193952356ec53cd0c" category="list-text">Eliminar o<block ref="de2dc323226e711fbec4c5c39eeac5b8" prefix=" " category="inline-code"></block> CRD.</block>
  <block id="2982be9f91f77222d75873452bfc7696" category="paragraph">O Astra Trident foi desinstalado.</block>
  <block id="0f46a51f24c3700da8c74b9a5294a22f" category="list-text">Continue a baixar instalando a versão desejada. Siga a documentação para a versão desejada.</block>
  <block id="5f7d982e216126a476d4ca0051837e2a" category="section-title">Downgrade usando Helm</block>
  <block id="fe0182349853dde39c65151b592bc343" category="paragraph">Para fazer o downgrade, use o<block ref="db38fa1f6dced280b45d974cb8cdd162" prefix=" " category="inline-code"></block> comando. Veja o exemplo a seguir:</block>
  <block id="4eb50f197bd48a10bc9ee0dab2f65bcf" category="section-title">Processo de downgrade quando o Astra Trident é instalado usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="d1008d4e2b1eb300375d48496c96e8b0" category="paragraph">Se você instalou o Astra Trident usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o , o processo de downgrade envolve as etapas a seguir. Esta sequência orienta você pelo processo de downgrade para passar do Astra Trident 21,07 para 20,07.</block>
  <block id="e08f959c89cb36ec887089ce4a7c1bcc" category="admonition">Antes de começar o downgrade, você deve tirar um snapshot dos clusters do Kubernetes<block ref="a226e9fbdfc1c8dd7e7fef4d333f86ed" prefix=" " category="inline-code"></block>. Isso permite fazer backup do estado atual das CRDs do Astra Trident.</block>
  <block id="e36e921de70428b33bb0e5c22f4f1d03" category="list-text">Certifique-se de que o Trident esteja instalado<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> usando o . Se você não tiver certeza sobre como o Astra Trident está instalado, execute este teste simples:</block>
  <block id="d7c7b52356c18ead4409ef4ca7e2eac8" category="list-text">Liste os pods presentes no namespace Trident.</block>
  <block id="225b7f623c2562a1ed24395fd3852b70" category="list-text">Identifique a versão do Astra Trident em execução no cluster. Você pode<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> usar ou dar uma olhada na imagem usada nos pods do Trident.</block>
  <block id="46da6852e307b4f4a0e965c9c18fe576" category="list-text">Se *não vir* a<block ref="04058ba3436aa631a94f8271262cde75" prefix=" " category="inline-code"></block>, (ou) a<block ref="297dc4adc64c26ae2fd6a1039d00ccb0" prefix=" " category="inline-code"></block>, (ou) um pod chamado<block ref="b6c81c95a11660df6634fdfb5a7106a0" prefix=" " category="inline-code"></block>, o Astra Trident *está instalado* com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>.</block>
  <block id="72b739b65841b5d903e9ec216f0c4fd1" category="list-text">Desinstale o Astra Trident com o binário existente<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>. Neste caso, você irá desinstalar com o binário 21,07.</block>
  <block id="6445365d100b18e233ebf2d08d116aee" category="inline-link-macro">instalação personalizada</block>
  <block id="da4ba399089f873246a85825f8a3e1c3" category="list-text">Depois que isso for concluído, obtenha o binário Trident para a versão desejada (neste exemplo, 20,07) e use-o para instalar o Astra Trident. Você pode gerar YAMLs personalizados para um<block ref="a251ebefafa5a5d36d857b7034f07489" category="inline-link-macro-rx"></block>, se necessário.</block>
  <block id="03347682a0c8323a17a17933bbf4e18c" category="paragraph">O processo de downgrade está concluído.</block>
  <block id="3a90bea856daf0616bcbdde1b9d9ad0b" category="summary">Dependendo de como o Astra Trident é instalado, há várias opções para desinstalá-lo.</block>
  <block id="bdcf993f8f3d91925d60754cd864f3c0" category="section-title">Desinstalar usando Helm</block>
  <block id="8656f6a3d04342ff6248bd7d32949c2a" category="paragraph">Se você instalou o Astra Trident usando o Helm, você pode desinstalá-lo usando<block ref="547d17b0589ba1ba53549f8ddb830b62" prefix=" " category="inline-code"></block>o .</block>
  <block id="e2a3593a8e9900eadda10d47bc2ff47c" category="section-title">Desinstale utilizando o operador Trident</block>
  <block id="c416a70504ae36e8cfbf555ad0d13ab9" category="paragraph">Se você instalou o Astra Trident usando o operador, você pode desinstalá-lo fazendo um dos seguintes procedimentos:</block>
  <block id="1159b3a6f6975215eaff7b18f9fdbe8e" category="list-text">**Editar<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> para definir o sinalizador de desinstalação:** você pode editar<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> e definir<block ref="f41a95848a012f4f1a6550ce79c588aa" prefix=" " category="inline-code"></block>. Edite o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR e defina a<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block> bandeira como mostrado abaixo:</block>
  <block id="245e84de93b9b41f643f9e737c17e702" category="paragraph">Quando o<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block> sinalizador está definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o operador Trident desinstala o Trident, mas não remove o próprio TridentOrchestrator. Você deve limpar o TridentOrchestrator e criar um novo se quiser instalar o Trident novamente.</block>
  <block id="a5e00cb8c456b8892f7af2349fe6e10a" category="list-text">**Excluir<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block>:** removendo o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR que foi usado para implantar o Astra Trident, você instrui o operador a desinstalar o Trident. O operador processa a remoção<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> e remove a implantação do Astra Trident e o daemonset, excluindo os pods do Trident que ele criou como parte da instalação. Para remover completamente o Astra Trident (incluindo as CRDs que ele cria) e limpar efetivamente a ardósia limpa, você pode editar<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> para passar a<block ref="c13a52521693f799a16fd56a35c77a04" prefix=" " category="inline-code"></block> opção. Veja o exemplo a seguir:</block>
  <block id="8aaaff274ba10c527c6bf8facd1c9092" category="paragraph">Isso desinstala completamente o Astra Trident e limpa todos os metadados relacionados aos back-ends e volumes que ele gerencia. As instalações subsequentes são tratadas como instalações frescas.</block>
  <block id="1f119048e6c0b2f219b28b7efae30285" category="admonition">Você só deve considerar limpar as CRDs ao executar uma desinstalação completa. Isso não pode ser desfeito. **Não limpe as CRDs a menos que você esteja olhando para começar de novo e criar uma nova instalação do Astra Trident**.</block>
  <block id="04c73907481b6acb2b019a0a76516a25" category="section-title">Desinstalar usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="20402206432f6b6e75899e8f585ae984" category="paragraph">Execute o<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block> comando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> da seguinte forma para remover todos os recursos associados ao Astra Trident, exceto para os CRDs e objetos relacionados, facilitando assim a execução do instalador novamente para atualizar para uma versão mais recente.</block>
  <block id="1b600643682d5a3280681ef82d7e6ae4" category="paragraph">Para realizar uma remoção completa do Astra Trident, você deve remover os localizadores das CRDs criadas pelo Astra Trident e excluir os CRDs.</block>
  <block id="dec54888538ac86f51d29a3d043e6bf6" category="summary">Você pode atualizar facilmente uma instalação existente do Astra Trident usando o operador.</block>
  <block id="5ff3faebb0ff710340bdbee89a4667ad" category="doc">Atualize com o operador</block>
  <block id="c5e4214ace446476446bc7f985b69ec7" category="paragraph">Você pode atualizar facilmente uma instalação existente do Astra Trident usando o operador manualmente ou usando o Helm.</block>
  <block id="441b9a0ce7113f17c0021f9922b1c865" category="section-title">Atualize usando o operador Trident</block>
  <block id="d6b7a42c6c41b071d2c80b3e4c2a7edf" category="inline-link-macro">Selecione um método de atualização</block>
  <block id="8613847437ef211a620ecd02f2f6771a" category="paragraph">Geralmente, você deve atualizar o Astra Trident usando o mesmo método usado para instalá-lo originalmente. Reveja <block ref="5cffa5fbe758cc3901f0e33c78b29d1b" category="inline-link-macro-rx"></block> antes de tentar atualizar com o operador Trident.</block>
  <block id="87e47949812c103309ba30bd12b61cb6" category="paragraph">Ao atualizar a partir de uma instância do Astra Trident instalada usando o operador com escopo de namespace (versões 20,07 a 20,10), o operador Trident automaticamente:</block>
  <block id="28ff96c045b97f0d4bcc7338c5d97ed4" category="list-text">Migra<block ref="ecd4f8050193d4ec7e3added385b49a6" prefix=" " category="inline-code"></block> para um<block ref="04058ba3436aa631a94f8271262cde75" prefix=" " category="inline-code"></block> objeto com o mesmo nome,</block>
  <block id="0f49953545c3d0c47b339adb67df1921" category="list-text">Exclui<block ref="4cb15aa30ce0ec4747b372d6d2a5e637" prefix=" " category="inline-code"></block> objetos e o<block ref="297dc4adc64c26ae2fd6a1039d00ccb0" prefix=" " category="inline-code"></block> CRD</block>
  <block id="572be19dc94f917452b59bf990add189" category="list-text">Atualiza o Astra Trident para a versão do operador com escopo de cluster que está sendo usado</block>
  <block id="d447bc5cdca7ff2cac3659e7743e27ce" category="list-text">Instalar o Astra Trident mesmo namespace onde ele foi originalmente instalado</block>
  <block id="f13957ecd6365c8afd32f7cf0a6127ce" category="section-title">Atualizar uma instalação do operador Trident com escopo de cluster</block>
  <block id="bc59419ef5dfad73007183284d269599" category="paragraph">Você pode atualizar uma instalação do operador Trident com escopo de cluster. Todos os Astra Trident versões 21,01 e superiores usam um operador com escopo de cluster.</block>
  <block id="4e9ac50b8f51023570ef0b0a0a827912" category="inline-link-macro">Uma versão compatível do Kubernetes</block>
  <block id="053bfc722ec4b4805e32c307458f8ea5" category="paragraph">Verifique se você está usando um cluster do Kubernetes executando <block ref="d502dc64864e79085bee32826e6fe213" category="inline-link-macro-rx"></block>o .</block>
  <block id="1cb76b1c7887cad1e077a4cbdc765b9b" category="list-text">Verifique sua versão do Astra Trident:</block>
  <block id="811eaf5a7a011a3e3c605acd9ea6d5fb" category="list-text">Exclua o operador Trident que foi usado para instalar a instância atual do Astra Trident. Por exemplo, se você estiver atualizando do 22,01, execute o seguinte comando:</block>
  <block id="bdae3121e140e5325fd05919c86dd97f" category="list-text">Se você personalizou sua instalação inicial usando<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> atributos, você pode editar o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> objeto para modificar os parâmetros de instalação. Isso pode incluir alterações feitas para especificar Registros de imagens Trident e CSI espelhados para o modo offline, habilitar logs de depuração ou especificar segredos de recebimento de imagens.</block>
  <block id="ff2f82c9a6feb21071dcbdc520c67b89" category="list-text">Instale o Astra Trident usando o arquivo YAML do pacote correto para seu ambiente e a versão do Astra Trident. Por exemplo, se você estiver instalando o Astra Trident 23,04 para Kubernetes 1,27, execute o seguinte comando:</block>
  <block id="40b88899eb3616ad98776b847e919324" category="paragraph">O Trident fornece um arquivo de pacote que pode ser usado para instalar o operador e criar objetos associados para sua versão do Kubernetes.</block>
  <block id="bd2cc8575fe69c7f775292759380c838" category="inline-link-macro">bundle_pre_1_25.yaml</block>
  <block id="c0b0c7efeabd2170918464e6fb304b90" category="list-text">Para clusters que executam o Kubernetes 1,24 ou anterior, <block ref="fca96f50bbc5cba400ec0352141eeed0" category="inline-link-macro-rx"></block>use o .</block>
  <block id="5a02ebff4889c2de0379a0fb10bed282" category="inline-link-macro">bundle_post_1_25.yaml</block>
  <block id="f3b43481c48d747762adfc52a9d63f33" category="list-text">Para clusters que executam o Kubernetes 1,25 ou posterior, <block ref="3f9cbdeaab0f584d6abcc4282318bea8" category="inline-link-macro-rx"></block>use o .</block>
  <block id="fd69c5cf902969e6fb71d043085ddee6" category="paragraph-title">Resultados</block>
  <block id="c80acc2d3549dd5f3d193892334b8fae" category="paragraph">O operador do Trident identificará uma instalação do Astra Trident existente e a atualizará para a mesma versão do operador.</block>
  <block id="d06b5297af318d2581021098f6b0d44d" category="section-title">Atualize uma instalação de operador com escopo de namespace</block>
  <block id="61b591b7a171a46211e97cfbb6f4f245" category="paragraph">Você pode atualizar de uma instância do Astra Trident instalada usando o operador com escopo de namespace (versões 20,07 a 20,10) para uma instalação de operador com escopo de cluster.</block>
  <block id="049d9519b9143d1b03035ab556b6bfd6" category="paragraph">Você precisa do arquivo YAML do pacote usado para implantar o operador com escopo de namespace<block ref="79243f20ce3e723d13bf0774e8348ca2" prefix=" " category="inline-code"></block> de onde<block ref="7d2e512472107955c1b3fb2ce2e19bc4" prefix=" " category="inline-code"></block> está o número da versão e<block ref="32f68f45f3f6badcd1aa2343bbbce67c" prefix=" " category="inline-code"></block> é o nome do arquivo YAML do pacote.</block>
  <block id="cc7d63c2df065f7ffd0737333a5fbdd7" category="list-text">Verifique se o<block ref="4cb15aa30ce0ec4747b372d6d2a5e637" prefix=" " category="inline-code"></block> status da instalação do Trident existente é<block ref="98dd43dfae05b11befe1f140e0ec787a" prefix=" " category="inline-code"></block>.</block>
  <block id="f14a1d8e56a0cbd2826edd38778371f7" category="admonition">Se o status for exibido<block ref="6909beea5b50605780e3411f879fe916" prefix=" " category="inline-code"></block>, certifique-se de resolvê-lo antes de prosseguir. Para obter uma lista de valores de estado possíveis,<block ref="6aefd1c9ce8e43313a8c7c92e2fac4f3" category="inline-link-rx"></block>consulte .</block>
  <block id="683d018a2f7c70469fd74ba0eeae2a79" category="list-text">Crie o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CRD usando o manifesto fornecido com o instalador do Trident.</block>
  <block id="3cb9e4719d19a9424eaf2357c9a17204" category="list-text">Exclua o operador com escopo de namespace usando seu manifesto.</block>
  <block id="4828a9c126c7bb1e007a192a611456eb" category="list-text">Certifique-se de que está no diretório certo.</block>
  <block id="5ce0463e67c0117541fc58f1b415e168" category="list-text">Exclua o operador com escopo de namespace.</block>
  <block id="7d619684494b00b59a0b46381f71e67a" category="list-text">Confirme se o operador Trident foi removido.</block>
  <block id="cae73b6a00921ef48cee176b0d4336fe" category="inline-link-macro">opções de configuração</block>
  <block id="8539a9341bd4c0e0352c5ff52c361888" category="list-text">(Opcional) se os parâmetros de instalação precisarem ser modificados, atualize a<block ref="4cb15aa30ce0ec4747b372d6d2a5e637" prefix=" " category="inline-code"></block> especificação. Isso pode incluir alterações como alteração: Os valores para<block ref="d771848c80f96e5954a8658655cf79d7" prefix=" " category="inline-code"></block><block ref="7ecc687ea7566f05fd13fde7be607bfc" prefix=" " category="inline-code"></block> , , repositório de imagens privado e fornecimento<block ref="0d9b54b29da54379cca6b8782b9faae5" prefix=" " category="inline-code"></block>) depois de excluir o operador com escopo de namespace e antes de instalar o operador com escopo de cluster. Para obter uma lista completa de parâmetros que podem ser atualizados, consulte o <block ref="d752d8869a42e1b0fd341b92b54677e0" category="inline-link-macro-rx"></block>.</block>
  <block id="98b62c9a5de0454a7540b5a6ae10f553" category="list-text">Instale o operador com escopo de cluster do Trident.</block>
  <block id="81082668b211ff4036090769fede7bb0" category="list-text">Certifique-se de que está no diretório correto.</block>
  <block id="1833409b195c94157eaab1b3af599079" category="list-text">Instale o operador com escopo de cluster no mesmo namespace.</block>
  <block id="f92a3b7796e4050069555146e1a02dc1" category="list-text">Examine os pods Trident no namespace. Os<block ref="1043da3d0f6135a3085a7e59f7e2c6cd" prefix=" " category="inline-code"></block> nomes e POD refletem a convenção de nomenclatura introduzida em 23,01.</block>
  <block id="088459179723a5ae41374a409a0129fe" category="list-text">Confirme que o Trident foi atualizado para a versão pretendida.</block>
  <block id="7734dd866cc8c135256bad90520fa719" category="paragraph">Execute as etapas a seguir para atualizar uma instalação do operador baseada em Helm.</block>
  <block id="e69dee79b2104ff7c08b095e6212f492" category="admonition">Ao atualizar um cluster do Kubernetes do 1,24 para o 1,25 ou posterior que tenha o Astra Trident instalado, você deve atualizar o Values.yaml para definir<block ref="94ef2a130a825358ab3002442d6e5145" prefix=" " category="inline-code"></block><block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> ou adicionar<block ref="96d5d0b9a6e3e01b2ae2ed889f75d22e" prefix=" " category="inline-code"></block><block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block> ao comando antes de atualizar o cluster.</block>
  <block id="3002cfcea36b7fb4d87da4d413730851" category="list-text">Baixe o mais recente lançamento do Astra Trident.</block>
  <block id="ad3ec9af70c3860794540db75d9807c6" category="list-text">Use o<block ref="cd01e1bae83933b9c59c914bc71332ac" prefix=" " category="inline-code"></block> comando onde<block ref="56c028cf1def4066f6a4728f90b9dbf8" prefix=" " category="inline-code"></block> reflete a versão para a qual você deseja atualizar.</block>
  <block id="b0f8c567e856516aabf80f916e995d4f" category="paragraph">Se você definir opções não padrão durante a instalação inicial (como especificar Registros privados espelhados para imagens Trident e CSI), use<block ref="8b5806248570dbb13e7d3bc5e6c0ee37" prefix=" " category="inline-code"></block> para garantir que essas opções estejam incluídas no comando upgrade, caso contrário, os valores serão redefinidos para padrão.</block>
  <block id="4a6b869a481b52472aa62cfa4d9d255e" category="paragraph">Por exemplo, para alterar o valor padrão<block ref="efc1e9e3a120c20b12e892ce2f230ff8" prefix=" " category="inline-code"></block> do , execute o seguinte comando:</block>
  <block id="3d0107bfa0874592e9dc04f9869b604b" category="list-text">Execute<block ref="cd4140d3de30b520500459331d08d2bf" prefix=" " category="inline-code"></block> para verificar se o gráfico e a versão do aplicativo foram atualizados. Execute<block ref="3e725291d4b17065fdcd321172fcfae3" prefix=" " category="inline-code"></block> para rever todas as mensagens de depuração.</block>
  <block id="5c83dd886f5edc620e809e7800bc225f" category="section-title">Atualize a partir de uma instalação que não seja do operador</block>
  <block id="d72f42539c286d006f46f1ddbcfc9ad0" category="paragraph">Pode atualizar para a versão mais recente do operador Trident a partir de uma<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> instalação.</block>
  <block id="4ab464bddccdcbc36fab4cea802025f9" category="list-text">Crie o<block ref="de2dc323226e711fbec4c5c39eeac5b8" prefix=" " category="inline-code"></block> CRD a partir do manifesto.</block>
  <block id="71530aef1814290453dc7add3bdae349" category="list-text">Implante o operador com escopo de cluster no mesmo namespace.</block>
  <block id="06da281bf5e01c3c59892dc886cd0067" category="list-text">Crie<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> um CR para a instalação do Astra Trident.</block>
  <block id="8d23be098d49e797284393a4c1479c53" category="list-text">Confirme se o Trident foi atualizado para a versão pretendida.</block>
  <block id="f420eb91a420c03f1792a6504b30277b" category="paragraph">Os backends e PVCs existentes estão disponíveis automaticamente.</block>
  <block id="3bda6d3452a50ffddd40bb74b05d6c50" category="summary">O Astra Trident segue uma cadência de lançamento trimestral, entregando quatro grandes lançamentos todos os anos. Cada nova versão é construída sobre as versões anteriores, fornecendo novos recursos e melhorias de desempenho, bem como correções de bugs e melhorias. Recomendamos que você atualize pelo menos uma vez por ano para aproveitar os novos recursos do Astra Trident.</block>
  <block id="c5fbf8cba91fd09257dab41143773a09" category="paragraph">O Astra Trident segue uma cadência de lançamento trimestral, entregando quatro grandes lançamentos todos os anos. Cada nova versão é construída sobre as versões anteriores, fornecendo novos recursos e melhorias de desempenho, bem como correções de bugs e melhorias. Recomendamos que você atualize pelo menos uma vez por ano para aproveitar os novos recursos do Astra Trident.</block>
  <block id="ee656aff7dc78e280efdea39a682afbb" category="section-title">Considerações antes da atualização</block>
  <block id="6224e22d5a77816dd8b659c25a3f88a5" category="paragraph">Ao atualizar para a versão mais recente do Astra Trident, considere o seguinte:</block>
  <block id="f736607140d617c85245dd139003582e" category="list-text">Deve haver apenas uma instância do Astra Trident instalada em todos os namespaces em um determinado cluster do Kubernetes.</block>
  <block id="98c7e2ecbd5f5a638272ee366b25b6a1" category="inline-link">instantâneos de volume</block>
  <block id="8f9f7d64f0943a9bec25cdd7b786022a" category="list-text">A partir do Trident 20,01, apenas a versão beta do<block ref="0b290b7ed02de23dc49888d0fa4fc114" category="inline-link-rx"></block> é suportada. Os administradores do Kubernetes devem cuidar para fazer backup ou converter com segurança os objetos de snapshot alfa em beta para reter os snapshots alfa legados.</block>
  <block id="0f337c39a1c8a6ea3821003e227cd210" category="list-text">O CSI volume Snapshots agora é um recurso que é o GA, começando com o Kubernetes 1,20. Antes de atualizar, você deve remover CRDs de snapshot alfa usando<block ref="2d1fd131799d2b6c6f328b755e849cb8" prefix=" " category="inline-code"></block> para excluir as CRDs para a especificação de snapshot alfa.</block>
  <block id="2f4fabc00423f61fdf535a848d85d7fa" category="list-text">A versão beta de snapshots de volume introduz um conjunto modificado de CRDs e um controlador de snapshot, que devem ser configurados antes de atualizar o Astra Trident.</block>
  <block id="9194981d08d6c7a0d8ef4eef2c20107c" category="inline-link-macro">O que você precisa saber antes de atualizar o cluster do Kubernetes</block>
  <block id="60c27159a73a43a99df5bfe57abacffe" category="list-text">Para obter detalhes, <block ref="cde5e5f4707de394099c4da781fe494f" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="9e796bab826a26d861f56ae29de25252" category="inline-link-macro">Documentação específica do seu lançamento do Astra Trident</block>
  <block id="054075b3243ec1866caef856949913c5" category="list-text">Todas as atualizações das versões 19,04 e anteriores exigem a migração dos metadados do Astra Trident próprios<block ref="a226e9fbdfc1c8dd7e7fef4d333f86ed" prefix=" " category="inline-code"></block> para objetos CRD. Certifique-se de que verifica o <block ref="2bf4b24d73acaf5ff4093c862b2b9191" category="inline-link-macro-rx"></block> para compreender como funciona a atualização.</block>
  <block id="69bdd71a77ecd87974ee464a579ebc8f" category="list-text">Ao atualizar, é importante que você forneça<block ref="f6e7f85d8aee15940665bf722f7afac2" prefix=" " category="inline-code"></block> o<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block> Astra Trident usado. Você pode excluir e recriar<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block> sem interromper volumes pré-existentes.</block>
  <block id="33966eba1ed0cde6afda5a97ffaffb09" category="inline-link">contextos de segurança</block>
  <block id="326aae224b3bbcf4b9eb8fc0a262fc24" category="list-text">Este é um ** requisito** para aplicação de<block ref="cafe4c6014d8c45aaac70e49318f1a2a" category="inline-link-rx"></block> volumes SAN.</block>
  <block id="41ad159dac20e18fa42c466c805ffde0" category="list-text">O diretório https://github.com/NetApp https://github.com/NetApp/Trident Trident/tree/master/Trident Trident-installer/sample-input[sample input] contém exemplos, como https://github.com/NetApp/Trident/blob/master/Trident-installer/sample-input/storage-class-samples/storage-class-<block ref="69ae2d9a6d831af7488e53fec053b77e" prefix="[" category="inline-code"></block>basic<block ref="9abb8c7777ddb413820ee07d5d93aa4a" prefix="[" category="inline-code"></block> Para obter mais informações, <block ref="04cf7258a315ca08f4b436c194fef69d" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="87459c33b1692755deb4b22c7eaa864c" category="section-title">Passo 1: Selecione uma versão</block>
  <block id="ecab08714a2cb76336fb5fe50c888c56" category="paragraph">As versões do Astra Trident seguem uma convenção de nomenclatura baseada em data<block ref="fb6921a005d395f9482cdac0306d4935" prefix=" " category="inline-code"></block>, onde "YY" é os últimos dois dígitos do ano e "MM" é o mês. Os lançamentos de ponto seguem uma<block ref="d93ec759c4a0e8c1cf9c7653b2939656" prefix=" " category="inline-code"></block> convenção, onde "X" é o nível de patch. Você selecionará a versão para a qual atualizar com base na versão da qual você está atualizando.</block>
  <block id="17a3cc50f8070f6f8ca4c0aaf627cd51" category="list-text">Você pode fazer uma atualização direta para qualquer versão de destino que esteja dentro de uma janela de quatro versões da versão instalada. Por exemplo, você pode atualizar para 23,04 a partir de 22,04 (incluindo quaisquer lançamentos de pontos, como 22.04.1) diretamente.</block>
  <block id="3c64b9fcc6316f2fb3e86bb37ec1e046" category="list-text">Se você tiver uma versão anterior, você deve executar uma atualização em várias etapas usando a documentação da respetiva versão para obter instruções específicas. Isso requer que você primeiro atualize para a versão mais recente que se encaixa na janela de quatro versões. Por exemplo, se você estiver executando o 18,07 e quiser atualizar para a versão 20,07, siga o processo de atualização em várias etapas conforme indicado abaixo:</block>
  <block id="b42882f59822357cae71c7deef14a306" category="list-text">Primeiro upgrade de 18,07 para 19,07.</block>
  <block id="ff115c7087db60c699cccdb21f39ea66" category="list-text">Em seguida, atualize de 19,07 para 20,07.</block>
  <block id="199ed8c975e8bb544d18428ba17adbc3" category="inline-link">Detalhes do problema no GitHub</block>
  <block id="04ac7e8dacc8e0cf0377df2ca192d643" category="admonition">Ao atualizar usando o operador Trident na Plataforma de contêiner OpenShift, você deve atualizar para o Trident 21.01.1 ou posterior. O operador Trident lançado com 21.01.0 contém um problema conhecido que foi corrigido no 21.01.1. Para obter mais detalhes, consulte<block ref="bcebcdd21adcbb3d7c640d63a711c6fb" category="inline-link-rx"></block> .</block>
  <block id="6d2d3a9fb621ba23b0f8ec56dc8b0a24" category="section-title">Passo 2: Determine o método de instalação original</block>
  <block id="74652b96889938fdef1037f82abf39b0" category="inline-link-macro">mova entre os métodos de instalação</block>
  <block id="48f619f441fae01bc82773080a595c84" category="paragraph">Geralmente, você deve atualizar usando o mesmo método usado para a instalação inicial, no entanto, você pode <block ref="e34c010032791417159012a5e31d7540" category="inline-link-macro-rx"></block>.</block>
  <block id="ce42d65061b497ce09f8f7253a47d3ec" category="paragraph">Para determinar qual versão você usou para instalar originalmente o Astra Trident:</block>
  <block id="a47f083c8e161e834fb47431c0ceb22c" category="list-text">Use<block ref="5b1c8b4b8eabedb94cfa4d6d00d8d97f" prefix=" " category="inline-code"></block> para examinar os pods.</block>
  <block id="57e2fc21500db064f15f9f0dd71fac43" category="list-text">Se não houver nenhum pod do operador, o Astra Trident foi instalado usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="32f6915fd282657ead56cf3557648c00" category="list-text">Se houver um pod do operador, o Astra Trident foi instalado usando o operador Trident manualmente ou usando o Helm.</block>
  <block id="4b9dbf746fd46d6f3df5db09d61acc78" category="list-text">Se houver um pod do operador, use<block ref="2bbaa285a4b0035313ee3178abf33313" prefix=" " category="inline-code"></block> para determinar se o Astra Trident foi instalado usando o Helm.</block>
  <block id="2653c4eb88f71c9c09dd63163c3279a3" category="list-text">Se houver uma etiqueta Helm, o Astra Trident foi instalado usando Helm.</block>
  <block id="62813503b38101db99e720ca48a2e384" category="list-text">Se não houver nenhuma etiqueta Helm, o Astra Trident foi instalado manualmente usando o operador Trident.</block>
  <block id="dccfb2ce978b2c73d6a7308a124d0043" category="section-title">Passo 3: Selecione um método de atualização</block>
  <block id="5c6e76b1344abcffbc3bc025b2869962" category="paragraph">Há dois métodos para atualizar o Astra Trident.</block>
  <block id="f7c26f012afd9578895516f6ae3e2bc9" category="section-title">Quando atualizar usando o operador</block>
  <block id="7e2f8075f13a5d7e97d8218709f17e71" category="inline-link-macro">Atualize usando o operador Trident</block>
  <block id="5e1df074a8bdfd79d5d68c8a755e4e43" category="paragraph">Você pode <block ref="8f2495f9fad4f38f1c62c1d215673586" category="inline-link-macro-rx"></block> se:</block>
  <block id="72d18256d7d64cc61153ea95e9a4afa5" category="list-text">Você instalou originalmente o Astra Trident usando o operador ou o<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>.</block>
  <block id="e5d54794163ca6f474bfef7e4b5d4f5f" category="list-text">Você desinstalou o CSI Trident e os metadados da instalação persistem.</block>
  <block id="e69b05e203cd286586a27b27e264c1e5" category="list-text">Você tem uma instalação do Astra Trident baseada em CSI. Todos os lançamentos de 19,07 em são baseados em CSI. Você pode examinar os pods no namespace do Trident para verificar sua versão.</block>
  <block id="207a97e7d43a65ece1e0f7fa8302506b" category="list-text">A nomenclatura de POD em versões anteriores a 23,01 usa:<block ref="2a7e27932de693ec351736e1dc1a1e7f" prefix=" " category="inline-code"></block></block>
  <block id="4260ef6204f118b9f55201a0e5297f62" category="list-text">A nomeação de POD em 23,01 e posteriores usa:</block>
  <block id="c15c24d5e644ea3fe4872e53eec79839" category="list-text"><block ref="ce3abad3e11d6a43c5178e20a0c7d64b" prefix="" category="inline-code"></block> para o pod do controlador</block>
  <block id="4958e807d905a59e3236bd70f391a14a" category="list-text"><block ref="6d08e3ec5faec812864d5435fcc88eeb" prefix="" category="inline-code"></block> para os pods de nós</block>
  <block id="81dedc3d17f1db8149046b6ae4bcc5db" category="list-text"><block ref="3dbf42aee8b5d0bf538865dedf2cc4dc" prefix="" category="inline-code"></block> para o grupo de comandos do operador</block>
  <block id="3814df1eaf856112f1f0b22f7f0600e5" category="admonition">Não utilize o operador para atualizar o Trident se estiver a utilizar uma<block ref="a226e9fbdfc1c8dd7e7fef4d333f86ed" prefix=" " category="inline-code"></block> versão Trident baseada em -(19,04 ou anterior).</block>
  <block id="621a18da07981d88f6c4e476af0884d3" category="section-title">Quando atualizar usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="d39be5a593ef4fc69e44c6efdca9f2b9" category="inline-link-macro">atualize usando o prefixo de referência do c</block>
  <block id="72f944c5dc6b9f1f99a87504f7a0b101" category="paragraph">Você pode <block ref="9af1b055a24adf4a3ab17b699c20b76d" category="inline-link-macro-rx"></block> se você instalou originalmente o Astra Trident usando o 'tridenctl'.</block>
  <block id="587c30eba71de0157d01c12e17ff0ab9" category="paragraph"><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="" category="inline-code"></block> O Astra Trident é o método convencional de instalação e oferece o máximo de opções para quem precisa de personalização complexa. Para obter mais detalhes, <block ref="741b0022093ab2616396c33090f075f4" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="152a676ac450f5b96a35605dde352607" category="section-title">Alterações ao operador</block>
  <block id="2027c35d34c22c0bd4bfe22c6c02832a" category="paragraph">O lançamento de 21,01 do Astra Trident introduziu mudanças na arquitetura do operador:</block>
  <block id="4d1b9ac70f0037098e345cb389ea45d9" category="list-text">O operador está agora *com escopo de cluster*. Instâncias anteriores do operador Trident (versões 20,04 a 20,10) eram *com escopo de namespace*. Um operador com escopo de cluster é vantajoso pelas seguintes razões:</block>
  <block id="d898743d222c4e0e5e333941bee1ed57" category="list-text">Responsabilidade dos recursos: A operadora agora gerencia recursos associados à instalação do Astra Trident no nível do cluster. Como parte da instalação do Astra Trident, o operador cria e mantém vários recursos<block ref="4b0fd5ff2a91c4f536715af5220268f2" prefix=" " category="inline-code"></block> usando o . Manter<block ref="4b0fd5ff2a91c4f536715af5220268f2" prefix=" " category="inline-code"></block> recursos com escopo de cluster pode lançar erros em certos distribuidores do Kubernetes, como o OpenShift. Isso é atenuado com um operador com escopo de cluster. Para auto-cura e correção de recursos do Trident, este é um requisito essencial.</block>
  <block id="375aa3155c54339a366f23cdb01301e5" category="list-text">Limpeza durante a desinstalação: Uma remoção completa do Astra Trident exigiria que todos os recursos associados fossem excluídos. Um operador com escopo de namespace pode ter problemas com a remoção de recursos com escopo de cluster (como o clusterRole, ClusterRoleBinding e PodSecurityPolicy) e levar a uma limpeza incompleta. Um operador com escopo de cluster elimina esse problema. Os usuários podem desinstalar completamente o Astra Trident e instalar novamente, se necessário.</block>
  <block id="6d68e880fd5e5254e122e99a78417abd" category="list-text"><block ref="4cb15aa30ce0ec4747b372d6d2a5e637" prefix="" category="inline-code"></block> Agora é substituído pelo<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> como recurso personalizado usado para instalar e gerenciar o Astra Trident. Além disso, um novo campo é introduzido à<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> especificação. Os usuários podem especificar que o namespace Trident deve ser instalado/atualizado usando o<block ref="b2c66bca748ffde67c7b6817cb8dd795" prefix=" " category="inline-code"></block> campo. Você pode dar uma olhada em um exemplo<block ref="2890210b17eb9668a60ececdebcd5910" category="inline-link-rx"></block>.</block>
  <block id="f71fd95d4de4797557e6830c1448c945" category="summary">Você pode atualizar facilmente uma instalação existente do Astra Trident usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="2a21586f7990f8cb0f8951cd2ef7bc3b" category="doc">Atualize com o tridentctl</block>
  <block id="589143858f045594979d5d3cf5289bf6" category="paragraph">É possível atualizar facilmente uma instalação existente do Astra Trident usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="8863b876c027954f205dc88c5580fb51" category="section-title">Atualizar o Astra Trident usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="4ff0a9f6065b24ce3d325bad3223f4e2" category="paragraph">Desinstalar e reinstalar o Astra Trident funciona como uma atualização. Quando você desinstalar o Trident, a reivindicação de volume persistente (PVC) e o volume persistente (PV) usados pela implantação do Astra Trident não são excluídos. Os PVS que já tiverem sido provisionados permanecerão disponíveis enquanto o Astra Trident estiver offline, e o Astra Trident provisionará volumes para quaisquer PVCs que forem criados nesse período, uma vez que estiverem novamente online.</block>
  <block id="ab639a35db468f671d4a76735e801015" category="paragraph">Revise <block ref="5cffa5fbe758cc3901f0e33c78b29d1b" category="inline-link-macro-rx"></block> antes de atualizar usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="a38e5a20ac16df242bdde92e028a100e" category="list-text">Execute o comando uninstall<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> para remover todos os recursos associados ao Astra Trident, exceto para CRDs e objetos relacionados.</block>
  <block id="e7447899210826e544345ba93e133255" category="inline-link-macro">Instale o Astra Trident usando o tridentctl</block>
  <block id="0c147de2192f3060367ba5761742d227" category="list-text">Reinstale o Astra Trident. <block ref="d55139d84e0ac19d8211d27772e17544" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="1d2d1200e759d67b259f843be2270f71" category="admonition">Não interrompa o processo de atualização. Certifique-se de que o instalador é executado até a conclusão.</block>
  <block id="82da15c71df4abcf26887a7505c771b7" category="section-title">Atualizar volumes usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="14a3c3a4f195df957fb16f026bdddcf0" category="paragraph">Após a atualização, você pode fazer uso do rico conjunto de recursos que estão disponíveis em versões mais recentes do Trident (como snapshots de volume sob demanda), você pode atualizar os volumes usando o<block ref="07498068c7d2dad8746d2cd3315d231a" prefix=" " category="inline-code"></block> comando.</block>
  <block id="8c58132c743fc4269cdd2a94cfa15379" category="paragraph">Se houver volumes legados, você deve atualizá-los de um tipo NFS ou iSCSI para o tipo CSI para usar o conjunto completo de novos recursos no Astra Trident. Um PV legado que foi provisionado pelo Trident suporta o conjunto tradicional de recursos.</block>
  <block id="327dc3ea451fbe58b021388d1ab2b78a" category="paragraph">Considere o seguinte antes de decidir atualizar volumes para o tipo CSI:</block>
  <block id="9407b572db9501134ce92167448428fb" category="list-text">Talvez você não precise atualizar todos os volumes. Os volumes criados anteriormente continuarão a ser acessíveis e a funcionar normalmente.</block>
  <block id="35127b2fd7c387c56305575dfafe2a97" category="list-text">Um PV pode ser montado como parte de um deployment/StatefulSet ao atualizar. Não é necessário derrubar o deployment/StatefulSet.</block>
  <block id="260eeb1b0c4ec05a9788dc485ed03d36" category="list-text">Você *não pode* anexar um PV a um pod autônomo ao atualizar. Você deve desligar o pod antes de atualizar o volume.</block>
  <block id="2d59c3aee4c9fe757980153c65e922d0" category="list-text">Você pode atualizar apenas um volume que esteja vinculado a um PVC. Os volumes que não estão vinculados a PVCs devem ser removidos e importados antes da atualização.</block>
  <block id="fbc477673a43a428e429fe6902c6e36a" category="list-text">Execute<block ref="8345794edb18d3ba9ddf41de45429b86" prefix=" " category="inline-code"></block> para listar os PVS.</block>
  <block id="09d5f690bff68f8b4ffeeed3dac1f534" category="paragraph">Atualmente, existem quatro PVS que foram criados pelo Trident 20,07, usando o<block ref="b1202a40512b5ecf683240df2730730f" prefix=" " category="inline-code"></block> provisionador.</block>
  <block id="581ee670123fe76ff75275867ef06bcc" category="list-text">Corra<block ref="496c1b529dabd87dbae1e755c7972889" prefix=" " category="inline-code"></block> para obter os detalhes do PV.</block>
  <block id="a20b570eccfacf0ac4684823643f91a1" category="paragraph">O PV foi criado usando o<block ref="b1202a40512b5ecf683240df2730730f" prefix=" " category="inline-code"></block> provisionador e é do tipo NFS. Para suportar todos os novos recursos fornecidos pelo Astra Trident, este PV deve ser atualizado para o tipo CSI.</block>
  <block id="a6074ca03f6e3e76478b45e15e021b31" category="list-text">Execute o<block ref="9936810e5a43f0fece4628cd1a22fb4d" prefix=" " category="inline-code"></block> comando para atualizar um volume legado Astra Trident para a especificação CSI.</block>
  <block id="c18e246999f594d4fb39c857bcdd1e09" category="list-text">Execute um<block ref="496c1b529dabd87dbae1e755c7972889" prefix=" " category="inline-code"></block> para verificar se o volume é um volume CSI.</block>
  <block id="389fca3b29dd7808b825fbd953242ed9" category="summary">Saiba mais sobre as opções de proteção e recuperação para o Astra Trident e volumes criados com o Astra Trident. Você deve ter uma estratégia de proteção e recuperação de dados para cada aplicação com um requisito de persistência.</block>
  <block id="03c39d763ca15978d9ef16c2ba5fe98a" category="doc">Proteção de dados e recuperação de desastres</block>
  <block id="e3d45c3e9eb2d2949067a0aa7b61e476" category="section-title">Replicação e recuperação do Astra Trident</block>
  <block id="44f293896af5541a26ccc287fc71266b" category="paragraph">Você pode criar um backup para restaurar o Astra Trident em caso de desastre.</block>
  <block id="9b35fe66a1b68aa00dbffd236d3fe856" category="section-title">Replicação do Astra Trident</block>
  <block id="65808079dd14440eb9053549bdf96b26" category="paragraph">O Astra Trident usa CRDs do Kubernetes para armazenar e gerenciar seu próprio estado e o cluster do Kubernetes etcd para armazenar seus metadados.</block>
  <block id="082510018437a15b6d42065dfe5a5384" category="inline-link-macro">Kubernetes: Fazer backup de um cluster etcd</block>
  <block id="ec3558916e2679d1a4b592e0ade35471" category="list-text">Faça backup do cluster do Kubernetes etcd usando <block ref="901b02918d705c0966dae4033c132965" category="inline-link-macro-rx"></block>o .</block>
  <block id="47eab96eced19efdca77f2407d8e44aa" category="list-text">Coloque os artefatos de backup em um FlexVol.</block>
  <block id="798d6cc5f40dde831172bf108a793297" category="admonition">Recomendamos que você proteja o SVM em que o FlexVol reside com uma relação do SnapMirror com outro SVM.</block>
  <block id="49319f2bf766b5cf558ec82dd35f5a46" category="section-title">Recuperação do Astra Trident</block>
  <block id="6275e3378f7bc1d5792a600e82c7aa6c" category="paragraph">Usando as CRDs do Kubernetes e o snapshot etcd do cluster do Kubernetes, é possível recuperar o Astra Trident.</block>
  <block id="b30057689f3e745e5feeb142585ff30b" category="list-text">No SVM de destino, monte o volume que contém os arquivos de dados e certificados do Kubernetes no host, que será configurado como um nó mestre.</block>
  <block id="5fefcae3a4602913a273a904829295ce" category="list-text">Copie todos os certificados necessários referentes ao cluster do Kubernetes<block ref="890b0e4d98741eac800c616b757217cb" prefix=" " category="inline-code"></block> e os arquivos de membros do etcd em<block ref="3fa01691da932f6c45bf424027ffabb8" prefix=" " category="inline-code"></block>.</block>
  <block id="51fa31507539ecf10c55d8cc513269d0" category="inline-link-macro">Kubernetes: Restaurando um cluster etcd</block>
  <block id="3167e8459c0d46545dc7978a60ef4978" category="list-text">Restaure o cluster do Kubernetes a partir do backup etcd usando <block ref="c87a91d2cf6358248ae560cfa802edf4" category="inline-link-macro-rx"></block>o .</block>
  <block id="54d0429fea223af0d32d9f061ed733c9" category="list-text">Execute<block ref="1ec8e1992e296a9bdb691f1931d391fe" prefix=" " category="inline-code"></block> para verificar se todos os recursos personalizados do Trident foram criados e recuperar os objetos Trident para verificar se todos os dados estão disponíveis.</block>
  <block id="c87c1a25aa5e2ef1af216bc50d1fd391" category="section-title">Replicação e recuperação da SVM</block>
  <block id="0d3b37ff5855bf299f3c4a154373c1e2" category="inline-link">ONTAP SnapMirror</block>
  <block id="968aa074079a26dbcd09cc3312c6e0d8" category="paragraph">No entanto, o Astra Trident não pode configurar relações de replicação. No entanto, o administrador de storage pode usar<block ref="eae3571c3bcc896c3c2934b9eeb2171a" category="inline-link-rx"></block> para replicar uma SVM.</block>
  <block id="9299ebdcbaefed4a9ea27b355bb0f75e" category="paragraph">Em caso de desastre, você pode ativar o SVM de destino do SnapMirror para começar a fornecer dados. Você pode voltar para o primário quando os sistemas são restaurados.</block>
  <block id="bbe48fb854ea022537208eeeff822f91" category="paragraph-title">Sobre esta tarefa</block>
  <block id="1de93d4bf941bc79aec631023559b9e7" category="paragraph">Considere o seguinte ao usar o recurso de replicação do SnapMirror SVM:</block>
  <block id="1868906f3a3fbcf756260737545805d6" category="list-text">Você deve criar um back-end distinto para cada SVM com SVM-DR ativado.</block>
  <block id="f9f808f1692cabf1bf803e07da9adbe7" category="list-text">Configure as classes de storage para selecionar os back-ends replicados somente quando necessário, a fim de evitar ter volumes que não precisam de replicação provisionados nos back-ends compatíveis com SVM-DR.</block>
  <block id="6fa2f5991a9e2ee7d4668899f94e78e4" category="list-text">Os administradores de aplicativos devem entender o custo e a complexidade adicionais associados à replicação e considerar cuidadosamente seu plano de recuperação antes de iniciar esse processo.</block>
  <block id="2b5ffe73affd6d09b3b5e160e117e5c9" category="section-title">Replicação da SVM</block>
  <block id="9f4b9999b69320b559438c600d724ff9" category="inline-link-macro">ONTAP: Replicação do SnapMirror SVM</block>
  <block id="d628a099db3505c9d0435e12076d8a61" category="paragraph">Você pode usar <block ref="89150b9d328c8330200fceb39b37760e" category="inline-link-macro-rx"></block> o para criar a relação de replicação do SVM.</block>
  <block id="b9f28001ddc636f8628bd929334b258e" category="paragraph">O SnapMirror permite que você defina opções para controlar o que replicar. Você precisará saber quais opções você selecionou ao pré-formar <block ref="885698069be8fdb81e43cb59c9632744" category="inline-xref-macro-rx"></block>.</block>
  <block id="524218dc9ff1ef52c9a0404971525b21" category="inline-link-macro">-identidade-preservar verdadeiro</block>
  <block id="8dc4e22513bbb97acc41295bfe46d5fe" category="list-text"><block ref="c758ffe020dc40d00c9a9c46ecbdd824" category="inline-link-macro-rx"></block> Replica toda a configuração da SVM.</block>
  <block id="d18f05a5c35a5a7d999263600f0356bf" category="inline-link-macro">-discard-configs network</block>
  <block id="97c20c3eb8c7569982dc9f84e7f31ba3" category="list-text"><block ref="afa9da8af32f091c8328b13559d456b1" category="inline-link-macro-rx"></block> Exclui LIFs e configurações de rede relacionadas.</block>
  <block id="224ea277d21a44b59b0fa43747b4f6a6" category="inline-link-macro">-identity-preserve false</block>
  <block id="471621652d0597dca59f266effb8f90f" category="list-text"><block ref="1faf7e0b3f51b53ae01a4f860a9ed344" category="inline-link-macro-rx"></block> replica apenas os volumes e a configuração de segurança.</block>
  <block id="e3dcf348731966425abf967f0c0c575d" category="section-title">Recuperação do SVM com Astra Trident</block>
  <block id="58c8a712ac4d3255cd28c6024ad43f71" category="paragraph">O Astra Trident não detecta automaticamente falhas na SVM. Em caso de desastre, o administrador pode iniciar manualmente o failover de Trident para a nova SVM.</block>
  <block id="da29de46c3a7d3e66fc701b2781fcbce" category="list-text">Cancele transferências de SnapMirror agendadas e contínuas, interrompa a relação de replicação, pare o SVM de origem e ative o SVM de destino do SnapMirror.</block>
  <block id="98bdea55e26fba2494cc5f163b6f8076" category="list-text">Se você especificou<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block> ou<block ref="e932330dd004e680ebd1a75db84b73ce" prefix=" " category="inline-code"></block> ao configurar sua replicação SVM, atualize o<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> e<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> no arquivo de definição de back-end do Trident.</block>
  <block id="6141984e8f91176bd3a76175b02c1a09" category="list-text"><block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block>Confirmar está presente no arquivo de definição de back-end do Trident. Este parâmetro não pode ser alterado. Omitir<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> fará com que a atualização de backend falhe.</block>
  <block id="51589b18e320f20306c944a08241dac1" category="list-text">Atualize todos os backends necessários para refletir o novo nome SVM de destino usando:</block>
  <block id="d980e1fdfa951088567e6d057ba7dc9c" category="list-text">Se você especificou<block ref="224ea277d21a44b59b0fa43747b4f6a6" prefix=" " category="inline-code"></block> ou<block ref="89680afd09991bc3d4db985c40c861c1" prefix=" " category="inline-code"></block>, você deve rejeitar todos os pods de aplicativo.</block>
  <block id="debd7fcd99a55e4ad2700a29cadc6aa3" category="admonition">Se você especificou<block ref="524218dc9ff1ef52c9a0404971525b21" prefix=" " category="inline-code"></block>, todos os volumes provisionados pelo Astra Trident começam a fornecer dados quando o SVM de destino é ativado.</block>
  <block id="cceb49886fed38f241928d51abab95a2" category="section-title">Replicação de volume e recuperação</block>
  <block id="815f28e53ebfb423dfe835a845095bf6" category="inline-link-macro">Replicação e recuperação do ONTAP SnapMirror</block>
  <block id="a5217e87e9aef874c28773b5774ecf37" category="paragraph">No entanto, o Astra Trident não pode configurar relações de replicação do SnapMirror. No entanto, o administrador de storage pode usar <block ref="c3487d6df2463efc752acd6f5cc45a1f" category="inline-link-macro-rx"></block> para replicar volumes criados pelo Astra Trident.</block>
  <block id="c3c343b5a84229bd5095fd09f2afc5f5" category="inline-link-macro">importação de volume tridentctl</block>
  <block id="5b570015a3a6711227cf6a2802ccd0d7" category="paragraph">Em seguida, você pode importar os volumes recuperados para o Astra Trident usando <block ref="d8ad77887a2224df2faf4f1df578e333" category="inline-link-macro-rx"></block>o .</block>
  <block id="d8d9dfeae772da34290b750d0f848a26" category="admonition">A importação não é suportada em<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> drivers , <block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>, ou<block ref="70d5dbddc55e3700ddbc8d21f0de22a3" prefix=" " category="inline-code"></block> .</block>
  <block id="b489b293d6cbe8b86835d3cac8c315fb" category="section-title">Proteção de dados do Snapshot</block>
  <block id="f332d72a4b78e34e31131f3a98c98053" category="paragraph">Você pode proteger e restaurar dados usando:</block>
  <block id="97fb495fd3b6672c40bb0092ca102eca" category="list-text">Uma controladora de snapshot externa e CRDs para criar snapshots de volume do Kubernetes de volumes persistentes (PVS).</block>
  <block id="cb55f92ada2ab9103f2202b5e32b90c2" category="paragraph"><block ref="cb55f92ada2ab9103f2202b5e32b90c2" category="inline-link-macro-rx"></block></block>
  <block id="83cd672b9742ba621e93a8b69c4ab2d4" category="list-text">Snapshots ONTAP para restaurar todo o conteúdo de um volume ou recuperar arquivos individuais ou LUNs.</block>
  <block id="ad336d1fccea3e918d07055edac855a3" category="inline-link-macro">Snapshots ONTAP</block>
  <block id="0cb949d1baa06577db93328185a8f24d" category="paragraph"><block ref="0cb949d1baa06577db93328185a8f24d" category="inline-link-macro-rx"></block></block>
  <block id="044d1500d5e33461ef3341121d2aebda" category="section-title">Replicação de aplicações Astra Control Center</block>
  <block id="3ee9187f7387265ff6f477d26adad0f2" category="paragraph">Com o Astra Control, você pode replicar alterações de dados e aplicações de um cluster para outro usando as funcionalidades de replicação assíncrona do SnapMirror.</block>
  <block id="4910c9e59da080576c2dedc885e19ed7" category="inline-link-macro">Astra Control: Replique aplicações para um sistema remoto usando a tecnologia SnapMirror</block>
  <block id="0868eb323c2e097c6c408f7c59642c94" category="paragraph"><block ref="0868eb323c2e097c6c408f7c59642c94" category="inline-link-macro-rx"></block></block>
  <block id="75f3d382f074f14c775efb5cf2f23c30" category="summary">Use as recomendações listadas aqui quando implantar o Astra Trident.</block>
  <block id="ea355214fd4bc7c57f471bd92918879b" category="doc">Implantação</block>
  <block id="d89d3b3161292ef0c65342cbe80e883f" category="section-title">Implante em um namespace dedicado</block>
  <block id="13d28e8dfc702e3456e0767dff9a128a" category="inline-link">Namespaces</block>
  <block id="79a77cdda2a2513aee654190c73f15ab" category="paragraph"><block ref="c41296e544cd0faaa4fe4e8b22535287" category="inline-link-rx"></block> fornecer separação administrativa entre diferentes aplicações e são uma barreira para o compartilhamento de recursos. Por exemplo, um PVC de um namespace não pode ser consumido de outro. O Astra Trident fornece recursos PV para todos os namespaces no cluster do Kubernetes e, consequentemente, utiliza uma conta de serviço que elevou o Privileges.</block>
  <block id="853cf568613b7eec1486421468e18b9b" category="paragraph">Além disso, o acesso ao pod Trident pode permitir que um usuário acesse credenciais do sistema de storage e outras informações confidenciais. É importante garantir que os usuários de aplicativos e aplicativos de gerenciamento não tenham a capacidade de acessar as definições de objetos do Trident ou os próprios pods.</block>
  <block id="2c8e89de5c6bf68b180cff5fea545167" category="section-title">Use cotas e limites de intervalo para controlar o consumo de armazenamento</block>
  <block id="74444eaf90c31d151645e59dcab0468d" category="inline-link">mecanismo de cota de storage</block>
  <block id="1d81c150d54eae0c49d9cfeb8d493b0f" category="inline-link">limite de alcance</block>
  <block id="94104e476fe547cf6237480cacae5ed5" category="paragraph">O Kubernetes tem dois recursos que, quando combinados, fornecem um mecanismo avançado para limitar o consumo de recursos pelas aplicações. O<block ref="bff513af91e6751aca3d34ef714e3b91" category="inline-link-rx"></block> permite que o administrador implemente limites de consumo globais e específicos de classe de storage, de contagem de objetos e capacidade em uma base por namespace. Além disso, o uso de a<block ref="dbe9770513b0f7245f1fe016d20ebb70" category="inline-link-rx"></block> garante que as solicitações de PVC estejam dentro de um valor mínimo e máximo antes que a solicitação seja encaminhada para o provisionador.</block>
  <block id="4f9253eda0573e387f86d7777aafff03" category="inline-link">como alavancar cotas</block>
  <block id="923169151e05d28a3474b2a033666297" category="paragraph">Esses valores são definidos em uma base por namespace, o que significa que cada namespace deve ter valores definidos que se encaixam em seus requisitos de recursos. Consulte aqui para obter informações<block ref="5b289b2ffde01314d8b0d038aabd709b" category="inline-link-rx"></block> sobre .</block>
  <block id="698aa9df4c2c5470599821c3d10620dd" category="summary">Em geral, um cluster do Kubernetes consiste em dois tipos de nós, cada um responsável por diferentes aspectos da funcionalidade.</block>
  <block id="748c130a6179b02d614cf9a027294302" category="doc">Integre o Astra Trident</block>
  <block id="79126799d841fcc6275e2d0dd60f9d39" category="paragraph">Para integrar o Astra Trident, os seguintes elementos de design e arquitetura exigem integração: Seleção e implantação de drivers, design de classe de storage, design de pool virtual, impacto da reivindicação de volume persistente (PVC) no provisionamento de storage, operações de volume e implantação de serviços OpenShift usando o Astra Trident.</block>
  <block id="1fdc23c8579638d050b7b219da011f2b" category="section-title">Seleção e implantação do driver</block>
  <block id="a3edb76d25dfeb8d67e4711eafd2b5ca" category="paragraph">Selecione e implante um driver de back-end para seu sistema de storage.</block>
  <block id="a57628924f909d4edd5cb81ee4f10896" category="section-title">Drivers de back-end do ONTAP</block>
  <block id="4ea57c8a88545a4fc2039131bc6fd74d" category="paragraph">Os drivers de back-end do ONTAP são diferenciados pelo protocolo usado e pelo modo como os volumes são provisionados no sistema de storage. Portanto, tenha cuidado ao decidir qual driver implantar.</block>
  <block id="815a377da65ae5b66c84438c43416d82" category="paragraph">Em um nível mais alto, se seu aplicativo tiver componentes que precisam de armazenamento compartilhado (vários pods acessando o mesmo PVC), os drivers baseados em nas seriam a escolha padrão, enquanto os drivers iSCSI baseados em bloco atendem às necessidades de armazenamento não compartilhado. Escolha o protocolo com base nos requisitos da aplicação e no nível de conforto das equipes de armazenamento e infraestrutura. De um modo geral, há pouca diferença entre eles para a maioria dos aplicativos, portanto, muitas vezes a decisão é baseada na necessidade ou não de armazenamento compartilhado (onde mais de um pod precisará de acesso simultâneo).</block>
  <block id="642b59503457da90c85cbb7a35e02089" category="paragraph">Os drivers de back-end ONTAP disponíveis são:</block>
  <block id="c2c889ded63fbe94cf7f1d5fe4747b2d" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>: Cada PV provisionado é um Flexvolume ONTAP completo.</block>
  <block id="9418583a1b7e700d24bcc735aa4682b5" category="list-text"><block ref="caafdf62a2c609bfa5316118231a1007" prefix="" category="inline-code"></block>: Cada PV provisionado é uma qtree, com um número configurável de qtrees por Flexvolume (o padrão é 200).</block>
  <block id="bc8f11db54909209ba09d55ee0b46990" category="list-text"><block ref="844e84da8e822b4a33c4d8188da97937" prefix="" category="inline-code"></block>: Cada PV provisionado como um ONTAP FlexGroup completo e todos os agregados atribuídos a um SVM são usados.</block>
  <block id="5e587346b7a212ee6429303276a1578b" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>: Cada PV provisionado é um LUN dentro de seu próprio Flexvolume.</block>
  <block id="85f6f5093b037b5bde3201d8136ee585" category="list-text"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix="" category="inline-code"></block>: Cada PV provisionado é um LUN, com um número configurável de LUNs por Flexvolume (o padrão é 100).</block>
  <block id="f1d8371af632688748db007c98766ded" category="paragraph">A escolha entre os três drivers nas tem algumas ramificações para os recursos, que são disponibilizados para o aplicativo.</block>
  <block id="8a1187760a2c55e422a454a64e160291" category="paragraph">Observe que, nas tabelas abaixo, nem todos os recursos são expostos pelo Astra Trident. Alguns devem ser aplicados pelo administrador de armazenamento após o provisionamento, se essa funcionalidade for desejada. As notas de rodapé sobrescritas distinguem a funcionalidade por recurso e driver.</block>
  <block id="6252699c8e049f40eaf187092727a531" category="cell">Drivers nas ONTAP</block>
  <block id="9147e5e61a7b9260dec09f3a6eb3e5be" category="cell">Instantâneos</block>
  <block id="999cc42b236c7aee1157ff02d6f1bcd5" category="cell">Clones</block>
  <block id="13bc190bfed9f972b3e33e3656737cdd" category="cell">Políticas de exportação dinâmicas</block>
  <block id="ab0c646b4c5e36d9bcf8239d97fd1843" category="cell">Ligação múltipla</block>
  <block id="8f2db90dd4a6fbd95ba8f0bc54fd6b27" category="cell">QoS</block>
  <block id="9d723d04c40bfd81835c0766a698cf63" category="cell">Redimensionar</block>
  <block id="8c340dc334134096f68b880b42a8692c" category="cell">Replicação</block>
  <block id="6bfc395e3d384b30d9f43ca45b1eeff7" category="cell">Nota de rodapé:5[]</block>
  <block id="7c078cb746c3dd22969c07747fd7f3fc" category="cell">Nota de rodapé:1[]</block>
  <block id="e4e9da2a7bd5e2b5b29c51299a1b787f" category="cell">Nota de rodapé:3[]</block>
  <block id="15861eb7768c6587d321b6010008930e" category="paragraph">O Astra Trident oferece 2 drivers SAN para ONTAP, cujas funcionalidades são mostradas abaixo.</block>
  <block id="f916141465c67326e5d7d980bff2880b" category="cell">Controladores SAN ONTAP</block>
  <block id="4f546cdc5f90f7d264cde89d14c6e015" category="cell">CHAP bidirecional</block>
  <block id="e78e01b4457814be0584f80618e4659a" category="cell">Nota de rodapé:4[]</block>
  <block id="708ee6a923f9b4b3f2213d57632eaadc" category="verse-content-simple">Nota de rodapé para as tabelas acima: Yesnote:1[]: Não gerenciado por Astra Trident Yesnote:2[]: Gerenciado por Astra Trident, mas não PV granular Yesnote:3[]: Não gerenciado por Astra Trident e não PV granular Yesnote:4[]: Suportado para volumes em bloco bruto Yesnote:5[]: Suportado por CSI Trident</block>
  <block id="74b4b41be17ac9897921032dfd4e94a8" category="paragraph">Os recursos que não são granulares PV são aplicados a todo o Flexvolume e todos os PVS (ou seja, qtrees ou LUNs em FlexVols compartilhados) compartilharão um cronograma comum.</block>
  <block id="b483d59c54aea739f0806cf2f30c057e" category="paragraph">Como podemos ver nas tabelas acima, grande parte da funcionalidade entre<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> o e<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> é a mesma. No entanto, como o<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> motorista limita a capacidade de controlar o cronograma em granularidade por PV, isso pode afetar sua recuperação de desastres e Planejamento de backup em particular. Para as equipes de desenvolvimento que desejam utilizar a funcionalidade de clone de PVC no storage ONTAP, isso só é possível ao usar os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers ,<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ou<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> .</block>
  <block id="45f7f2e55c0930a28d1a9e481e602a09" category="admonition">O<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver também é capaz de clonar PVCs.</block>
  <block id="e44e590e4645ab9ef08fb84f61cede17" category="section-title">Drivers de back-end do Cloud Volumes ONTAP</block>
  <block id="986d46700a93c1b67573285912b2a857" category="paragraph">O Cloud Volumes ONTAP fornece controle de dados junto a recursos de storage de classe empresarial para vários casos de uso, incluindo compartilhamentos de arquivos e storage em nível de bloco, atendendo aos protocolos nas e SAN (NFS, SMB/CIFS e iSCSI). Os drivers compatíveis para o Cloud volume ONTAP são<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>,<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>. Eles são aplicáveis ao Cloud volume ONTAP para Azure, Cloud volume ONTAP para GCP.</block>
  <block id="fdde450e1a16aa1461e62c6fa5ac621f" category="section-title">Drivers de back-end do Amazon FSX para ONTAP</block>
  <block id="168b96624733268bb4b4ebfbebea0449" category="paragraph">O Amazon FSX for ONTAP permite que os clientes aproveitem os recursos, o desempenho e os recursos administrativos do NetApp com os quais já conhecem, enquanto aproveitam a simplicidade, a agilidade, a segurança e a escalabilidade do armazenamento de dados na AWS. O FSX para ONTAP suporta muitos dos recursos do sistema de arquivos e APIs de administração do ONTAP. Os drivers compatíveis para o Cloud volume ONTAP são<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>,<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>,<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>.</block>
  <block id="d079959bb7c738f4e1704de5ff69b897" category="section-title">Drivers de back-end NetApp HCI/SolidFire</block>
  <block id="e040ac9827d856d3ad8ae9ac0da92295" category="paragraph">O<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver usado com as plataformas NetApp HCI/SolidFire ajuda o administrador a configurar um back-end Element para Trident com base nos limites de QoS. Se você quiser projetar seu back-end para definir os limites de QoS específicos nos volumes provisionados pelo Trident, use o<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block> parâmetro no arquivo de back-end. O administrador também pode restringir o tamanho do volume que pode ser criado no armazenamento usando o<block ref="e083f2ed1275af0ce4336a068ebee72a" prefix=" " category="inline-code"></block> parâmetro. Atualmente, recursos de armazenamento de elementos, como redimensionamento de volume e replicação de volume, não são suportados pelo<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver. Essas operações devem ser feitas manualmente por meio da IU da Web do Element Software.</block>
  <block id="77e9d6f249e4626d5b5c3aec863459d3" category="cell">Controlador SolidFire</block>
  <block id="9ef2bbb12ff72558472202561a25058d" category="cell">CHAP</block>
  <block id="57ee8ed0b2796ea5f35b10f9ae5d68cd" category="cell"><block ref="c0d2a793e71b152662b3e8cd2da00620" prefix="" category="inline-code"></block></block>
  <block id="0929973a1c9993903f6193add75b3fcf" category="cell">Nota de rodapé:2[]</block>
  <block id="bccbad684880808562152ac1d82d7b73" category="verse-content-simple">Nota de rodapé: Yesfootnote:1[]: Não gerenciado por Astra Trident Yesfootnote:2[]: Suportado para volumes de blocos brutos</block>
  <block id="64648abd6d020446c9c8d556a1584d71" category="section-title">Drivers de back-end do Azure NetApp Files</block>
  <block id="657e0fa57d574227dd7520919f55ff92" category="paragraph">O Astra Trident usa<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> o driver para gerenciar o <block ref="d617d79fbb5ee3bc8bd280353eeb1349" category="inline-link-macro-rx"></block> serviço.</block>
  <block id="1f65578a7accdff5ca6ff9f8dc42d9c6" category="inline-link-macro">Configuração de back-end do Astra Trident para Azure NetApp Files</block>
  <block id="488e366967d09f9808e7b3de7df261ac" category="paragraph">Mais informações sobre esse driver e como configurá-lo podem ser encontradas no <block ref="7f5bc9035106c3c834aeb8867a5fce2c" category="inline-link-macro-rx"></block>.</block>
  <block id="4da613089cbda3d7c19cb4b3f67c1f5d" category="cell">Controlador Azure NetApp Files</block>
  <block id="8098b34f582537833b36b58273c3545b" category="cell">Expandir</block>
  <block id="e228843381960c06d1035c4219901307" category="cell"><block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix="" category="inline-code"></block></block>
  <block id="2fdc8a66565228c15d355a7849997337" category="verse-content-simple">Nota de rodapé: Yesfootnote:1[]: Não gerenciado pelo Astra Trident</block>
  <block id="d7f3ab8ebe0633127c883b84d0b2bc4a" category="section-title">Cloud Volumes Service no driver de back-end do Google Cloud</block>
  <block id="dbdb93270c6038ae53d21c36a0ec3a06" category="paragraph">O Astra Trident usa<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> o driver para se vincular ao Cloud Volumes Service no Google Cloud.</block>
  <block id="6615bc816ef19ce9b090bf84cb2577e8" category="paragraph"><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>O driver usa pools virtuais para abstrair o back-end e permitir que o Astra Trident determine o posicionamento do volume. O administrador define os pools virtuais nos<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> arquivos. As classes de armazenamento usam seletores para identificar pools virtuais por etiqueta.</block>
  <block id="88e5e1ee5a287a3e1e8bcd0bd36d4405" category="list-text">Se os pools virtuais forem definidos no back-end, o Astra Trident tentará criar um volume nos pools de storage do Google Cloud ao qual esses pools virtuais são limitados.</block>
  <block id="350ba3703a7557f9470ce37c01800b89" category="list-text">Se os pools virtuais não forem definidos no back-end, o Astra Trident selecionará um pool de storage do Google Cloud nos pools de storage disponíveis na região.</block>
  <block id="1c6765c31de34eaa48e2dc86edefdb85" category="paragraph">Para configurar o back-end do Google Cloud no Astra Trident, é necessário especificar<block ref="80ef6899136dfcff295c16caa93c2138" prefix=" " category="inline-code"></block>,<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block> e<block ref="c9ff119073ea2567730fb42e3a4fe805" prefix=" " category="inline-code"></block> no arquivo de back-end. Você pode encontrar o número do projeto no console do Google Cloud. A chave da API é retirada do arquivo de chave privada da conta de serviço que você criou ao configurar o acesso à API para o Cloud Volumes Service no Google Cloud.</block>
  <block id="cc414e256eb2f4bb405602498ece0af6" category="inline-link-macro">Saiba mais sobre o suporte ao Astra Trident para CVS para GCP</block>
  <block id="2d081c5748fc9d24a176594dfdff1ed6" category="paragraph">Para obter detalhes sobre os tipos de serviço e níveis de serviço do Cloud Volumes Service no Google Cloud, <block ref="5b5fd03722abab2c395288a6ee42ad11" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="b8777f333c4d18731d4e5746513dc8eb" category="cell">Driver do Cloud Volumes Service para Google Cloud</block>
  <block id="949a374fc5a78d436e3067ee2de19cbe" category="cell"><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix="" category="inline-code"></block></block>
  <block id="e8257e01d592104a99a17c192f84e86a" category="cell">Disponível apenas no tipo de serviço CVS-Performance.</block>
  <block id="e6f7c10d8c16eee55f72ce71c4b10a2f" category="list-title">Notas de replicação</block>
  <block id="6b0213ecbd17731dba9697d0053bee09" category="list-text">A replicação não é gerenciada pelo Astra Trident.</block>
  <block id="706c8ebf7645c5a984d080882f157905" category="list-text">O clone será criado no mesmo pool de storage que o volume de origem.</block>
  <block id="3af6198d49c40c18f13c73c5ce15cf34" category="section-title">Design da classe de armazenamento</block>
  <block id="388bdf78cbb5b6bf4248ddf5613f7cc3" category="paragraph">As classes de armazenamento individuais precisam ser configuradas e aplicadas para criar um objeto Classe de armazenamento Kubernetes. Esta seção discute como projetar uma classe de armazenamento para seu aplicativo.</block>
  <block id="0dceb918cb4a4d7dcbe5af26d08e7657" category="section-title">Utilização específica no back-end</block>
  <block id="a09acd5f665bdf96b6dce47f8d4265e3" category="paragraph">A filtragem pode ser usada dentro de um objeto de classe de armazenamento específico para determinar qual pool de armazenamento ou conjunto de pools devem ser usados com essa classe de armazenamento específica. Três conjuntos de filtros podem ser definidos na Classe de armazenamento:<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>,<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> E/ou<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block>.</block>
  <block id="fc01760e8c283c2f128543ae8b8a67cc" category="paragraph">O<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> parâmetro ajuda a restringir o armazenamento ao conjunto de pools que correspondem a quaisquer atributos especificados. O<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> parâmetro é usado para estender o conjunto de pools que o Astra Trident usará para provisionar junto com o conjunto de pools selecionados pelos atributos e<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> parâmetros. Você pode usar um parâmetro sozinho ou ambos juntos para garantir que o conjunto apropriado de pools de armazenamento esteja selecionado.</block>
  <block id="74476e892d2681775eb41ec00a11e8da" category="paragraph">O<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block> parâmetro é usado para excluir especificamente o conjunto listado de pools que correspondem aos atributos.</block>
  <block id="ebaf90f7386ae95e7960a2fc0084116e" category="section-title">Emular políticas de QoS</block>
  <block id="ab807e6bd2f9cb9872eed98161bdd4e1" category="paragraph">Se você quiser criar classes de armazenamento para emular políticas de qualidade de Serviço, crie uma Classe de armazenamento com o<block ref="62933a2951ef01f4eafd9bdf4d3cd2f0" prefix=" " category="inline-code"></block> atributo como<block ref="dfdf2b9d5b3a77a55769b11d8a0396fe" prefix=" " category="inline-code"></block> ou<block ref="d4576b3b305e1df6f8ef4517ec2f9615" prefix=" " category="inline-code"></block>. Com base no<block ref="62933a2951ef01f4eafd9bdf4d3cd2f0" prefix=" " category="inline-code"></block> atributo mencionado na classe de storage, o Trident selecionará o back-end apropriado que serve<block ref="dfdf2b9d5b3a77a55769b11d8a0396fe" prefix=" " category="inline-code"></block> ou<block ref="d4576b3b305e1df6f8ef4517ec2f9615" prefix=" " category="inline-code"></block> agrega para corresponder ao atributo de Mídia e direcionará o provisionamento dos volumes para o agregado específico. Portanto, podemos criar uma classe de armazenamento PREMIUM que teria um conjunto de atributos,<block ref="d4576b3b305e1df6f8ef4517ec2f9615" prefix=" " category="inline-code"></block> que<block ref="62933a2951ef01f4eafd9bdf4d3cd2f0" prefix=" " category="inline-code"></block> poderia ser classificado como a política de QoS PREMIUM. Podemos criar outro PADRÃO de classe de armazenamento que teria o atributo de Mídia definido como "hdd", que poderia ser classificado como a política de QoS PADRÃO. Também podemos usar o atributo "IOPS" na classe de armazenamento para redirecionar o provisionamento para um dispositivo Element que pode ser definido como uma Política de QoS.</block>
  <block id="125ad0610423d53866d257eb097320e4" category="section-title">Utilize o back-end com base em recursos específicos</block>
  <block id="0bc0e72aefbf8f8ec0b28cc0486f98a2" category="paragraph">As classes de storage podem ser projetadas para direcionar o provisionamento de volume em um back-end específico, no qual recursos como provisionamento fino e espesso, snapshots, clones e criptografia são ativados. Para especificar qual armazenamento usar, crie classes de armazenamento que especifiquem o back-end apropriado com o recurso necessário habilitado.</block>
  <block id="f68e83b9ec275643f0ddf455710de4a0" category="paragraph">Os pools virtuais estão disponíveis para todos os back-ends do Astra Trident. Você pode definir pools virtuais para qualquer back-end, usando qualquer driver fornecido pelo Astra Trident.</block>
  <block id="fcda845207c8bb4d447496c11173c0af" category="paragraph">Os pools virtuais permitem que um administrador crie um nível de abstração sobre backends que pode ser referenciado por meio de classes de armazenamento, para maior flexibilidade e colocação eficiente de volumes em backends. Diferentes backends podem ser definidos com a mesma classe de serviço. Além disso, vários pools de storage podem ser criados no mesmo back-end, mas com características diferentes. Quando uma Classe de armazenamento é configurada com um seletor com as etiquetas específicas, o Astra Trident escolhe um back-end que corresponde a todas as etiquetas do seletor para colocar o volume. Se as etiquetas do seletor de classe de storage corresponderem a vários pools de storage, o Astra Trident escolherá um deles para provisionar o volume.</block>
  <block id="46eefe0a9f18e4edef4d602d3868ad26" category="section-title">Design de pool virtual</block>
  <block id="b8c8132a188c589a80147f1e0b22bf92" category="paragraph">Ao criar um backend, você geralmente pode especificar um conjunto de parâmetros. Era impossível para o administrador criar outro back-end com as mesmas credenciais de armazenamento e com um conjunto diferente de parâmetros. Com a introdução de pools virtuais, esse problema foi aliviado. Pools virtuais é uma abstração de nível introduzida entre o back-end e a classe de armazenamento do Kubernetes para que o administrador possa definir parâmetros junto com rótulos que podem ser referenciados por meio das classes de armazenamento do Kubernetes como um seletor, de uma forma independente de back-end. Os pools virtuais podem ser definidos para todos os back-ends NetApp compatíveis com o Astra Trident. Essa lista inclui o SolidFire/NetApp HCI, o ONTAP, o Cloud Volumes Service no GCP e o Azure NetApp Files.</block>
  <block id="e531eef4bc68547759b647c917ac2567" category="admonition">Ao definir pools virtuais, é recomendável não tentar reorganizar a ordem dos pools virtuais existentes em uma definição de back-end. Também é aconselhável não editar/modificar atributos para um pool virtual existente e definir um novo pool virtual.</block>
  <block id="b6e026d8066036cf2628237905a58384" category="section-title">Emulando diferentes níveis de serviço/QoS</block>
  <block id="12a04174d46f1d73ff741b222e009596" category="paragraph">É possível projetar pools virtuais para emular classes de serviço. Usando a implementação do pool virtual para o Cloud volume Service for Azure NetApp Files, vamos examinar como podemos configurar diferentes classes de serviço. Configurar o back-end do ANF com várias etiquetas, o que representa diferentes níveis de performance. Defina<block ref="28277e44c5db61612accdf326d137e96" prefix=" " category="inline-code"></block> Aspect para o nível de desempenho apropriado e adicione outros aspetos necessários em cada rótulo. Agora crie diferentes classes de armazenamento do Kubernetes que mapeariam para diferentes pools virtuais. Usando o<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> campo, cada StorageClass chama quais pools virtuais podem ser usados para hospedar um volume.</block>
  <block id="628fd4af2a4e2fce014efbf03b84bb71" category="section-title">Atribuir um conjunto específico de aspetos</block>
  <block id="f274bdd304a8c3825a2766a1f8ff8fa7" category="paragraph">Vários pools virtuais com um conjunto específico de aspectos podem ser projetados a partir de um único back-end de storage. Para fazer isso, configure o back-end com vários rótulos e defina os aspetos necessários em cada rótulo. Agora crie diferentes classes de armazenamento do Kubernetes usando o<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> campo que mapearia para diferentes pools virtuais. Os volumes que são provisionados no back-end terão os aspetos definidos no pool virtual escolhido.</block>
  <block id="421f7dd5bb37a6401aa6326ad33dae20" category="section-title">Caraterísticas de PVC que afetam o provisionamento de armazenamento</block>
  <block id="77392d80c7d8caad401b2619f5dd4581" category="paragraph">Alguns parâmetros além da classe de storage solicitada podem afetar o processo de decisão de provisionamento do Astra Trident ao criar uma PVC.</block>
  <block id="5ab83f35784f154d55ea7ab58c8e503b" category="section-title">Modo de acesso</block>
  <block id="f3882c83b41b76a9fac2c57407f3ac2b" category="paragraph">Ao solicitar armazenamento através de um PVC, um dos campos obrigatórios é o modo de acesso. O modo desejado pode afetar o back-end selecionado para hospedar a solicitação de armazenamento.</block>
  <block id="b72ab56468fdf0df298a89c3339b82c0" category="paragraph">O Astra Trident tentará corresponder ao protocolo de storage usado com o método de acesso especificado de acordo com a matriz a seguir. Isso é independente da plataforma de storage subjacente.</block>
  <block id="cac415feda213697b27d3b6fce10d33a" category="cell">ReadWriteOnce</block>
  <block id="c24ad3d99a666c95edd149419c958ee0" category="cell">ReadOnlyMany</block>
  <block id="caa8dc1f4bb28d2d11226494cd05a123" category="cell">ReadWriteMany</block>
  <block id="cefb8ccdebef1940174b22e9d0ab530b" category="cell">Sim (bloco bruto)</block>
  <block id="823f2153adc2211a0777560eafdcbad6" category="paragraph">Uma solicitação de um PVC ReadWriteMany enviado para uma implantação do Trident sem um back-end NFS configurado resultará em nenhum volume sendo provisionado. Por esse motivo, o solicitante deve usar o modo de acesso apropriado para sua aplicação.</block>
  <block id="5a51acb2538e54805c54d37ebb49c75d" category="section-title">Operações de volume</block>
  <block id="26fad327e23b6b08dcc94300bfe1ed04" category="section-title">Modificar volumes persistentes</block>
  <block id="3b69d471bb98837ae6e267593bb38882" category="paragraph">Volumes persistentes são, com duas exceções, objetos imutáveis no Kubernetes. Uma vez criados, a política de recuperação e o tamanho podem ser modificados. No entanto, isso não impede que alguns aspectos do volume sejam modificados fora do Kubernetes. Isso pode ser desejável para personalizar o volume para aplicações específicas, para garantir que a capacidade não seja consumida acidentalmente ou simplesmente mover o volume para um controlador de armazenamento diferente por qualquer motivo.</block>
  <block id="f82b5505d8def4abda0bec52275bd411" category="admonition">Atualmente, os provisionadores in-tree do Kubernetes não são compatíveis com operações de redimensionamento de volume para PVS NFS ou iSCSI. O Astra Trident é compatível com a expansão de volumes NFS e iSCSI.</block>
  <block id="b1d1874782626fe3f391628ea493e6ef" category="paragraph">Os detalhes de ligação do PV não podem ser modificados após a criação.</block>
  <block id="e68591655c8031177206e1e75728853f" category="section-title">Criar snapshots de volume sob demanda</block>
  <block id="f557ce2b38683c13c1c1a070ce58a33d" category="paragraph">O Astra Trident é compatível com a criação de snapshot de volume sob demanda e a criação de PVCs a partir de snapshots usando a estrutura CSI. Os snapshots fornecem um método conveniente de manter cópias pontuais dos dados e têm um ciclo de vida independente do PV de origem no Kubernetes. Esses snapshots podem ser usados para clonar PVCs.</block>
  <block id="f007c56a8eb121e8a696105e69aefa68" category="section-title">Criar volumes a partir de instantâneos</block>
  <block id="e005d448313cdc2848d923f4c754e467" category="paragraph">O Astra Trident também suporta a criação de PersistentVolumes a partir de instantâneos de volume. Para conseguir isso, basta criar um PersistentVolumeClaim e mencionar o<block ref="1ea7e575defdf6bc3f26a3f127e98170" prefix=" " category="inline-code"></block> como o instantâneo necessário a partir do qual o volume precisa ser criado. O Astra Trident manipulará esse PVC criando um volume com os dados presentes no snapshot. Com esse recurso, é possível duplicar dados entre regiões, criar ambientes de teste, substituir um volume de produção danificado ou corrompido em sua totalidade, ou recuperar arquivos e diretórios específicos e transferi-los para outro volume anexado.</block>
  <block id="55a3309b0b6646e0ea6b47195bd3d4bd" category="section-title">Mover volumes no cluster</block>
  <block id="925b814524908630c07d45fc5a80028a" category="paragraph">Os administradores de storage podem mover volumes entre agregados e controladores no cluster ONTAP sem interrupções para o consumidor de storage. Essa operação não afeta o Astra Trident nem o cluster Kubernetes, contanto que o agregado de destino seja aquele ao qual o SVM que o Astra Trident está usando tenha acesso. É importante ressaltar que se o agregado tiver sido adicionado recentemente ao SVM, o back-end precisará ser atualizado readicionando-o ao Astra Trident. Isso fará com que o Astra Trident faça o inventário novamente da SVM para que o novo agregado seja reconhecido.</block>
  <block id="033dcaefcc578c987d32d4bdb6f6b1e2" category="paragraph">No entanto, a movimentação de volumes entre back-ends não é compatível automaticamente com o Astra Trident. Isso inclui entre SVMs no mesmo cluster, entre clusters ou em uma plataforma de storage diferente (mesmo que esse sistema de storage seja conetado ao Astra Trident).</block>
  <block id="302be77289f337115411c01846d9a489" category="paragraph">Se um volume for copiado para outro local, o recurso de importação de volume poderá ser usado para importar volumes atuais para o Astra Trident.</block>
  <block id="2243e252be826d6ec5e767668d9f961d" category="section-title">Expanda volumes</block>
  <block id="17d79009c5c2bb6bd570bb6f87552a2d" category="paragraph">O Astra Trident é compatível com o redimensionamento de PVS NFS e iSCSI. Isso permite que os usuários redimensionem seus volumes diretamente pela camada Kubernetes. A expansão de volume é possível para todas as principais plataformas de storage da NetApp, incluindo backends ONTAP, SolidFire/NetApp HCI e Cloud Volumes Service. Para permitir uma possível expansão posterior, defina<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block> como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> no StorageClass associado ao volume. Sempre que for necessário redimensionar o volume persistente, edite a<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block> anotação na reclamação volume persistente para o tamanho de volume pretendido. O Trident cuidará automaticamente do redimensionamento do volume no cluster de armazenamento.</block>
  <block id="40a28a40c11a193f8911cf4143a6ae6a" category="section-title">Importar um volume existente para o Kubernetes</block>
  <block id="62e0abd2d56d565a2b31e85b446fa800" category="paragraph">A importação de volume permite importar um volume de storage existente para um ambiente Kubernetes. Atualmente, isso é suportado pelos<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers ,<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>,<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block>,<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> e<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> . Esse recurso é útil ao portar um aplicativo existente para o Kubernetes ou durante cenários de recuperação de desastres.</block>
  <block id="5d9f64103cac7a58da69304bc3320e98" category="paragraph">Ao usar o ONTAP e<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> os drivers, use o comando<block ref="5b139f5309999fcf6a4bbc8389cbc865" prefix=" " category="inline-code"></block> para importar um volume existente para o Kubernetes para ser gerenciado pelo Astra Trident. O arquivo de PVC YAML ou JSON usado no comando de volume de importação aponta para uma classe de storage que identifica o Astra Trident como o provisionador. Ao usar um back-end NetApp HCI/SolidFire, certifique-se de que os nomes de volume sejam exclusivos. Se os nomes de volume forem duplicados, clone o volume para um nome exclusivo para que o recurso de importação de volume possa distinguir entre eles.</block>
  <block id="555c97661fe540a8eabda5c4680e2f81" category="paragraph">Se<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> o driver ou<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> for usado, use o comando<block ref="37e8b35fb48ead6318ca6f2f83110554" prefix=" " category="inline-code"></block> para importar o volume para o Kubernetes para ser gerenciado pelo Astra Trident. Isso garante uma referência de volume única.</block>
  <block id="cb619cd0109686b5f82562b63e44a107" category="paragraph">Quando o comando acima é executado, o Astra Trident encontrará o volume no back-end e lê seu tamanho. Ele irá adicionar automaticamente (e substituir, se necessário) o tamanho de volume do PVC configurado. Em seguida, o Astra Trident cria o novo PV e o Kubernetes liga o PVC ao PV.</block>
  <block id="3a8b25f50e2dcc298175abc8f6a71f82" category="paragraph">Se um recipiente fosse implantado de modo que fosse necessário o PVC importado específico, ele permaneceria em um estado pendente até que o par PVC/PV seja vinculado através do processo de importação de volume. Depois que o par de PVC / PV são ligados, o recipiente deve surgir, desde que não haja outros problemas.</block>
  <block id="41603705958b86c3ec4ff21cfce13a5b" category="section-title">Implantar serviços OpenShift</block>
  <block id="7e3c623b48b608f4c6380c2994ae5aa9" category="paragraph">Os serviços de cluster de valor agregado do OpenShift fornecem funcionalidade importante aos administradores de cluster e aos aplicativos que estão sendo hospedados. O storage que esses serviços usam pode ser provisionado usando os recursos do nó local. No entanto, isso geralmente limita a capacidade, o desempenho, a capacidade de recuperação e a sustentabilidade do serviço. Ao aproveitar um storage array empresarial para fornecer capacidade a esses serviços, é possível melhorar significativamente o serviço. No entanto, como em todas as aplicações, o OpenShift e os administradores de storage devem trabalhar em conjunto para determinar as melhores opções para cada um. A documentação da Red Hat deve ser muito utilizada para determinar os requisitos e garantir que as necessidades de dimensionamento e desempenho sejam atendidas.</block>
  <block id="6dd8f6c286b8e1a8c96c6309099f0003" category="section-title">Serviço de registo</block>
  <block id="68ee1c4c0da20bfd1e946df20351d4b9" category="inline-link-macro">NetApp.io</block>
  <block id="126ac9f6149081eb0e97c2e939eaad52" category="inline-link-macro">blog</block>
  <block id="34d357a7f8cc47e860d5fb0a317cf22d" category="paragraph">A implantação e o gerenciamento do armazenamento para o Registro foram documentados <block ref="d5e1883ebd095c0eda96c44469e8197d" category="inline-link-macro-rx"></block> <block ref="ceb73d0582d40281d79011a1e5343e89" category="inline-link-macro-rx"></block>no .</block>
  <block id="62ac236856a5a6aefd15133e967514c6" category="section-title">Serviço de registo</block>
  <block id="2f3052b6a2858bec8355ec56150f6a38" category="paragraph">Assim como outros serviços OpenShift, o serviço de log é implantado usando o Ansible com parâmetros de configuração fornecidos pelo arquivo de inventário, também conhecido como hosts, fornecidos ao manual de estratégia. Há dois métodos de instalação que serão abordados: Implantação de logs durante a instalação inicial do OpenShift e implantação de logs após a instalação do OpenShift.</block>
  <block id="541c717d8d2998609c0970b5e43c7401" category="admonition">A partir do Red Hat OpenShift versão 3,9, a documentação oficial recomenda contra o NFS para o serviço de log devido a preocupações com a corrupção de dados. Isso é baseado no teste da Red Hat de seus produtos. O servidor NFS da ONTAP não tem esses problemas e pode facilmente fazer backup de uma implantação de log. Em última análise, a escolha do protocolo para o serviço de Registro é sua, apenas saiba que ambos funcionarão muito bem ao usar plataformas NetApp e não há motivo para evitar o NFS se essa for sua preferência.</block>
  <block id="57cad4852c9c2e439f61728e0391fe7b" category="paragraph">Se você optar por usar o NFS com o serviço de log, precisará definir a variável Ansible<block ref="12eeb466f53968af86875065cacb87df" prefix=" " category="inline-code"></block> para<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> evitar que o instalador falhe.</block>
  <block id="be11c74c1dd7f307bb80183a90dc2067" category="section-title">Comece agora</block>
  <block id="16e90b2336fdfec64b19194247422194" category="paragraph">O serviço de log pode, opcionalmente, ser implantado tanto para aplicativos quanto para as operações principais do próprio cluster OpenShift. Se você optar por implantar o Registro de operações, especificando a variável<block ref="e9fb6c5b679bcf493f004e7862e40370" prefix=" " category="inline-code"></block> como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, duas instâncias do serviço serão criadas. As variáveis que controlam a instância de log para operações contêm "OPS" nelas, enquanto a instância para aplicativos não.</block>
  <block id="a9ccaa810b97a00e75bb1ea4100d0a9f" category="paragraph">A configuração das variáveis do Ansible de acordo com o método de implantação é importante para garantir que o storage correto seja utilizado pelos serviços subjacentes. Vamos ver as opções para cada um dos métodos de implantação.</block>
  <block id="c5c09113a6a6ae4b75868a9e96ea3cc3" category="inline-link-macro">Documentação de Registro do RedHat OpenShift</block>
  <block id="bc468c28ba57dbcb58de37265cd02436" category="admonition">As tabelas abaixo contêm apenas as variáveis que são relevantes para a configuração de armazenamento, uma vez que se refere ao serviço de registo. Você pode encontrar outras opções nas <block ref="e81826ec3b15492352776daada114990" category="inline-link-macro-rx"></block> quais devem ser revisadas, configuradas e usadas de acordo com sua implantação.</block>
  <block id="02098b11f876fe10c40b6106bd9864da" category="paragraph">As variáveis na tabela abaixo resultarão no manual do Ansible criando um PV e PVC para o serviço de Registro usando os detalhes fornecidos. Esse método é significativamente menos flexível do que usar o manual de instalação de componentes após a instalação do OpenShift, no entanto, se você tiver volumes existentes disponíveis, é uma opção.</block>
  <block id="47c14840d8e15331fa420b9b2f757cd9" category="cell">Variável</block>
  <block id="3ec365dd533ddb7ef3d1c111186ce872" category="cell">Detalhes</block>
  <block id="9aa2fd43742cd5ed36b406b3f4b0fd8c" category="cell"><block ref="da877c5451281307ba496c6d47b9e58a" prefix="" category="inline-code"></block></block>
  <block id="3260b06ea72e4931f5fb5106001fcc28" category="cell">Defina como<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> para que o instalador crie um NFS PV para o serviço de log.</block>
  <block id="e95f43173c69a9ca544d4aaef28a4d90" category="cell"><block ref="a6e6be3176202f08f0df1683c85dbcf6" prefix="" category="inline-code"></block></block>
  <block id="3a262c1d9bdec02b241c16b2c5f6dbbe" category="cell">O nome do host ou endereço IP do host NFS. Isso deve ser definido para o LIF de dados da sua máquina virtual.</block>
  <block id="41aae586bb7044d7741fe9412aa81e03" category="cell"><block ref="de9d956706d370dbc262cec42d7dd029" prefix="" category="inline-code"></block></block>
  <block id="bf2d137d8c669b07aae26040c7e5c0e0" category="cell">O caminho de montagem para a exportação NFS. Por exemplo, se o volume for juntado como<block ref="54db3c53100205a4065b324343188651" prefix=" " category="inline-code"></block>, você usaria esse caminho para essa variável.</block>
  <block id="88a9f7d18fabb82d63ac43c64ae6e735" category="cell"><block ref="a9c9aa0bbb9f276fcffcb28987aafe46" prefix="" category="inline-code"></block></block>
  <block id="6f8782c23f3cb958d0de4fad76dabaed" category="cell">O nome, por exemplo<block ref="2e85c8d6d60b1938be08d95bf1d5ed6c" prefix=" " category="inline-code"></block>, do PV a criar.</block>
  <block id="789e0dc4bfc00f5c885a698d6ab34dff" category="cell"><block ref="db6cd83d9bf6cb9184c2966426d87c8d" prefix="" category="inline-code"></block></block>
  <block id="b68f05ea52c8c80c07e6a4c0671c75bf" category="cell">O tamanho da exportação NFS, por<block ref="f6e2fcb8998619722fdea77d356a4b3b" prefix=" " category="inline-code"></block> exemplo .</block>
  <block id="2ab80b6965298dc6a178995bbedebe88" category="paragraph">Se o cluster do OpenShift já estiver em execução e, portanto, o Trident tiver sido implantado e configurado, o instalador poderá usar o provisionamento dinâmico para criar os volumes. As variáveis a seguir precisarão ser configuradas.</block>
  <block id="c2aecf833d743cbc47969cd85c67101e" category="cell"><block ref="5d0e211248d2b37acde90612e54b85c9" prefix="" category="inline-code"></block></block>
  <block id="540ad9a52084720ddb7f364fa8b304c6" category="cell">Defina como verdadeiro para usar volumes provisionados dinamicamente.</block>
  <block id="45a481a75749c5331e7e9fd7d89e473d" category="cell"><block ref="5e135d629059162b7f62817ebf81f67b" prefix="" category="inline-code"></block></block>
  <block id="837ffa1e281409660ed25582c5b1963f" category="cell">O nome da classe de armazenamento que será usado no PVC.</block>
  <block id="cd3daa927272b5624e96d283365d5500" category="cell"><block ref="7ee69f3d6802d7d49dc834e2a48533f8" prefix="" category="inline-code"></block></block>
  <block id="8f80d278a79cbc84b80a091713006022" category="cell">O tamanho do volume solicitado no PVC.</block>
  <block id="1bb0c7eeef4bbbefae080a294fd554b0" category="cell"><block ref="463a50d4707805ff518a7c1b614cae9b" prefix="" category="inline-code"></block></block>
  <block id="f870ec92e294a018a17afe7a614fb5bb" category="cell">Um prefixo para os PVCs usados pelo serviço de Registro.</block>
  <block id="e8c62e1f0f0773ae5ba6a7acad696b2d" category="cell"><block ref="f4d06597471a7e461fa3aaaa2a053142" prefix="" category="inline-code"></block></block>
  <block id="46e65a11ac398c02b8fce45a7cd5cf36" category="cell">Defina como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> para usar volumes provisionados dinamicamente para a instância de log de operações.</block>
  <block id="8792c7234e14325cb68c493d20ab5154" category="cell"><block ref="30a3d0fdc8ecf82523d9f348d96c46ab" prefix="" category="inline-code"></block></block>
  <block id="d016f79f0ee104f3805d61e6a379fb9b" category="cell">O nome da classe de armazenamento para a instância de log de operações.</block>
  <block id="048e768365962d7d520567f92aea8355" category="cell"><block ref="7c884ec8a4d2fd51c22984fae2fe09f1" prefix="" category="inline-code"></block></block>
  <block id="bc367f89ac597585e52d0eb58a5929ae" category="cell">O tamanho da solicitação de volume para a instância de operações.</block>
  <block id="155871626071d69cb283985a9f36bad2" category="cell"><block ref="210255a36cb029002a696f21a04cf35d" prefix="" category="inline-code"></block></block>
  <block id="2a8f254749a466654f556c6466051133" category="cell">Um prefixo para os PVCs de instância de OPS.</block>
  <block id="e1b2d0d3228c29c069bcd139de306709" category="section-title">Implantar a pilha de logs</block>
  <block id="0409a0cfdfa4f3b3033503b8309442ff" category="paragraph">Se você estiver implantando o log como parte do processo inicial de instalação do OpenShift, então você só precisará seguir o processo de implantação padrão. O Ansible configurará e implantará os serviços necessários e os objetos OpenShift para que o serviço fique disponível assim que o Ansible for concluído.</block>
  <block id="210ecadaccb6088b0dfbd2e6a0b5d0a0" category="inline-link-macro">Documentação do RedHat OpenShift Container Platform 3,11</block>
  <block id="67f3e99678cc7c568f4ed29074cdc41c" category="paragraph">No entanto, se você estiver implantando após a instalação inicial, o manual de estratégia de componentes precisará ser usado pelo Ansible. Este processo pode mudar ligeiramente com versões diferentes do OpenShift, portanto, certifique-se de ler e seguir <block ref="a2226808e95b8487c66dd3b8cbea118e" category="inline-link-macro-rx"></block> para a sua versão.</block>
  <block id="3dbf527ac3caf41ab150ec99a1737217" category="section-title">Serviço de métricas</block>
  <block id="ee3d8ea22d8bf88f2f7fcd6d6dbf26d2" category="paragraph">O serviço de métricas fornece informações valiosas ao administrador sobre o status, a utilização de recursos e a disponibilidade do cluster OpenShift. Também é necessário para a funcionalidade de escala automática de pods e muitas organizações usam dados do serviço de métricas para seus aplicativos de cobrança e/ou exibição.</block>
  <block id="d0ed828e153e9bad2da040ddf6ad8f45" category="paragraph">Assim como no serviço de log e no OpenShift como um todo, o Ansible é usado para implantar o serviço de métricas. Além disso, tal como o serviço de registo, o serviço de métricas pode ser implementado durante uma configuração inicial do cluster ou depois de estar operacional utilizando o método de instalação do componente. As tabelas a seguir contêm as variáveis que são importantes ao configurar o armazenamento persistente para o serviço de métricas.</block>
  <block id="69aa4440020e49c654aeb910f38c6bb9" category="admonition">As tabelas abaixo contêm apenas as variáveis que são relevantes para a configuração de armazenamento, já que se refere ao serviço de métricas. Há muitas outras opções encontradas na documentação que devem ser revisadas, configuradas e usadas de acordo com sua implantação.</block>
  <block id="4f692d78f978a73b157571022c1d1ba7" category="cell"><block ref="87ee48b0bd9cbef625c9e58d29953bd9" prefix="" category="inline-code"></block></block>
  <block id="30da7e263c0cffc34933d24a07fb097a" category="cell"><block ref="03fe9d76b0b5aef27365ed846a7686c0" prefix="" category="inline-code"></block></block>
  <block id="adba8dd7dd2b027405b815c03a05dbf1" category="cell">O nome do host ou endereço IP do host NFS. Isso deve ser definido como o LIF de dados para o SVM.</block>
  <block id="3bafc264ad2a901d3be052a7f1cf2e44" category="cell"><block ref="30a3002c7df05045a0206d9273a384c6" prefix="" category="inline-code"></block></block>
  <block id="459859e54ba90bc4145c54d1f1deecff" category="cell">O caminho de montagem para a exportação NFS. Por exemplo, se o volume for juntado como<block ref="84e465df2e745334cf363d2701acbc8c" prefix=" " category="inline-code"></block>, você usaria esse caminho para essa variável.</block>
  <block id="ca0f0d82f9c7cbc36df652cddd4b2f35" category="cell"><block ref="2708722d0be9e759610930ca4ba0ccda" prefix="" category="inline-code"></block></block>
  <block id="eb10d02b22b02d7f543f867b8d31e7b0" category="cell">O nome, por exemplo<block ref="346a344a8f42541e4f261b54ef920508" prefix=" " category="inline-code"></block>, do PV a criar.</block>
  <block id="a3eeeafe923ac73e75b3bf33cdadb603" category="cell"><block ref="8085fdc8f39bb3d2c5b777041294d9bf" prefix="" category="inline-code"></block></block>
  <block id="a56c731cfe96d228c7c0bcc57bc80d3d" category="cell"><block ref="861e7642b92f41392f844c04bfffd5e0" prefix="" category="inline-code"></block></block>
  <block id="0da919d4045e4f38d294aaec73f5d57f" category="cell">Um prefixo a ser usado para as PVCs de métricas.</block>
  <block id="15bb3eef0b42a93e324977c289f2fd85" category="cell"><block ref="c3d37ddc32376761a7073bb028fe23f9" prefix="" category="inline-code"></block></block>
  <block id="75929c9d67f1407282b5618fca4589e7" category="cell">O tamanho dos volumes a solicitar.</block>
  <block id="8ebb493e0ffdf7c1e850c67bc22f15c7" category="cell"><block ref="d2744c21ee3a719be8d523f86c2d1538" prefix="" category="inline-code"></block></block>
  <block id="aab0ec84a4da1dfd2b63896453f1e05d" category="cell">O tipo de storage a ser usado para métricas, isso precisa ser definido como dinâmico para que o Ansible crie PVCs com a classe de storage apropriada.</block>
  <block id="460aaf3805271ec2e5dc35755fe317b1" category="cell"><block ref="c79cb64517774919120c2dfa7c06e9a8" prefix="" category="inline-code"></block></block>
  <block id="0c55ca33e89539cd67eb0be3796547c5" category="cell">O nome da classe de armazenamento a utilizar.</block>
  <block id="6c13e62eb53f29e7794d3807369299d2" category="section-title">Implantar o serviço de métricas</block>
  <block id="3e75d51468f5a99fdb50b75dafea32e8" category="paragraph">Com as variáveis apropriadas do Ansible definidas no arquivo de hosts/inventário, implante o serviço com o Ansible. Se você estiver implantando no horário de instalação do OpenShift, o PV será criado e usado automaticamente. Se você estiver implantando usando os playbooks de componentes, após a instalação do OpenShift, o Ansible criará todos os PVCs necessários e, depois que o Astra Trident provisionou o storage para eles, implantará o serviço.</block>
  <block id="bf1cadd7aa4e541e255df26af5451d85" category="inline-link-macro">Guia de implantação do OpenShift da RedHat</block>
  <block id="eb502d6483a644e9b6f61ca4719276d8" category="paragraph">As variáveis acima, e o processo de implantação, podem mudar com cada versão do OpenShift. Certifique-se de rever e seguir <block ref="5ad72ffc1eda2c257c8947a0ad66dddb" category="inline-link-macro-rx"></block> a sua versão para que ela seja configurada para o seu ambiente.</block>
  <block id="5425c134e042a4473f453cbfaaf776df" category="summary">Você pode ativar o LUKS (configuração de chave unificada do Linux) para criptografar volumes DE ECONOMIA SAN ONTAP e SAN ONTAP no Astra Trident. O Astra Trident suporta redimensionamento de volume e rotação de chave (frase-passe) para volumes criptografados com LUKS.</block>
  <block id="b6969fa89b54a37ee3628194aebbbea3" category="doc">Configuração de chave unificada do Linux (LUKS)</block>
  <block id="a5a1aad62aa2cbb5ff9f9547c24671f4" category="paragraph">Você pode ativar o LUKS (configuração de chave unificada do Linux) para criptografar volumes DE ECONOMIA SAN ONTAP e SAN ONTAP no Astra Trident. O Astra Trident é compatível com rotação de frase-passe e expansão de volume para volumes criptografados por LUKS.</block>
  <block id="a44b6b00e5eebd7494e1fd00658685e2" category="inline-link-macro">NIST</block>
  <block id="b1597f08149b233ec5901eb1dc041042" category="paragraph">No Astra Trident, os volumes criptografados por LUKS usam a cifra e o modo aes-xts-plain64, conforme recomendado <block ref="79a538d5fda32e1565131ca044d589f6" category="inline-link-macro-rx"></block>pelo .</block>
  <block id="83188252104d97bbc732f23aa3b26ae2" category="inline-link-macro">Gitlab: Cryptsetup</block>
  <block id="525588be7f6bc2cf7b3b257ced2b19c7" category="list-text">Os nós de trabalho devem ter o cryptsetup 2,1 ou superior (mas inferior a 3,0) instalado. Para obter mais informações, visite <block ref="39c06d5570d5dfd5c63abe15a0d8d2fb" category="inline-link-macro-rx"></block>.</block>
  <block id="15671c66e35f11a8d4024ff7ca5e7fb6" category="list-text">Por motivos de desempenho, recomendamos que os nós de trabalho suportem Advanced Encryption Standard New Instructions (AES-NI). Para verificar o suporte ao AES-NI, execute o seguinte comando:</block>
  <block id="0520b57116af979714f913239aa512a5" category="inline-link-macro">Intel: Advanced Encryption Standard Instructions (AES-NI)</block>
  <block id="64e4c9865ee7451edfc34d72da12ee7d" category="paragraph">Se nada for devolvido, o processador não suporta AES-NI. Para obter mais informações sobre o AES-NI, visite: <block ref="e77f47a78a9c4677daf14d5366b503b4" category="inline-link-macro-rx"></block>.</block>
  <block id="83f59a8c99f92feae93c90d4f7bd0d68" category="section-title">Ativar encriptação LUKS</block>
  <block id="b9a97083b1f9ee5d9d6fd1ec4025a836" category="paragraph">Você pode ativar a criptografia por volume no lado do host usando o LUKS (Configuração de chave unificada do Linux) para volumes ECONÔMICOS SAN ONTAP e SAN ONTAP.</block>
  <block id="06c4db929b729ddf158ceb5cc15b122b" category="inline-link-macro">Opções de configuração de SAN ONTAP</block>
  <block id="d197aff07a41df5dbefcace33058435c" category="list-text">Defina atributos de criptografia LUKS na configuração de back-end. Para obter mais informações sobre opções de configuração de back-end para SAN ONTAP, <block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="227eef96675ec0e7595951c060437608" category="list-text">Use<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> para definir os pools de armazenamento usando a criptografia LUKS. Por exemplo:</block>
  <block id="a99f022d7515cf14d9d2e49a72198c5c" category="list-text">Crie um segredo que contenha a frase-passe LUKS. Por exemplo:</block>
  <block id="e646e16bee8b32e6ea29e30d01970a6c" category="section-title">Limitações</block>
  <block id="6d8e596656bc0dc6684415f94bee7e6a" category="paragraph">Os volumes criptografados com LUKS não podem aproveitar a deduplicação e a compactação do ONTAP.</block>
  <block id="ab946346d7b6ebd4a84d96bb78dcd833" category="section-title">Configuração de back-end para importação de volumes LUKS</block>
  <block id="6159e851594f646ce383a87fc615fbd1" category="paragraph">Para importar um volume LUKS, você deve definir<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block> como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> no back-end. A<block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix=" " category="inline-code"></block> opção informa ao Astra Trident se o volume é compatível com LUKS <block ref="b326b5062b2f0e69046810717534cb09" prefix="(" category="inline-code"></block>) ou não com LUKS <block ref="68934a3e9455fa72420237eb05902327" prefix="(" category="inline-code"></block>), conforme mostrado no exemplo a seguir.</block>
  <block id="f9d3cd939395358ac0f0bd3a1043656c" category="section-title">Rode uma frase-passe LUKS</block>
  <block id="5173c14a913aecabc2aa4a398abfd3a1" category="paragraph">Pode rodar a frase-passe LUKS e confirmar a rotação.</block>
  <block id="870809044094847738d2e3b2d3490240" category="admonition">Não se esqueça de uma frase-passe até ter verificado que ela não é mais referenciada por qualquer volume, instantâneo ou segredo. Se uma frase-passe referenciada for perdida, talvez você não consiga montar o volume e os dados permanecerão criptografados e inacessíveis.</block>
  <block id="0887b239ebf59802cdd0acb89f746b66" category="paragraph">A rotação da frase-passe LUKS ocorre quando um pod que monta o volume é criado após uma nova frase-passe LUKS ser especificada. Quando um novo pod é criado, o Astra Trident compara a frase-passe LUKS no volume com a frase-passe ativa em segredo.</block>
  <block id="a09edd6ec72e24ea93fe0643001ce09b" category="list-text">Se a frase-passe no volume não corresponder à frase-passe ativa no segredo, ocorre rotação.</block>
  <block id="85341a765feac19c14ddb5733a16bb0f" category="list-text">Se a frase-passe no volume corresponder à frase-passe ativa no segredo, o<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block> parâmetro é ignorado.</block>
  <block id="e11fe3d05d72f7812c946ac80ae339ed" category="list-text">Adicione os<block ref="c774c2255b7e3b1f75cd200c366d4148" prefix=" " category="inline-code"></block> parâmetros e<block ref="59ab79bfd6177f0b40d74d58d4a94d89" prefix=" " category="inline-code"></block> StorageClass. Por exemplo:</block>
  <block id="7fe288bcd08368971a3839f1de636c7c" category="list-text">Identificar senhas existentes no volume ou instantâneo.</block>
  <block id="bd7a9717d29c5ddcab1bc175eda1e298" category="listing-title">Volume</block>
  <block id="d4e2713d1b1725a1592f9268589f990d" category="listing-title">Snapshot</block>
  <block id="c0526adc9b28d758d8fab9d4a5b998ef" category="list-text">Atualize o segredo LUKS para o volume para especificar as senhas novas e anteriores. Certifique-se <block ref="119d124de86f53dbdf015ff1809c10e1" prefix=" " category="inline-code"></block> e<block ref="4146f2b31b5baccc1599d6209e20b87f" prefix=" " category="inline-code"></block> faça a correspondência da frase-passe anterior.</block>
  <block id="4f8a79fea6c3cc09f49769b8473808f7" category="list-text">Crie um novo pod de montagem do volume. Isto é necessário para iniciar a rotação.</block>
  <block id="bcf837455c951c49bd9138ead166c489" category="list-text">Verifique se a senha foi girada.</block>
  <block id="0c7eac961f50eef2d0c82d382fdd18b3" category="paragraph">A frase-passe foi girada quando apenas a nova frase-passe é retornada no volume e no instantâneo.</block>
  <block id="6ff457ceee4568584dc3fd66c1ae658a" category="admonition">Se duas senhas forem retornadas, por<block ref="b5b0f81d5dbb45d3dd031f1b02af8bf3" prefix=" " category="inline-code"></block> exemplo, a rotação estará incompleta. Você pode acionar um novo pod para tentar completar a rotação.</block>
  <block id="b3f9d5f1e12f2ba5ecd2ece1e9084f3f" category="section-title">Ative a expansão de volume</block>
  <block id="e5307495a3aec6528b42d3f3e835a761" category="paragraph">Você pode ativar a expansão de volume em um volume criptografado com LUKS.</block>
  <block id="aeec1a5a7dc7624995570096ce8156ef" category="inline-link-macro">Kubernetes 1,25: Use segredos para a expansão orientada por nós de volumes CSI</block>
  <block id="1282398415278cc77bc47970640d4188" category="list-text">Ative a<block ref="b0e105de2a2f0820528649fee8d2e331" prefix=" " category="inline-code"></block> porta de recurso (beta 1,25 ou mais). <block ref="35e3bd84b2522e04fd4ead86130c9227" category="inline-link-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="e4de718025be845e2dec22064bb4eece" category="list-text">Adicione os<block ref="91985ce21cd787a6ab2a13cc97f58968" prefix=" " category="inline-code"></block> parâmetros e<block ref="641c8d6753dd78e60ebb61a20e6a2742" prefix=" " category="inline-code"></block> StorageClass. Por exemplo:</block>
  <block id="e718558948d1441cf3873df6fb7b10c3" category="paragraph">Quando você inicia a expansão de armazenamento on-line, o kubelet passa as credenciais apropriadas para o driver.</block>
  <block id="d59b86d1714966230da7a00672e40912" category="summary">Use as recomendações listadas aqui para garantir que sua instalação do Astra Trident esteja segura.</block>
  <block id="2fae32629d4ef4fc6341f1751b405e45" category="doc">Segurança</block>
  <block id="06d5b814514e67e2a36b491b2493aed1" category="paragraph">Use as recomendações listadas aqui para garantir a segurança da instalação do seu Astra Trident.</block>
  <block id="44a736677691eaca5e5d3d6b5c770b22" category="section-title">Execute o Astra Trident em seu próprio namespace</block>
  <block id="347d4c35796a862cf20cdcdebfe59e57" category="paragraph">É importante impedir que aplicações, administradores de aplicações, usuários e aplicações de gerenciamento acessem as definições de objetos do Astra Trident ou os pods para garantir um storage confiável e bloquear atividades maliciosas em potencial.</block>
  <block id="47d7f9fac441e60d9523d256d02aa8ba" category="paragraph">Para separar as outras aplicações e usuários do Astra Trident, instale sempre o Astra Trident em seu próprio namespace Kubernetes <block ref="47cb44be55a0dffa15dfc900a4c687be" prefix="(" category="inline-code"></block>). A colocação do Astra Trident em seu próprio namespace garante que apenas o pessoal administrativo do Kubernetes tenha acesso ao pod Astra Trident e aos artefatos (como segredos de back-end e CHAP, se aplicável) armazenados nos objetos CRD com namespaces. Você deve garantir que somente os administradores acessem o namespace Astra Trident e, assim, o acesso<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> à aplicação.</block>
  <block id="f40aef657c875e42158050f63dcfbb6f" category="section-title">Use a autenticação CHAP com backends ONTAP SAN</block>
  <block id="2738c60dc60977d9eb6af2bf2a98c193" category="paragraph">O Astra Trident é compatível com autenticação baseada em CHAP para workloads SAN ONTAP (usando os<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> drivers e<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> ). A NetApp recomenda o uso de CHAP bidirecional com Astra Trident para autenticação entre um host e o back-end de storage.</block>
  <block id="76ab201466ec43d71ec9051f8a556457" category="paragraph">Para backends ONTAP que usam os drivers de armazenamento SAN, o Astra Trident pode configurar CHAP bidirecional e gerenciar nomes de usuário e segredos do CHAP por meio<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>do . Veja <block ref="2e905590b15db776a189c7b5f90d9174" category="inline-link-macro-rx"></block> para entender como o Astra Trident configura o CHAP nos backends do ONTAP.</block>
  <block id="97f83fd51c89f4f9d3fc271b9f7291ab" category="admonition">O suporte CHAP para backends ONTAP está disponível com o Trident 20,04 e posterior.</block>
  <block id="d4e0ad8fd8e11d87eb431051692db344" category="section-title">Use a autenticação CHAP com backends NetApp HCI e SolidFire</block>
  <block id="b6a8ac29724d88dfaec657edda424d98" category="paragraph">O NetApp recomenda a implantação de CHAP bidirecional para garantir a autenticação entre um host e os backends NetApp HCI e SolidFire. O Astra Trident usa um objeto secreto que inclui duas senhas CHAP por locatário. Quando o Trident é instalado como um provisionador CSI, ele gerencia os segredos CHAP e os armazena em um<block ref="3ddc70b4b408f6dd5bbd5fe7d6008993" prefix=" " category="inline-code"></block> objeto CR para o respetivo PV. Quando você cria um PV, o CSI Astra Trident usa os segredos CHAP para iniciar uma sessão iSCSI e se comunicar com o sistema NetApp HCI e SolidFire através do CHAP.</block>
  <block id="19cde2e69238c98382d677e2583cbc46" category="admonition">Os volumes criados pelo CSI Trident não estão associados a nenhum Grupo de Acesso por volume.</block>
  <block id="3179d8563cd49690a141c34c045dfab8" category="paragraph">No frontend não-CSI, a vinculação de volumes como dispositivos nos nós de trabalho é tratada pelo Kubernetes. Após a criação de volume, o Astra Trident faz uma chamada de API para o sistema NetApp HCI/SolidFire para recuperar os segredos se o segredo para esse locatário ainda não existir. Em seguida, o Astra Trident passa os segredos para o Kubernetes. O kubelet localizado em cada nó acessa os segredos por meio da API do Kubernetes e os usa para executar/habilitar o CHAP entre cada nó acessando o volume e o sistema NetApp HCI/SolidFire onde os volumes estão localizados.</block>
  <block id="252ee40ccbd23adc008945e85af83513" category="section-title">Use o Astra Trident com NVE e NAE</block>
  <block id="c638f77e97a62d0d11f775816222d62a" category="inline-link-macro">Configurar a visão geral da encriptação de volume do NetApp</block>
  <block id="b65b10bf779c45e4940c255ecf83bdc3" category="paragraph">O NetApp ONTAP fornece criptografia de dados em repouso para proteger dados confidenciais caso um disco seja roubado, retornado ou reutilizado. Para obter detalhes, <block ref="e0b51490e5d435c82abc702d0a4ca15c" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="2f96099170687a6fc94d47d5c9e1db78" category="list-text">Se o NAE estiver ativado no back-end, qualquer volume provisionado no Astra Trident será habilitado para NAE.</block>
  <block id="f2e4034ee02b84093370b28f55809870" category="list-text">Se o NAE não estiver habilitado no back-end, qualquer volume provisionado no Astra Trident será habilitado para NVE, a menos que você defina o sinalizador de criptografia NVE como<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> na configuração de back-end.</block>
  <block id="82d9a35a126449139766a969834999ca" category="paragraph">Os volumes criados no Astra Trident em um back-end habilitado para NAE devem ser criptografados com NVE ou NAE.</block>
  <block id="1bb1c0791a9e9cff8de216ed44b1de31" category="list-text">Você pode definir o sinalizador de criptografia NVE como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> na configuração de back-end do Trident para substituir a criptografia NAE e usar uma chave de criptografia específica por volume.</block>
  <block id="c376f853ae2704beeb8bbb6836ada303" category="list-text">Definir o sinalizador de criptografia NVE como<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> em um back-end habilitado para NAE criará um volume habilitado para NAE. Não é possível desativar a criptografia NAE definindo o sinalizador de criptografia NVE como<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>.</block>
  <block id="5991606c4d185f50bd7f678053004989" category="list-text">Você pode criar manualmente um volume NVE no Astra Trident definindo explicitamente o sinalizador de criptografia NVE como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>.</block>
  <block id="b6c7fef7b7bcf035a4f4ad02ff8808c2" category="paragraph">Para obter mais informações sobre opções de configuração de back-end, consulte:</block>
  <block id="e87ded5ef8bc8adbc3c135528636f4f2" category="list-text"><block ref="e87ded5ef8bc8adbc3c135528636f4f2" category="inline-link-macro-rx"></block></block>
  <block id="676ad90ce2543d29917d8a5a6fc02e01" category="inline-link-macro">Opções de configuração do ONTAP nas</block>
  <block id="fce586d9f649fb529d0a1846495ba259" category="list-text"><block ref="fce586d9f649fb529d0a1846495ba259" category="inline-link-macro-rx"></block></block>
  <block id="6e8775bd755a8835ce86806d669677ea" category="doc">Configuração de armazenamento</block>
  <block id="ecd7650a65b79124ad23fb7eed8faa7e" category="paragraph">Cada plataforma de storage do portfólio do NetApp tem funcionalidades exclusivas que beneficiam aplicações, em contêineres ou não.</block>
  <block id="e6dc22cf3c59dda6e09524b2b133f336" category="section-title">Visão geral da plataforma</block>
  <block id="050fb8b0306d7532dbf8c15b8cba9745" category="paragraph">O Trident funciona com ONTAP e Element. Não há uma plataforma que seja mais adequada para todos os aplicativos e cenários do que outra, no entanto, as necessidades do aplicativo e da equipe que administra o dispositivo devem ser levadas em conta ao escolher uma plataforma.</block>
  <block id="ac5112696fd64ee051846c666ebebebe" category="paragraph">Você deve seguir as práticas recomendadas de linha de base para o sistema operacional host com o protocolo que você está utilizando. Opcionalmente, você pode considerar a incorporação de práticas recomendadas de aplicativos, quando disponíveis, com configurações de backend, classe de armazenamento e PVC para otimizar o armazenamento para aplicativos específicos.</block>
  <block id="efc9d085ca2f3a152c786357e9359c03" category="section-title">Práticas recomendadas de ONTAP e Cloud Volumes ONTAP</block>
  <block id="a3f99d5d44515cf922e6b525de736173" category="paragraph">Conheça as práticas recomendadas para configurar o ONTAP e o Cloud Volumes ONTAP for Trident.</block>
  <block id="76d50c7d0f100e6264e0d57727d099f1" category="paragraph">As recomendações a seguir são diretrizes para configuração do ONTAP para workloads em contêineres, que consomem volumes provisionados dinamicamente pelo Trident. Cada um deve ser considerado e avaliado quanto à adequação em seu ambiente.</block>
  <block id="3fb21976d2729216782dd61ffed84a54" category="section-title">Use SVM(s) dedicados ao Trident</block>
  <block id="fa4e21d3612a3f737c7a4ac7ebf24950" category="paragraph">As máquinas virtuais de storage (SVMs) fornecem isolamento e separação administrativa entre locatários em um sistema ONTAP. A dedicação de um SVM a aplicações permite a delegação do Privileges e permite aplicar práticas recomendadas para limitar o consumo de recursos.</block>
  <block id="3dc5510a67688b81f0d6d0db440da909" category="paragraph">Há várias opções disponíveis para o gerenciamento do SVM:</block>
  <block id="fe425a9419fa4d05d42131c26306e4f1" category="list-text">Fornecer a interface de gerenciamento de cluster na configuração de back-end, juntamente com as credenciais apropriadas, e especificar o nome da SVM.</block>
  <block id="e2160df70bcda0ee43cb3c66dc22c719" category="list-text">Crie uma interface de gerenciamento dedicada ao SVM com o Gerenciador de sistemas do ONTAP ou a CLI.</block>
  <block id="2bf2fa2c1c3a6e10095db72759cc9983" category="list-text">Compartilhe a função de gerenciamento com uma interface de dados NFS.</block>
  <block id="5cf4c2e89b362842d77f4e4209c4ef99" category="paragraph">Em cada caso, a interface deve estar em DNS, e o nome DNS deve ser usado ao configurar o Trident. Isso ajuda a facilitar alguns cenários de DR, por exemplo, SVM-DR sem o uso de retenção de identidade de rede.</block>
  <block id="6a392b5e005fffe32231c94dc96a1605" category="inline-link">SVM-DR</block>
  <block id="2b4a6ee2db063653d6076884295a3854" category="paragraph">No entanto, não há preferência entre ter um LIF de gerenciamento dedicado ou compartilhado para o SVM, você deve garantir que suas políticas de segurança de rede estejam alinhadas com a abordagem escolhida. Independentemente disso, o LIF de gerenciamento deve ser acessível via DNS para facilitar a máxima flexibilidade deve<block ref="f5e9502989ce78934689806ebb69606a" category="inline-link-rx"></block> ser usado em conjunto com o Trident.</block>
  <block id="4a0ee008d3379206a925ade3a9e707dd" category="section-title">Limite a contagem máxima de volume</block>
  <block id="e5e09031843479ef9ef8cbbd4c2f404c" category="inline-link">NetApp Hardware Universe</block>
  <block id="400a5d259a812effb5b7df506bf020ef" category="paragraph">Os sistemas de storage ONTAP têm uma contagem de volume máxima, que varia de acordo com a versão do software e a plataforma de hardware. <block ref="bb9c67b5a4c15a85b5e6aa6c9afd0285" category="inline-link-rx"></block>Consulte para obter a sua plataforma específica e a versão do ONTAP para determinar os limites exatos. Quando a contagem de volume está esgotada, as operações de provisionamento falham não apenas para o Trident, mas para todas as solicitações de storage.</block>
  <block id="39da19b7dd55941b6cdabf34befc0b4c" category="paragraph">Os Trident<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> e<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> os drivers provisionam um Flexvolume para cada volume persistente (PV) do Kubernetes criado. O<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> driver cria aproximadamente um Flexvolume para cada 200 PVS (configurável entre 50 e 300). O<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> driver cria aproximadamente um Flexvolume para cada 100 PVS (configurável entre 50 e 200). Para evitar que o Trident consuma todos os volumes disponíveis no sistema de storage, defina um limite para o SVM. Você pode fazer isso a partir da linha de comando:</block>
  <block id="f36680e3d3cb96c74d2f1a54c3c4a0fa" category="paragraph">O valor para<block ref="1829fafb02997aa2b4d309a69b7cdbfa" prefix=" " category="inline-code"></block> varia com base em vários critérios específicos para o seu ambiente:</block>
  <block id="5f6d1abb6889904ee0375b2fc6c8f078" category="list-text">O número de volumes existentes no cluster do ONTAP</block>
  <block id="029383c13d9ad2c5ba18a16f8fbe2002" category="list-text">O número de volumes que você espera provisionar fora do Trident para outras aplicações</block>
  <block id="02f4ac473b944a63551d51d727b5bb49" category="list-text">O número de volumes persistentes esperado para ser consumido pelas aplicações Kubernetes</block>
  <block id="1d3555f20ac0a2897a1596631b5fb27a" category="paragraph">O<block ref="1829fafb02997aa2b4d309a69b7cdbfa" prefix=" " category="inline-code"></block> valor é o total de volumes provisionados em todos os nós do cluster ONTAP e não em um nó ONTAP individual. Como resultado, você pode encontrar algumas condições em que um nó de cluster do ONTAP pode ter muito mais ou menos volumes provisionados pelo Trident do que outro nó.</block>
  <block id="46710fe77f663864a23e02a880a9ae53" category="inline-link">agregados</block>
  <block id="8eb27359ed8f69eb07c318fcd224ba66" category="paragraph">Por exemplo, um cluster ONTAP de dois nós tem a capacidade de hospedar um máximo de 2000 volumes flexíveis. Ter a contagem de volume máxima definida para 1250 parece muito razoável. No entanto, se apenas<block ref="acf6cbef6ee0ef07ee3fe13269233be8" category="inline-link-rx"></block> de um nó forem atribuídos à SVM, ou se os agregados atribuídos de um nó não puderem ser provisionados (por exemplo, devido à capacidade), o outro nó se tornará o destino de todos os volumes provisionados pelo Trident. Isso significa que o limite de volume pode ser alcançado para esse nó antes que o<block ref="1829fafb02997aa2b4d309a69b7cdbfa" prefix=" " category="inline-code"></block> valor seja atingido, resultando em impacto no Trident e em outras operações de volume que usam esse nó. *Você pode evitar essa situação garantindo que os agregados de cada nó no cluster sejam atribuídos ao SVM usado pelo Trident em números iguais.*</block>
  <block id="7ef3217c984ef7f973d389e434be312c" category="section-title">Limite o tamanho máximo de volumes criados pelo Trident</block>
  <block id="031b203330c3abb94f6fa406ff721de4" category="paragraph">Para configurar o tamanho máximo para volumes que podem ser criados pelo Trident, use o<block ref="e083f2ed1275af0ce4336a068ebee72a" prefix=" " category="inline-code"></block> parâmetro em<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> sua definição.</block>
  <block id="1c19414de17c9992b25b0a1b02a52715" category="paragraph">Além de controlar o tamanho do volume no storage array, você também deve utilizar os recursos do Kubernetes.</block>
  <block id="85c0f9773e01224a56713ea4e6d83b86" category="section-title">Configure o Trident para usar o CHAP bidirecional</block>
  <block id="8b7c80a4394c7e64aa891100d57a755f" category="paragraph">Você pode especificar o iniciador CHAP e os nomes de usuário e senhas de destino em sua definição de back-end e ter o Trident Enable CHAP no SVM. Usando o<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> parâmetro em sua configuração de back-end, o Trident autentica conexões iSCSI para backends ONTAP com CHAP. O suporte CHAP bidirecional está disponível com o Trident 20,04 e superior.</block>
  <block id="2596e59ce5cd0d1b0066656f191365d0" category="section-title">Criar e usar uma política de QoS SVM</block>
  <block id="560417d4f795b7e1176a40db8e4ccca8" category="inline-link">evite um bully</block>
  <block id="4870168b0713fe3089cf587858fc3b40" category="paragraph">A utilização de uma política de QoS ONTAP aplicada à SVM limita o número de consumíveis de IOPS pelos volumes provisionados pelo Trident. Isso ajuda<block ref="1b59d76842e8b78d6111d3e73e9cd404" category="inline-link-rx"></block> a evitar que o volume fora de controle afete workloads fora do SVM do Trident.</block>
  <block id="d6ab867679686745d96bea839929a6de" category="paragraph">Você pode criar uma política de QoS para o SVM em algumas etapas. Consulte a documentação da sua versão do ONTAP para obter as informações mais precisas. O exemplo abaixo cria uma política de QoS que limita o total de IOPS disponível para o SVM a 5000.</block>
  <block id="c790de304b7ca0097f2133cf9da4e657" category="paragraph">Além disso, se a sua versão do ONTAP for compatível com ela, considere o uso de um mínimo de QoS para garantir uma taxa de transferência para workloads em contêineres. A QoS adaptável não é compatível com uma política de nível SVM.</block>
  <block id="38c0b69f6b2ee691e1ba568134513414" category="paragraph">O número de IOPS dedicado aos workloads em contêineres depende de muitos aspectos. Entre outras coisas, estas incluem:</block>
  <block id="ddbd18591c9b7378c6187dbd9179e1f0" category="list-text">Outros workloads que usam o storage array. Se houver outras cargas de trabalho, não relacionadas à implantação do Kubernetes, utilizando os recursos de storage, deve-se tomar cuidado para garantir que essas cargas de trabalho não sejam acidentalmente afetadas.</block>
  <block id="5da5727b396cee5b024364d989fe253b" category="list-text">Workloads esperados em execução em contêineres. Se os workloads com requisitos de IOPS altos forem executados em contêineres, uma política de QoS baixa resulta em uma experiência ruim.</block>
  <block id="e6f229b5d5d2421c4306920759828212" category="paragraph">É importante lembrar que uma política de QoS atribuída no nível SVM resulta em todos os volumes provisionados ao SVM que compartilham o mesmo pool de IOPS. Se uma, ou um número pequeno, das aplicações em contêiner tiverem um requisito de IOPS alto, isso pode se tornar um bully para os outros workloads em contêiner. Se esse for o caso, você pode considerar o uso de automação externa para atribuir políticas de QoS por volume.</block>
  <block id="ac2167b1e02d575eb6ddfe4e58f5cdcf" category="admonition">Você deve atribuir o grupo de políticas de QoS ao SVM *somente* se a versão do ONTAP for anterior a 9,8.</block>
  <block id="9992cae6c17055c750a849c5f6135eb2" category="section-title">Criar grupos de política de QoS para Trident</block>
  <block id="76a3e54f72b3a7224429f111e58f836c" category="inline-link">Garantir taxa de transferência com QoS</block>
  <block id="edb2313b52b4c42008f0531bd6a05e49" category="paragraph">A qualidade do serviço (QoS) garante que a performance de workloads essenciais não é degradada pelos workloads da concorrência. Os grupos de política de QoS do ONTAP fornecem opções de QoS para volumes e permitem que os usuários definam o limite máximo de taxa de transferência para um ou mais workloads. Para obter mais informações sobre QoS,<block ref="721a1778a2025ec5868484b3888c0186" category="inline-link-rx"></block> consulte . É possível especificar grupos de políticas de QoS no back-end ou em um pool de storage, e eles são aplicados a cada volume criado nesse pool ou back-end.</block>
  <block id="0394fb1288eac4cd3d40bcd991e079e9" category="paragraph">O ONTAP tem dois tipos de grupos de política de QoS: Tradicional e adaptável. Os grupos de políticas tradicionais fornecem uma taxa de transferência máxima fixa (ou mínima, em versões posteriores) em IOPS. O serviço adaptável dimensiona automaticamente a taxa de transferência para o tamanho do workload, mantendo a taxa de IOPS para TBs|GBs conforme o tamanho do workload muda. Isso proporciona uma vantagem significativa ao gerenciar centenas ou milhares de workloads em uma implantação grande.</block>
  <block id="f5acc65a21daed9bb8e91cb5cdd0ae52" category="paragraph">Considere o seguinte ao criar grupos de política de QoS:</block>
  <block id="6d5fcf300cd9e9239c26ce37b0919fca" category="list-text">Você deve definir a<block ref="36c38058d66835923c982c773a817f0b" prefix=" " category="inline-code"></block> chave no<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> bloco da configuração de back-end. Veja o seguinte exemplo de configuração de back-end:</block>
  <block id="32160c2368452bf7d86bcffae7f142be" category="list-text">Você deve aplicar os grupos de políticas por volume, para que cada volume obtenha toda a taxa de transferência, conforme especificado pelo grupo de políticas. Grupos de políticas compartilhadas não são suportados.</block>
  <block id="b2365e059850d5e32885189655bf469c" category="inline-link">Comandos de QoS ONTAP 9.8</block>
  <block id="23225608cf33a6c6a4aec9126514b0e1" category="paragraph">Para obter mais informações sobre grupos de políticas de QoS,<block ref="40468e984a92fba9003857701268163a" category="inline-link-rx"></block> consulte .</block>
  <block id="d5d2a5bc92eea85a4dd11a642ed8a170" category="section-title">Limitar o acesso a recursos de storage aos membros do cluster do Kubernetes</block>
  <block id="0f2b74d1b972675eb3d4efe7d8c3ed16" category="paragraph">Limitar o acesso aos volumes NFS e iSCSI LUNs criados pelo Trident é um componente essencial da postura de segurança para a implantação do Kubernetes. Isso impede que os hosts que não fazem parte do cluster do Kubernetes acessem os volumes e potencialmente modifiquem os dados inesperadamente.</block>
  <block id="9602ec8691c1a564016f9fd8086139f1" category="paragraph">É importante entender que os namespaces são o limite lógico dos recursos no Kubernetes. A suposição é que os recursos no mesmo namespace são capazes de ser compartilhados, no entanto, é importante, não há capacidade entre namespace. Isso significa que, embora os PVS sejam objetos globais, quando vinculados a um PVC, eles só são acessíveis por pods que estão no mesmo namespace. *É fundamental garantir que os namespaces sejam usados para fornecer separação quando apropriado.*</block>
  <block id="1162be0546226cff2cbd973cd2140d33" category="paragraph">A principal preocupação da maioria das organizações com relação à segurança de dados em um contexto do Kubernetes é que um processo em um contêiner pode acessar o storage montado no host, mas que não se destina ao contêiner. <block ref="962cfea7b49ca7b2d398d891b4313cb5" category="inline-link-rx"></block> foram concebidos para evitar este tipo de compromisso. No entanto, há uma exceção: Contentores privilegiados.</block>
  <block id="7b10e929cc2e0061dfb50042a0203c79" category="inline-link">diretivas de segurança do pod</block>
  <block id="76db1afb772160283f7f86cdd67c35f8" category="paragraph">Um contentor privilegiado é aquele que é executado com permissões substancialmente mais no nível do host do que o normal. Estes não são negados por padrão, portanto, certifique-se de desativar a capacidade<block ref="e5ab4ede40a4a6a5f5684247585b5fb0" category="inline-link-rx"></block> usando o .</block>
  <block id="5fabba1d91abcfb09b6049897727e91c" category="paragraph">Para volumes em que o acesso é desejado tanto do Kubernetes quanto de hosts externos, o storage deve ser gerenciado de maneira tradicional, com o PV introduzido pelo administrador e não gerenciado pelo Trident. Isso garante que o volume de storage seja destruído somente quando o Kubernetes e os hosts externos forem desconetados e não estiverem mais usando o volume. Além disso, é possível aplicar uma política de exportação personalizada, que permite o acesso dos nós de cluster do Kubernetes e dos servidores direcionados fora do cluster do Kubernetes.</block>
  <block id="8a6112da5167fe6f44136715f1d86c36" category="paragraph">Para implantações com nós de infraestrutura dedicados (por exemplo, OpenShift) ou outros nós que não conseguem programar aplicativos de usuário, políticas de exportação separadas devem ser usadas para limitar ainda mais o acesso aos recursos de storage. Isso inclui a criação de uma política de exportação para serviços que são implantados nesses nós de infraestrutura (por exemplo, os serviços de métricas e Registro OpenShift) e aplicativos padrão que são implantados em nós que não são de infraestrutura.</block>
  <block id="e38f5be5ff6a8a362870a032acdf5d2f" category="section-title">Use uma política de exportação dedicada</block>
  <block id="2f05855ad489343ae535c8f17eaa6f34" category="paragraph">Você deve garantir que existe uma política de exportação para cada back-end que permita somente o acesso aos nós presentes no cluster do Kubernetes. O Trident pode criar e gerenciar automaticamente políticas de exportação a partir da versão 20,04. Dessa forma, o Trident limita o acesso aos volumes provisionados por TI aos nós no cluster do Kubernetes e simplifica a adição/exclusão de nós.</block>
  <block id="28af9e32119f59018dd5d887ad93ccd4" category="paragraph">Como alternativa, você também pode criar uma política de exportação manualmente e preenchê-la com uma ou mais regras de exportação que processam cada solicitação de acesso de nó:</block>
  <block id="4ae1e64986504dce6897746ebc9d2786" category="list-text">Use o<block ref="7d47f98e53b93d7fb8a050185d494363" prefix=" " category="inline-code"></block> comando ONTAP CLI para criar a política de exportação.</block>
  <block id="cd0a9fca1fb3ba0fcdd98d0e87cb78a9" category="list-text">Adicione regras à política de exportação usando o<block ref="729c5e15acc8b31618fe3265de1c624b" prefix=" " category="inline-code"></block> comando ONTAP CLI.</block>
  <block id="bc3a2f6421da1e870583cfb0b9cf4a91" category="paragraph">Executar esses comandos permite restringir quais nós do Kubernetes têm acesso aos dados.</block>
  <block id="74257eabdceb63f8522f7c68b103da3a" category="section-title"><block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block>Desativar o SVM da aplicação</block>
  <block id="613655fb3db9bdbe0f795ee9424fc1fe" category="paragraph">O<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block> recurso permite que um cliente NFS consulte o SVM para obter uma lista de exportações de NFS disponíveis. Um pod implantado no cluster do Kubernetes pode emitir o<block ref="55fb64f15dd3d0c53de3a4d095218569" prefix=" " category="inline-code"></block> comando contra o LIF de dados e receber uma lista de montagens disponíveis, incluindo aquelas às quais ele não tem acesso. Embora isso, por si só, não seja um compromisso de segurança, ele fornece informações desnecessárias potencialmente ajudando um usuário não autorizado a se conetar a uma exportação NFS.</block>
  <block id="08f1d9a2f49f56965b640bc15796cd61" category="paragraph">Você deve desativar<block ref="d51321f13693d09d4a9cbb2758b42d12" prefix=" " category="inline-code"></block> usando o comando ONTAP CLI no nível da SVM:</block>
  <block id="648e0e1a6a98e76bdfe9780c42dacb6b" category="section-title">Práticas recomendadas da SolidFire</block>
  <block id="89f93e411a40f5c6365a4703e004f15b" category="paragraph">Conheça as práticas recomendadas para configurar o armazenamento SolidFire para Trident.</block>
  <block id="52f311b56fcd9d4fb074918af9b7c7f9" category="section-title">Crie uma conta SolidFire</block>
  <block id="b0dd2707e9f12b5e1fda314748ffa386" category="paragraph">Cada conta do SolidFire representa um proprietário de volume exclusivo e recebe seu próprio conjunto de credenciais do Protocolo de Autenticação de desafio-aperto (CHAP). Você pode acessar volumes atribuídos a uma conta usando o nome da conta e as credenciais CHAP relativas ou por meio de um grupo de acesso de volume. Uma conta pode ter até dois mil volumes atribuídos a ela, mas um volume pode pertencer a apenas uma conta.</block>
  <block id="eaf4b71058f7db58997dfe694c62a96a" category="section-title">Crie uma política de QoS</block>
  <block id="fd640dfd679c3a7e40aa99c3e08c8294" category="paragraph">Use as políticas de qualidade do serviço (QoS) do SolidFire se quiser criar e salvar uma configuração padronizada de qualidade do serviço que pode ser aplicada a muitos volumes.</block>
  <block id="41be5238fc563c2aac0a0e6ee4cf6e96" category="paragraph">Você pode definir parâmetros de QoS em uma base por volume. O desempenho de cada volume pode ser garantido definindo três parâmetros configuráveis que definem a QoS: Min IOPS, Max IOPS e Burst IOPS.</block>
  <block id="48e4bd34fd7a9e1233ea82bc818a3161" category="paragraph">Aqui estão os possíveis valores de IOPS mínimo, máximo e de pico sazonal para o tamanho de bloco 4Kb.</block>
  <block id="8e4988a1e5f387efce6f20e4f25a8e40" category="cell">Parâmetro IOPS</block>
  <block id="0b890b1926b90387673882e6ccae7fdc" category="cell">Definição</block>
  <block id="96a22bf638896c990d26e043087fb6b0" category="cell">Valor mín</block>
  <block id="31ce3cdcd67850870b616f75b555bbc5" category="cell">Valor padrão</block>
  <block id="c9fb55be94277b8390352c215f32d44c" category="cell">Valor máximo (4Kb)</block>
  <block id="b05f9ccd772b396ac1f5a05345a9d4f8" category="paragraph">IOPS mín</block>
  <block id="2b30c179facf62f8a2bdbd1b09b37b96" category="paragraph">O nível garantido de desempenho para um volume.</block>
  <block id="c0c7c76d30bd3dcaefc96f40275bdc0a" category="cell">50</block>
  <block id="3f74a886c7f841699690962c497d4f30" category="paragraph">15000</block>
  <block id="4f5a6f8b41826526724ba294b8e056bd" category="paragraph">IOPS máx</block>
  <block id="4e41c5ccaf1affa697729ea4d1e88554" category="paragraph">O desempenho não excederá este limite.</block>
  <block id="e05695d29cb4a9339534e5a9c273fa14" category="paragraph">200.000</block>
  <block id="affd4aba1c5f696e972368c9eb698c65" category="paragraph">IOPS de explosão</block>
  <block id="2734923c054f38d8ca66133414af4469" category="paragraph">Máximo de IOPS permitido em um cenário de pico curto.</block>
  <block id="e2eb05f1ef7720127ac371ceddc6f433" category="admonition">Embora o IOPS máximo e o IOPS Burst possam ser definidos até 200.000 K, o desempenho máximo real de um volume é limitado pelo uso do cluster e pelo desempenho por nó.</block>
  <block id="fa9b1a3006e0ba9ad904c059c0b9add6" category="inline-link">SolidFire qualidade do serviço</block>
  <block id="7363485d4653963c22d3ed43afd0003a" category="paragraph">O tamanho do bloco e a largura de banda têm uma influência direta no número de IOPS. À medida que os tamanhos de blocos aumentam, o sistema aumenta a largura de banda para um nível necessário para processar os tamanhos de blocos maiores. À medida que a largura de banda aumenta, o número de IOPS que o sistema consegue atingir diminui. Consulte<block ref="c8976c50ed9f016849fdce232777cd31" category="inline-link-rx"></block> para obter mais informações sobre QoS e desempenho.</block>
  <block id="b4657825f74ed622384dddf3a1d7d3b7" category="section-title">Autenticação SolidFire</block>
  <block id="9d3b5ff1cde828a63203f0465a34a967" category="paragraph">O Element suporta dois métodos de autenticação: CHAP e volume Access Groups (VAG). O CHAP usa o protocolo CHAP para autenticar o host no back-end. Os grupos de acesso de volume controlam o acesso aos volumes que ele provisiona. O NetApp recomenda usar o CHAP para autenticação, pois é mais simples e não tem limites de escala.</block>
  <block id="fc9e812321a3f9b0eab1b702a08bab4e" category="admonition">O Trident com o provisionador de CSI aprimorado suporta o uso da autenticação CHAP. Os VAG só devem ser utilizados no modo de funcionamento tradicional não CSI.</block>
  <block id="d23eaa75b7bd1405526da0e18b7290ac" category="paragraph">A autenticação CHAP (verificação de que o iniciador é o usuário de volume pretendido) é suportada apenas com controle de acesso baseado em conta. Se você estiver usando CHAP para autenticação, duas opções estão disponíveis: CHAP unidirecional e CHAP bidirecional. O CHAP unidirecional autentica o acesso ao volume usando o nome da conta do SolidFire e o segredo do iniciador. A opção CHAP bidirecional fornece a maneira mais segura de autenticar o volume porque o volume autentica o host através do nome da conta e do segredo do iniciador e, em seguida, o host autentica o volume através do nome da conta e do segredo de destino.</block>
  <block id="42d135bea104c1079cebd1543c89e970" category="paragraph">No entanto, se o CHAP não puder ser ativado e os VAG forem necessários, crie o grupo de acesso e adicione os iniciadores e volumes do host ao grupo de acesso. Cada IQN que você adicionar a um grupo de acesso pode acessar cada volume no grupo com ou sem autenticação CHAP. Se o iniciador iSCSI estiver configurado para usar autenticação CHAP, o controle de acesso baseado em conta será usado. Se o iniciador iSCSI não estiver configurado para usar a autenticação CHAP, o controle de acesso ao grupo de acesso de volume será usado.</block>
  <block id="b4931a42b69dbf4e721e7b97873b1ebb" category="section-title">Onde encontrar mais informações?</block>
  <block id="2c3a4d5c923121574c10ea22c0474a01" category="inline-link">Biblioteca NetApp</block>
  <block id="65840df7365892d2abe1280cb6cdb1d2" category="paragraph">Alguns dos documentos de melhores práticas estão listados abaixo. PESQUISE na<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block> para as versões mais atuais.</block>
  <block id="d911b17f4f4cdcca62a04ad77aa9403d" category="paragraph">*ONTAP*</block>
  <block id="f9dd52d280693dc59e53b6e1fb7bd801" category="inline-link">Guia de práticas recomendadas e implementação de NFS</block>
  <block id="190dbae19c88b1e68bf03f7783c5d5d1" category="list-text"><block ref="190dbae19c88b1e68bf03f7783c5d5d1" category="inline-link-rx"></block></block>
  <block id="a76193f5d9397d9c49ca283a20ccf649" category="inline-link">Guia de administração DE SAN</block>
  <block id="5bc9b097037d45aff954bf9bd632d4a4" category="list-text"><block ref="c745f55eb0c9991966e63f0608541bb1" category="inline-link-rx"></block> (Para iSCSI)</block>
  <block id="5ca34d6ffc2a555b689542e3fbeeb7af" category="inline-link">Configuração iSCSI Express para RHEL</block>
  <block id="36588ac65dcdb9b93916fb0ab708edb3" category="list-text"><block ref="36588ac65dcdb9b93916fb0ab708edb3" category="inline-link-rx"></block></block>
  <block id="ca7ab5ec4cba84fbef55956bb38759ce" category="paragraph">*Software Element*</block>
  <block id="e809d9f88c2933195c4d2ab379c1b5dc" category="inline-link">Configurando o SolidFire para Linux</block>
  <block id="ce0470e08aa854a8f93fa119434e8422" category="list-text"><block ref="ce0470e08aa854a8f93fa119434e8422" category="inline-link-rx"></block></block>
  <block id="d64280eb12d42bb67976ffba6d268e7b" category="paragraph">*NetApp HCI*</block>
  <block id="3bc72bedcc42d144356d4f933c48485d" category="inline-link">Pré-requisitos de implantação do NetApp HCI</block>
  <block id="85bfffc1a1f7aaabd6cf58841640c308" category="list-text"><block ref="85bfffc1a1f7aaabd6cf58841640c308" category="inline-link-rx"></block></block>
  <block id="b52e411998b7d3a95ad5bd8a320bf271" category="inline-link">Acesse o mecanismo de implantação do NetApp</block>
  <block id="9d0da73b02655dd7861121905db229e2" category="list-text"><block ref="9d0da73b02655dd7861121905db229e2" category="inline-link-rx"></block></block>
  <block id="9aaca8cfd79770bc4944ccc477e37141" category="paragraph">*Informações sobre as melhores práticas de aplicação*</block>
  <block id="27a5e02bc2fadee43ace94805739a0c8" category="inline-link">Melhores práticas para MySQL no ONTAP</block>
  <block id="430c6bcb8516befc45fb8173b0ca4e1f" category="list-text"><block ref="430c6bcb8516befc45fb8173b0ca4e1f" category="inline-link-rx"></block></block>
  <block id="17efdd7d210511985714be299d595292" category="inline-link">Melhores práticas para MySQL no SolidFire</block>
  <block id="d03b53d8ec563c37e16ee8c900a75b96" category="list-text"><block ref="d03b53d8ec563c37e16ee8c900a75b96" category="inline-link-rx"></block></block>
  <block id="3aefe1a041af945f1fe8673bf775057b" category="inline-link">NetApp SolidFire e Cassandra</block>
  <block id="d7d36869f2f4aa1eb99a10008e153f20" category="list-text"><block ref="d7d36869f2f4aa1eb99a10008e153f20" category="inline-link-rx"></block></block>
  <block id="6e580111d3a8c12cdcd9522a4d3484c6" category="inline-link">Práticas recomendadas da Oracle no SolidFire</block>
  <block id="f8b52d963f246a75dc6c8b78c954a4fd" category="list-text"><block ref="f8b52d963f246a75dc6c8b78c954a4fd" category="inline-link-rx"></block></block>
  <block id="6448cf37496207be126495e5b05851de" category="inline-link">Melhores práticas do PostgreSQL no SolidFire</block>
  <block id="b6780b7b2561935ff862fe7126cde751" category="list-text"><block ref="b6780b7b2561935ff862fe7126cde751" category="inline-link-rx"></block></block>
  <block id="b062996d6ca590abe798d3db75561f79" category="paragraph">Nem todos os aplicativos têm diretrizes específicas, é importante trabalhar com sua equipe do NetApp e usar o<block ref="4caccef7312f2c398bfbb419629c1a78" category="inline-link-rx"></block> para encontrar a documentação mais atualizada.</block>
  <block id="5ee08ab883e000ce6b739dbb0b6ff376" category="summary">Saiba mais sobre as partes do sistema Kubernetes.</block>
  <block id="607ae6360b32f1bd6e559e915d414fab" category="doc">Conceitos do Kubernetes</block>
  <block id="d60f0fff1c23a02458849862f593357e" category="inline-link">Sistema Kubernetes</block>
  <block id="a7018a5fd7b610274c7786aa5402e64d" category="paragraph">Saiba mais sobre as partes do<block ref="f01a74527fa0343e793eb393c9d4809a" category="inline-link-rx"></block>.</block>
  <block id="a1582c89f8e85f372306a05848eafb68" category="summary">O portfólio de produtos de storage do NetApp se integra a muitos aspectos diferentes de um cluster Kubernetes, fornecendo recursos avançados de gerenciamento de dados que melhoram o recurso, a funcionalidade, a performance e a disponibilidade da implantação do Kubernetes.</block>
  <block id="9944b094c4079f770fabc4ae629feb0f" category="doc">Produtos da NetApp integrados ao Kubernetes</block>
  <block id="3cce5f3eaf76e098ba8e28f7bbba3f92" category="section-title">Astra</block>
  <block id="293b14f82e58fc3efc27bf18185a38c8" category="paragraph"><block ref="35a6b548833df39b8bbc748563b1938b" category="inline-link-rx"></block> Facilita o gerenciamento, a proteção e a migração de workloads em contêineres com muitos dados executados no Kubernetes dentro e entre nuvens públicas e no local. O Astra provisiona e fornece storage de contêiner persistente usando o Trident do portfólio de storage comprovado e expansivo da NetApp, na nuvem pública e no local. Ele também oferece um conjunto avançado de recursos avançados de gerenciamento de dados com reconhecimento de aplicações, como snapshot, backup e restauração, logs de atividade e clonagem ativa para proteção de dados, recuperação de desastres/dados, auditoria de dados e casos de uso de migração para workloads Kubernetes.</block>
  <block id="253b40ae359ba25b56231803430c4873" category="section-title">ONTAP</block>
  <block id="51fd2fc669e51c6870f1148623240f69" category="paragraph">O ONTAP é o sistema operacional de storage unificado multiprotocolo da NetApp que oferece recursos avançados de gerenciamento de dados para qualquer aplicação. Os sistemas ONTAP têm configurações all-flash, híbridas ou totalmente HDD e oferecem muitos modelos de implantação diferentes, incluindo hardware projetado (FAS e AFF), white-box (ONTAP Select) e somente para nuvem (Cloud Volumes ONTAP).</block>
  <block id="cbb7697b4f6f189240d043ff70ca133c" category="admonition">O Trident oferece suporte a todos os modelos de implantação do ONTAP mencionados acima.</block>
  <block id="5c04ffbd0c110bf7b37d6b95eb756b75" category="paragraph"><block ref="700b45b9fca207b66f675c8d5dfb073b" category="inline-link-rx"></block> É um dispositivo de storage somente de software que executa o software de gerenciamento de dados ONTAP na nuvem. Use o Cloud Volumes ONTAP para workloads de produção, recuperação de desastres, DevOps, compartilhamentos de arquivos e gerenciamento de banco de dados. Ele amplia o storage empresarial para a nuvem oferecendo eficiência de storage, alta disponibilidade, replicação de dados, disposição em categorias e consistência de aplicações.</block>
  <block id="04452ff4732608f62e53d20e4b8f4c92" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block> É um serviço AWS totalmente gerenciado que permite que os clientes iniciem e executem sistemas de arquivos equipados com o sistema operacional de storage ONTAP da NetApp. O FSX para ONTAP permite que os clientes aproveitem os recursos, o desempenho e os recursos administrativos do NetApp com os quais já conhecem, enquanto aproveitam a simplicidade, a agilidade, a segurança e a escalabilidade do armazenamento de dados na AWS. O FSX para ONTAP suporta muitos dos recursos do sistema de arquivos e APIs de administração do ONTAP.</block>
  <block id="27bb76bfb1e4f9966c31f5042348cd1e" category="section-title">Software Element</block>
  <block id="231afe47f3f37d3808096b36c28b4ded" category="inline-link">Elemento</block>
  <block id="1fdf61a8f946268990d8e15dd9069a6d" category="paragraph"><block ref="eca39b018af81e7b5c8e71b5b4aa3790" category="inline-link-rx"></block> permite que o administrador de storage consolide workloads garantindo a performance e possibilitando um espaço físico do storage simplificado e otimizado. Acoplado a uma API que permite a automação de todos os aspectos do gerenciamento de storage, o Element permite que os administradores de storage façam mais com menos esforço.</block>
  <block id="08edd2123939d5309dced149763a50ee" category="section-title">NetApp HCI</block>
  <block id="25f221cc63a7e1fa55b05c29420a72a2" category="paragraph"><block ref="2841e7defe3939e68d83d007d1ad666b" category="inline-link-rx"></block> simplifica o gerenciamento e a escala do data center automatizando tarefas de rotina e permitindo que os administradores de infraestrutura se concentrem em funções mais importantes.</block>
  <block id="be17f8b9c728a6cb61cad5a2609b3888" category="paragraph">O NetApp HCI é totalmente suportado pelo Trident. O Trident pode provisionar e gerenciar dispositivos de storage para aplicações em contêiner diretamente na plataforma de storage subjacente da NetApp HCI.</block>
  <block id="29e7ab00082418141d470583a19c28d3" category="paragraph"><block ref="2384314bcd106c8062815b2ed789c4ad" category="inline-link-rx"></block> É um serviço de compartilhamento de arquivos do Azure de nível empresarial, desenvolvido pela NetApp. É possível executar os workloads mais exigentes baseados em arquivos no Azure de forma nativa, com a performance e o gerenciamento de rich data que você espera do NetApp.</block>
  <block id="b0cee72642f5457a71ddd0b49efb6d93" category="section-title">Cloud Volumes Service para Google Cloud</block>
  <block id="a3b5183ae6f5c3f1d6644448f795b5cb" category="inline-link">NetApp Cloud Volumes Service para Google Cloud</block>
  <block id="a1515efe69d0ac9d979af2bdfc068934" category="paragraph"><block ref="68704f3321dd8ca7029c03c29da7736a" category="inline-link-rx"></block> É um serviço de arquivos nativo da nuvem que fornece volumes nas em NFS e SMB com performance all-flash. Esse serviço permite que qualquer workload, incluindo aplicações legadas, seja executado na nuvem do GCP. Ele fornece um serviço totalmente gerenciado que oferece alta performance consistente, clonagem instantânea, proteção de dados e acesso seguro às instâncias do Google Compute Engine (GCE).</block>
  <block id="04333ff788951193122a833ecd614950" category="summary">Há vários objetos de recursos que ditam a relação entre o Kubernetes e o Trident, o Trident e o storage, o Kubernetes e o storage. Alguns desses objetos são gerenciados pelo Kubernetes e os outros são gerenciados pelo Trident.</block>
  <block id="da1e63dd673a1932cebb48b6a81bbbb1" category="doc">Objetos Kubernetes e Trident</block>
  <block id="d107eefb0ce66911b186b03b9e9c337e" category="paragraph">É possível interagir com o Kubernetes e o Trident usando APIs REST lendo e escrevendo objetos de recursos. Há vários objetos de recursos que ditam a relação entre o Kubernetes e o Trident, o Trident e o storage, o Kubernetes e o storage. Alguns desses objetos são gerenciados pelo Kubernetes e os outros são gerenciados pelo Trident.</block>
  <block id="62499e0de79c4d07c7915a36f9faa0d8" category="section-title">Como os objetos interagem uns com os outros?</block>
  <block id="b9ea565816618011ca591fc191fe5e63" category="paragraph">Talvez a maneira mais fácil de entender os objetos, para que eles são e como eles interagem seja seguir uma única solicitação de armazenamento de um usuário do Kubernetes:</block>
  <block id="ec7d6500a82a56ee8f5fff02eafa7af7" category="list-text">Um usuário cria<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> uma solicitação de um novo<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> de um tamanho específico de um Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> que foi configurado anteriormente pelo administrador.</block>
  <block id="6b25cc026b6f29464d3fce0f6ec67805" category="list-text">O Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> identifica o Trident como seu provisionador e inclui parâmetros que informam ao Trident como provisionar um volume para a classe solicitada.</block>
  <block id="5b078d6b19593ee6c55f428e2c85faa7" category="list-text">O Trident olha para si<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> mesmo com o mesmo nome que identifica a correspondência<block ref="b81146e6af95bf6e22cf57459890216f" prefix=" " category="inline-code"></block> e<block ref="a410a2a085f482e6dc04e225e54ee323" prefix=" " category="inline-code"></block> que pode usar para provisionar volumes para a classe.</block>
  <block id="ff099186f912c7abb21bcf68690c98d7" category="list-text">O Trident provisiona o storage em um back-end compatível e cria dois objetos: Um<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> no Kubernetes que diz ao Kubernetes como encontrar, montar e tratar o volume e um volume no Trident que mantém a relação entre o<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> e o storage real.</block>
  <block id="6d2ae40bc02e88464563ae42ae22d54c" category="list-text">O Kubernetes vincula<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> o ao novo<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>. Pods que incluem a<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> montagem que Persistentvolume em qualquer host em que ele seja executado.</block>
  <block id="490c1b0e3a604c81abb3db1b778ec07b" category="list-text">Um usuário cria um<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> de um PVC existente, usando um<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block> que aponta para Trident.</block>
  <block id="9f4e11d34d158ebd365226367c8b15d9" category="list-text">O Trident identifica o volume que está associado ao PVC e cria um snapshot do volume em seu back-end. Ele também cria um<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> que instrui o Kubernetes sobre como identificar o snapshot.</block>
  <block id="c6a606bdd6882cd42de13f2ba3614285" category="list-text">Um usuário pode criar um<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> usando<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> como fonte.</block>
  <block id="8ecb92f33c033b00fcf3c18e59c4b177" category="list-text">O Trident identifica o instantâneo necessário e executa o mesmo conjunto de etapas envolvidas na criação de um<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> e um<block ref="bd7a9717d29c5ddcab1bc175eda1e298" prefix=" " category="inline-code"></block>.</block>
  <block id="428895404a5e57e01a138a5df672d0fc" category="inline-link">Volumes persistentes</block>
  <block id="173423532ed9a565a05f32db2c8f8172" category="admonition">Para ler mais sobre objetos do Kubernetes, é altamente recomendável que você leia a<block ref="92dc8ed82beb7484ab6097a3e91b0deb" category="inline-link-rx"></block> seção da documentação do Kubernetes.</block>
  <block id="c4e2f712f33e39883cdadc27311ff798" category="section-title">Objetos do Kubernetes<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block></block>
  <block id="794a32773794ee6c545794c065d1a88b" category="paragraph">Um objeto Kubernetes<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> é uma solicitação de storage feita por um usuário de cluster do Kubernetes.</block>
  <block id="43cf8e1465c61efc8b1b9bf71aa9931c" category="paragraph">Além da especificação padrão, o Trident permite que os usuários especifiquem as seguintes anotações específicas de volume se quiserem substituir os padrões definidos na configuração de back-end:</block>
  <block id="55f6611cb342565cf0f5002400f53a95" category="cell">Anotação</block>
  <block id="1527fede1d561a899313c8cb3eb1e7bf" category="cell">Opção de volume</block>
  <block id="db8a0bbeae97b94338c1b7a61e2a1ec3" category="cell">Drivers suportados</block>
  <block id="f3780100617165ed98557e3a6d2be72d" category="cell">Trident.NetApp.io/sistema de arquivos</block>
  <block id="44d4d4eb1f08d8eb29766160086f61dd" category="cell">Sistema de ficheiros</block>
  <block id="19ab49765cdd2c8ab592eb40eeff08cf" category="cell">ONTAP-san, SolidFire-san, ONTAP-san-economy</block>
  <block id="979f70bf9da982ee97ac075df4f048c3" category="cell">Trident.NetApp.io/cloneFromPVC</block>
  <block id="b4ead50a5ca4f307f7d61da7763ad204" category="cell">CloneSourcevolume</block>
  <block id="cca7544fa2044ea81b43c1e0896bf58e" category="cell">ONTAP-nas, ONTAP-san, SolidFire-san, azure-NetApp-files, gcp-cvs, ONTAP-san-economy</block>
  <block id="46ec89aa5290ead7b514dd5182caa0a7" category="cell">Trident.NetApp.io/splitOnClone</block>
  <block id="58c1c86186ef8de4f6e12d8f3aed8b64" category="cell">SplitOnClone</block>
  <block id="80f05e749a4f524e8c8a05fa19d5df0e" category="cell">ONTAP-nas, ONTAP-san</block>
  <block id="d6f010e4b4bf9748dcaa34feb70188ce" category="cell">Trident.NetApp.io/protocolo</block>
  <block id="81788ba0d7d02d81c063dbca621ba11b" category="cell">protocolo</block>
  <block id="100b8cad7cf2a56f6df78f171f97a1ec" category="cell">qualquer</block>
  <block id="e9898504ff0569325d48acaee7e9ced9" category="cell">Trident.NetApp.io/exportPolicy</block>
  <block id="647ce4e5394e2e595e46b4fc50a628e9" category="cell">Política de exportação</block>
  <block id="61396290e72fa7d707996351c8815bd6" category="cell">ONTAP-nas, ONTAP-nas-economy, ONTAP-nas-FlexGroup</block>
  <block id="2902d12b1fe6d9ef5bd1a3474f2356e9" category="cell">Trident.NetApp.io/snapshotPolicy</block>
  <block id="0a236e7685e50a59df980d0a30929d6c" category="cell">Política de SnapshotPolicy</block>
  <block id="7f3bf2672240703dc69740ce11443cf2" category="cell">ONTAP-nas, ONTAP-nas-economy, ONTAP-nas-FlexGroup, ONTAP-san</block>
  <block id="6224177007fc13e9e0d3789985ed165a" category="cell">Trident.NetApp.io/snapshotServe</block>
  <block id="bb0d75280f9b683f2f1f0767fd0aff9b" category="cell">SnapshotServe</block>
  <block id="870594bba77423ccae9ad70861e02951" category="cell">ONTAP-nas, ONTAP-nas-FlexGroup, ONTAP-san, gcp-cvs</block>
  <block id="1cb43054bed661d8c8457ddbb43e1b1b" category="cell">Trident.NetApp.io/snapshotDirectory</block>
  <block id="1ae33c448502ac3d326593aee304c21f" category="cell">SnapshotDirectory</block>
  <block id="ec1739ebad429a70f25efc292c347f8e" category="cell">Trident.NetApp.io/unixPermissions</block>
  <block id="c005e78d4bd808038335c32dd84cf7da" category="cell">UnixPermissions</block>
  <block id="69d900d222446aab8591b45a7363c9e7" category="cell">Trident.NetApp.io/blocksize</block>
  <block id="480d1b61a0432d1319f7504a3d7318dd" category="cell">Tamanho do bloco</block>
  <block id="c0d2a793e71b152662b3e8cd2da00620" category="cell">SolidFire-san</block>
  <block id="fc5f8320f80474f09bdd1e3c3849123e" category="paragraph">Se o PV criado tiver a<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block> política de recuperação, o Trident excluirá o PV e o volume de backup quando o PV for liberado (ou seja, quando o usuário exclui o PVC). Caso a ação de exclusão falhe, o Trident marca o PV como tal e periodicamente tenta novamente a operação até que seja bem-sucedida ou o PV seja excluído manualmente. Se o PV usar a<block ref="8d6d1e80894475845ded00dcd1f8cc41" prefix=" " category="inline-code"></block> política, o Trident a ignora e assume que o administrador irá limpá-la do Kubernetes e do back-end, permitindo que o volume seja feito backup ou inspecionado antes de sua remoção. Observe que a exclusão do PV não faz com que o Trident exclua o volume de backup. Você deve removê-lo usando a API REST <block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="(" category="inline-code"></block>).</block>
  <block id="5dad99bb31feaed11fecbe29cf682e51" category="paragraph">O Trident dá suporte à criação de snapshots de volume usando a especificação CSI: Você pode criar um instantâneo de volume e usá-lo como fonte de dados para clonar PVCs existentes. Dessa forma, cópias pontuais de PVS podem ser expostas ao Kubernetes na forma de snapshots. Os instantâneos podem então ser usados para criar novos PVS. Dê uma olhada<block ref="e9de36458dcd95988ba2d0b4f6d8ee2f" prefix=" " category="inline-code"></block> para ver como isso funcionaria.</block>
  <block id="2553df6c9f03b727070656d38019ad3e" category="paragraph">O Trident também fornece as<block ref="77167d63af133b47bca3bbacd580fa44" prefix=" " category="inline-code"></block> anotações e<block ref="58c1c86186ef8de4f6e12d8f3aed8b64" prefix=" " category="inline-code"></block> para a criação de clones. Você pode usar essas anotações para clonar um PVC sem precisar usar a implementação do CSI (no Kubernetes 1,13 e anterior) ou se sua versão do Kubernetes não for compatível com snapshots de volume beta (Kubernetes 1,16 e anteriores). Tenha em mente que o Trident 19,10 suporta o fluxo de trabalho CSI para clonagem a partir de um PVC.</block>
  <block id="91adc865e5be78d779fd6aa38481ca58" category="admonition">Você pode usar as<block ref="77167d63af133b47bca3bbacd580fa44" prefix=" " category="inline-code"></block> anotações e<block ref="58c1c86186ef8de4f6e12d8f3aed8b64" prefix=" " category="inline-code"></block> com o CSI Trident, bem como o frontend tradicional não CSI.</block>
  <block id="96e0288ecc3c91f97de46420e70a4f8f" category="paragraph">Aqui está um exemplo: Se um usuário já tem um PVC chamado<block ref="81c3b080dad537de7e10e0987a4bf52e" prefix=" " category="inline-code"></block>, o usuário pode criar um novo PVC chamado<block ref="f68f5a5c173ec94fcc1da047d933d613" prefix=" " category="inline-code"></block> usando a anotação, como<block ref="dd145212234939588777c41b78a948b2" prefix=" " category="inline-code"></block> . Com esse conjunto de anotações, o Trident clona o volume correspondente ao PVC mysql, em vez de provisionar um volume do zero.</block>
  <block id="ff0fa770e22db25a156c5e2d7f017283" category="paragraph">Considere os seguintes pontos:</block>
  <block id="5faae6e509c8aecf9f8815a4ceef02b3" category="list-text">Recomendamos clonar um volume ocioso.</block>
  <block id="f89d76e06e88814705882a1faad838fb" category="list-text">O PVC e seu clone devem estar no mesmo namespace do Kubernetes e ter a mesma classe de storage.</block>
  <block id="f769a6b54b1d1476b6628ebd1c4b98c4" category="list-text">Com os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers e<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>, pode ser desejável definir a anotação de PVC<block ref="46ec89aa5290ead7b514dd5182caa0a7" prefix=" " category="inline-code"></block> em conjunto<block ref="979f70bf9da982ee97ac075df4f048c3" prefix=" " category="inline-code"></block> com o . Com<block ref="46ec89aa5290ead7b514dd5182caa0a7" prefix=" " category="inline-code"></block> definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o Trident divide o volume clonado do volume pai e, portanto, desacoplando completamente o ciclo de vida do volume clonado de seus pais às custas de perder alguma eficiência de storage. Não<block ref="46ec89aa5290ead7b514dd5182caa0a7" prefix=" " category="inline-code"></block> configurá-lo ou configurá-lo para<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block> resultar em consumo de espaço reduzido no back-end à custa de criar dependências entre os volumes pai e clone, de modo que o volume pai não possa ser excluído a menos que o clone seja excluído primeiro. Um cenário em que dividir o clone faz sentido é clonar um volume de banco de dados vazio, onde é esperado que o volume e seu clone diverjam muito e não se beneficiem das eficiências de armazenamento oferecidas pelo ONTAP.</block>
  <block id="83a9930ebb180c904bf2e71e27928287" category="paragraph">O<block ref="75e4a0ceb294a9d74374c938e4e8ddc8" prefix=" " category="inline-code"></block> diretório contém exemplos de definições de PVC para uso com Trident. Consulte objetos de volume do Trident para obter uma descrição completa dos parâmetros e configurações associados aos volumes do Trident.</block>
  <block id="40f23ed795a1a88d4da7ac2ef847ff7f" category="section-title">Objetos do Kubernetes<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block></block>
  <block id="6cb5412cc2fe8210c4d14d6d6b08ab79" category="paragraph">Um objeto Kubernetes<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> representa um storage disponibilizado para o cluster do Kubernetes. Ele tem um ciclo de vida que é independente do pod que o usa.</block>
  <block id="292289b7334983e53d9fb9bd00d30820" category="admonition">O Trident cria<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> objetos e os Registra no cluster do Kubernetes automaticamente com base nos volumes provisionados. Você não é esperado para gerenciá-los sozinho.</block>
  <block id="443f09ca4d0d1cc13b5baa064b90c0b7" category="paragraph">Quando você cria um PVC que se refere a um Trident-based<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>, o Trident provisiona um novo volume usando a classe de armazenamento correspondente e Registra um novo PV para esse volume. Ao configurar o volume provisionado e o PV correspondente, o Trident segue as seguintes regras:</block>
  <block id="b27c91fe87605abbb0d5240430518a1c" category="list-text">O Trident gera um nome PV para o Kubernetes e um nome interno que ele usa para provisionar o storage. Em ambos os casos, é garantir que os nomes são únicos em seu escopo.</block>
  <block id="9c2f88a5c4297bd88ead0cd6314fe886" category="list-text">O tamanho do volume corresponde ao tamanho solicitado no PVC o mais próximo possível, embora possa ser arredondado para a quantidade alocável mais próxima, dependendo da plataforma.</block>
  <block id="7df5b64daec466033329296995f05735" category="section-title">Objetos do Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block></block>
  <block id="0d35625a483152791f4e2d0b751a09cc" category="paragraph">Os objetos Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> são especificados por nome em<block ref="455385b545189aa1f74511b5dc40d1eb" prefix=" " category="inline-code"></block> para provisionar o storage com um conjunto de propriedades. A própria classe de storage identifica o provisionador a ser usado e define esse conjunto de propriedades em termos que o provisionador entende.</block>
  <block id="f7738d717849274e5992d460fd2c0a75" category="paragraph">É um dos dois objetos básicos que precisam ser criados e gerenciados pelo administrador. O outro é o objeto backend do Trident.</block>
  <block id="e51377a773f4713e536b061eaa2d4b04" category="paragraph">Um objeto do Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> que usa o Trident é parecido com este:</block>
  <block id="39edc8618b50008d4cb2050414d6921f" category="paragraph">Esses parâmetros são específicos do Trident e informam à Trident como provisionar volumes para a classe.</block>
  <block id="b16da8ed7f6c8cce3011dc2b6c7bd1a4" category="paragraph">Os parâmetros da classe de armazenamento são:</block>
  <block id="f2bbdf9f72c085adc4d0404e370f0f4c" category="cell">Atributo</block>
  <block id="a1fa27779242b4902f7ae3bdd5c6d508" category="cell">Tipo</block>
  <block id="b651efdb98a5d6bd2b3935d0c3f4a5e2" category="cell">Obrigatório</block>
  <block id="736b91750e516139acc13c5eb6564f92" category="cell">atributos</block>
  <block id="59a1e7292a0114529fb1b3401b37bc28" category="cell">map[string]string</block>
  <block id="7fa3b767c460b54a2be4d49030b349c7" category="cell">não</block>
  <block id="1b40216e6fe613bd013bf8710182e650" category="cell">Veja a seção atributos abaixo</block>
  <block id="c614017642b6cfd9e6a25c7df122d917" category="cell">StoragePools</block>
  <block id="b8f32852327d2ffce86ae3ead4fdfb52" category="cell">MAP[string]StringList</block>
  <block id="bdd0ddb870ed9de6f6e7d3a75200e9f7" category="cell">Mapa de nomes de back-end para listas de pools de armazenamento dentro</block>
  <block id="145d1b89a9f9ed8bdc16d1f7a814cace" category="cell">Além disso, StoragePools</block>
  <block id="6907a73ad9068ddf5f99d022102220bb" category="cell">Mapa de nomes de back-end para listas de pools de armazenamento dentro</block>
  <block id="7df974d787ead594df017a11672f2f0e" category="cell">Excluir StoragePools</block>
  <block id="99ba77776c83983f5ecbd2b51f2b43ef" category="cell">Mapa de nomes de back-end para listas de pools de armazenamento dentro</block>
  <block id="f74d4b2b456fb453c0980710290f66eb" category="paragraph">Os atributos de storage e seus possíveis valores podem ser classificados em atributos de seleção de pool de storage e atributos do Kubernetes.</block>
  <block id="2fdf10f3f64b631cd3a137740de02f8b" category="section-title">Atributos de seleção do pool de armazenamento</block>
  <block id="1f5912cd581dba393d5eecc43059adf4" category="paragraph">Esses parâmetros determinam quais pools de storage gerenciado pelo Trident devem ser utilizados para provisionar volumes de um determinado tipo.</block>
  <block id="c82a6100dace2b41087ba6cf99a5976a" category="cell">Valores</block>
  <block id="6bb24468956384c482a8b5a901fb6383" category="cell">Oferta</block>
  <block id="15c2d85f1fae22a3c3a0594510a1f611" category="cell">Pedido</block>
  <block id="7aa57840938d59b415c1e10dcd1f7173" category="cell">Suportado por</block>
  <block id="0e72be2e13bf8a2ff8078d3435e5aa7c" category="cell">1</block>
  <block id="b45cffe084dd3d20d928bee85e7b0f21" category="cell">cadeia de carateres</block>
  <block id="9ccd7f94313a98beb95801927907a0ab" category="cell">hdd, híbrido, ssd</block>
  <block id="9bf3032f6854fb376cd8e3e92e11b077" category="cell">Pool contém Mídia desse tipo; híbrido significa ambos</block>
  <block id="5c79c761bae4c27e96c04e54d1da1e91" category="cell">Tipo de material especificado</block>
  <block id="c9cb5e737e2746339fd0b462332c8740" category="cell">ONTAP-nas, ONTAP-nas-economy, ONTAP-nas-FlexGroup, ONTAP-san, SolidFire-san</block>
  <block id="b713baf75bcf13859037b5274d27d4b8" category="cell">ProvisioningType</block>
  <block id="6026fbd9abd05590949de220154e3262" category="cell">fino, grosso</block>
  <block id="3064025fe3541bec9942e14fcaedfab7" category="cell">O pool é compatível com esse método de provisionamento</block>
  <block id="cf65591e3da90317fc132ea7464105d8" category="cell">Método de provisionamento especificado</block>
  <block id="054b5072368dea4f8748909c16c7de98" category="cell">thick: all ONTAP; thin: all ONTAP &amp; SolidFire-san</block>
  <block id="55b56fb238360663afa6230ad82e74a0" category="cell">BackendType</block>
  <block id="dbdc06f8742b98dcacdf7fdb1af111ea" category="paragraph">ONTAP-nas, ONTAP-nas-economy, ONTAP-nas-FlexGroup, ONTAP-san, SolidFire-san, gcp-cvs, azure-NetApp-files, ONTAP-san-economy</block>
  <block id="0e1201d4d96df2d9d03c9c66b90874a1" category="cell">Pool pertence a este tipo de backend</block>
  <block id="c4efe19137f43450149d48fddbab6c28" category="cell">Back-end especificado</block>
  <block id="a04622349b3ede0d4176ca2c2e161763" category="cell">Todos os drivers</block>
  <block id="695633290d050f31cec0c9d4bd4a57fe" category="cell">instantâneos</block>
  <block id="c506ff134babdd6e68ab3e6350e95305" category="cell">bool</block>
  <block id="ac1ffb15effdc77a86029972670d022f" category="cell">verdadeiro, falso</block>
  <block id="4ac43bef181074fbd4a1f3620b46f77f" category="cell">O pool é compatível com volumes com snapshots</block>
  <block id="13410bff9f7871113a6af273e2a1b97f" category="cell">Volume com instantâneos ativados</block>
  <block id="33dece0bdda0f88a645c739f3714c038" category="cell">ONTAP-nas, ONTAP-san, SolidFire-san, gcp-cvs</block>
  <block id="bc3832c405ec6cb9c831849328240f3b" category="cell">clones</block>
  <block id="609d32aa243917905f282544b543752a" category="cell">O pool é compatível com volumes de clonagem</block>
  <block id="bcb81802de31cf9c717de3c1d6c2f610" category="cell">Volume com clones ativados</block>
  <block id="5bdf74912a51c34815f11e9a3d20b609" category="cell">criptografia</block>
  <block id="5f2f2cc138a8bc7067c7f61ab4db0f4d" category="cell">O pool é compatível com volumes criptografados</block>
  <block id="0bda31a93b84fd2b45a90df39c4c8049" category="cell">Volume com encriptação ativada</block>
  <block id="dcc09b4a72e31323b652676ce4677771" category="cell">ONTAP-nas, ONTAP-nas-economy, ONTAP-nas-flexgroups, ONTAP-san</block>
  <block id="79073619fba8242703524f16870ff858" category="cell">IOPS</block>
  <block id="fa7153f7ed1cb6c0fcf2ffb2fac21748" category="cell">int</block>
  <block id="86e5d65893929e5d38b4bdcb9fb48ecd" category="cell">número inteiro positivo</block>
  <block id="bf57d1db8292b2855fa998a86562cfa7" category="cell">O pool é capaz de garantir IOPS nessa faixa</block>
  <block id="342a7ce5bb7debc6ba84dc2a3bced587" category="cell">Volume garantido estas operações de entrada/saída por segundo</block>
  <block id="895f3d78c77292d9761bdabdc3cf0c99" category="paragraph">1: Não suportado pelos sistemas ONTAP Select</block>
  <block id="5b3c68bde0b3658758a8ebf47ec6abf1" category="paragraph">Na maioria dos casos, os valores solicitados influenciam diretamente o provisionamento; por exemplo, a solicitação de provisionamento espesso resulta em um volume provisionado rapidamente. No entanto, um pool de storage de elemento usa o mínimo e o máximo de IOPS oferecidos para definir valores de QoS, em vez do valor solicitado. Nesse caso, o valor solicitado é usado apenas para selecionar o pool de armazenamento.</block>
  <block id="311fa7e17587a62a6fdcb110253feed7" category="paragraph">O ideal é usar<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block> sozinho para modelar as qualidades do storage de que você precisa para atender às necessidades de uma classe específica. O Trident deteta e seleciona automaticamente pools de armazenamento que correspondem a _all_ do<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block> que você especificar.</block>
  <block id="d0c865b74e0c4b4b387506e9e95d22b2" category="paragraph">Se você não conseguir usar<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block> para selecionar automaticamente os pools certos para uma classe, use os<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> parâmetros e<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> para refinar ainda mais os pools ou até mesmo selecionar um conjunto específico de pools.</block>
  <block id="06a87a25fa98442cf561762851213f7e" category="paragraph">Você pode usar o<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> parâmetro para restringir ainda mais o conjunto de pools que correspondem a qualquer<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block> especificado . Em outras palavras, o Trident usa a interseção de pools identificados pelos<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block> parâmetros e<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> para o provisionamento. Você pode usar um parâmetro sozinho ou ambos juntos.</block>
  <block id="0c66a737e57eb6ac0885d2ba6d87cc12" category="paragraph">Você pode usar o<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> parâmetro para estender o conjunto de pools que o Trident usa para provisionamento, independentemente de quaisquer pools selecionados pelos<block ref="736b91750e516139acc13c5eb6564f92" prefix=" " category="inline-code"></block> parâmetros e.<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block></block>
  <block id="2ed95c63c6e58641d710e098e7e23154" category="paragraph">Você pode usar o<block ref="7df974d787ead594df017a11672f2f0e" prefix=" " category="inline-code"></block> parâmetro para filtrar o conjunto de pools que o Trident usa para provisionar. O uso desse parâmetro remove todos os pools que correspondem.</block>
  <block id="9f8bfd75f7eb5b95503bb0abedf83b40" category="paragraph"><block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block>Nos parâmetros e<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block>, cada entrada assume o formulário<block ref="54b40b3e6f1384da4e4c920869e31d56" prefix=" " category="inline-code"></block>, onde<block ref="f6beb3e72ef13817e534adfcb53abf8d" prefix=" " category="inline-code"></block> é uma lista separada por vírgulas de pools de armazenamento para o back-end especificado. Por exemplo, um valor para<block ref="145d1b89a9f9ed8bdc16d1f7a814cace" prefix=" " category="inline-code"></block> pode parecer como<block ref="f4f4f3be41d583caff484e84868faa12" prefix=" " category="inline-code"></block>. Essas listas aceitam valores de regex tanto para os valores de backend quanto de lista. Você pode usar<block ref="de7f24c692bef12dc6db5ad320f2f284" prefix=" " category="inline-code"></block> para obter a lista de backends e suas piscinas.</block>
  <block id="c087dddd46fcf0fbbf390abeff2216c3" category="section-title">Atributos do Kubernetes</block>
  <block id="d05956159ee82aafaaacfe08d33d3be6" category="paragraph">Esses atributos não têm impacto na seleção de pools de storage/back-ends pelo Trident durante o provisionamento dinâmico. Em vez disso, esses atributos simplesmente fornecem parâmetros compatíveis com volumes persistentes do Kubernetes. Os nós de trabalho são responsáveis pelas operações de criação de sistema de arquivos e podem exigir utilitários de sistema de arquivos, como xfsprogs.</block>
  <block id="0e6ac0d7fca9c59e6545312a071555b6" category="cell">Drivers relevantes</block>
  <block id="ae6b2a160dd2fafdee385c348edee0c1" category="cell">Versão do Kubernetes</block>
  <block id="7cfbb6f07899c8071ff38e69dca190e2" category="cell">FsType</block>
  <block id="64b6d80cc167d5c657b60054dbe396ee" category="cell">ext4, ext3, xfs, etc.</block>
  <block id="7928a56d4874d982a06a59e3f30f6935" category="cell">O tipo de sistema de arquivos para volumes de bloco</block>
  <block id="f888aa18c19e41f8c1263fa99ca8b94c" category="cell">SolidFire-san, ONTAP-nas, ONTAP-nas-economy, ONTAP-nas-FlexGroup, ONTAP-san, ONTAP-san-economy</block>
  <block id="b1c94ca2fbc3e78fc30069c8d0f01680" category="cell">Tudo</block>
  <block id="6add71a247c8f4513060920be14857bc" category="cell">AllowVolumeExpansion</block>
  <block id="84e2c64f38f78ba3ea5c905ab5a2da27" category="cell">booleano</block>
  <block id="675e3f37a9adfd7ab6433906c490fa06" category="cell">Ative ou desative o suporte para aumentar o tamanho do PVC</block>
  <block id="2e647c10640a301eccdc45d7ad72507d" category="cell">ONTAP-nas, ONTAP-nas-economy, ONTAP-nas-FlexGroup, ONTAP-san, ONTAP-san-economy, SolidFire-san, gcp-cvs, azure-NetApp-files</block>
  <block id="c791531450eeeb073b30215d9c306a00" category="cell">Mais de 1,11 anos</block>
  <block id="086b513e7d83c4cf32a8bd3550679276" category="cell">VolumeBindingMode</block>
  <block id="fd656a4f359aa12808a6d0ceb5792342" category="cell">Imediato, WaitForFirstConsumer</block>
  <block id="5e7777e1f9cfa3a93159ee44cf3f1f5a" category="cell">Escolha quando ocorre a vinculação de volume e o provisionamento dinâmico</block>
  <block id="741970ef3d523752ab543427956bb1b8" category="cell">1,19 - 1,26</block>
  <block id="8264769021597389583b0a7d1fa7e076" category="inline-link-macro">Kubernetes: Configurar um contexto de segurança para um pod ou contêiner</block>
  <block id="dca8809f382a96564d64ae1525b39048" category="list-text">O<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> parâmetro é usado para controlar o tipo de sistema de arquivos desejado para LUNs SAN. Além disso, o Kubernetes também usa a presença de<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> em uma classe de armazenamento para indicar que existe um sistema de arquivos. A propriedade do volume só pode ser controlada usando o<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> contexto de segurança de um pod se<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> estiver definido. Consulte <block ref="7940a62969e5aeae7f6e32b04e7a11e3" category="inline-link-macro-rx"></block> para obter uma visão geral sobre como definir a propriedade do volume usando o<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> contexto. O Kubernetes aplicará o<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> valor somente se:</block>
  <block id="6dd29ca7439e52dcf2fbc569066b3d67" category="list-text"><block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix="" category="inline-code"></block> é definido na classe de armazenamento.</block>
  <block id="45d2174daba36b76955e69d2eddf26ca" category="list-text">O modo de acesso de PVC é RWO.</block>
  <block id="ba5b62efad4f90a8f4bb806cba4a3ea4" category="paragraph">Para drivers de armazenamento NFS, já existe um sistema de arquivos como parte da exportação NFS. Para usar<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> a classe de armazenamento ainda precisa especificar um<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block>. você pode configurá-lo como<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> ou qualquer valor não nulo.</block>
  <block id="b8f52a0e5f45341fb88241356af7f0c7" category="list-text"><block ref="7c28a1514d14039d3824999236c4890d" category="inline-link-macro-rx"></block>Consulte para obter mais detalhes sobre a expansão de volume.</block>
  <block id="2435c5eb0d842c13f635d4b1d6667a52" category="list-text">O pacote de instalação do Trident fornece vários exemplos de definições de classe de armazenamento para uso com o Trident no <block ref="532e65fde9b7cd84dd9a7a9be1e1ddbb" prefix="" category="inline-code"></block>. A exclusão de uma classe de armazenamento Kubernetes faz com que a classe de armazenamento Trident correspondente também seja excluída.</block>
  <block id="db36743614e87531d560fe8ae0bc6c7d" category="section-title">Objetos do Kubernetes<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block></block>
  <block id="65d18b5db5d5f35e4ddc5c696687d1bd" category="paragraph">Os objetos do Kubernetes<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block> são análogos ao<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block>. Eles ajudam a definir várias classes de armazenamento e são referenciados por instantâneos de volume para associar o snapshot à classe de snapshot necessária. Cada snapshot de volume é associado a uma classe de snapshot de volume único.</block>
  <block id="031e09713b698739db52cb150ef97605" category="paragraph">A<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block> deve ser definida por um administrador para criar instantâneos. Uma classe de instantâneo de volume é criada com a seguinte definição:</block>
  <block id="879cd061c6bf448cd6fc39dd56947611" category="paragraph">O<block ref="e2d45d57c7e2941b65c6ccd64af4223e" prefix=" " category="inline-code"></block> especifica ao Kubernetes que as solicitações de snapshots de volume<block ref="6c7238e4718cba62616087e70f5e30ec" prefix=" " category="inline-code"></block> da classe são tratadas pelo Trident. O<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> especifica a ação a ser tomada quando um instantâneo deve ser excluído. <block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>Quando está definido como<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block>, os objetos instantâneos de volume e o instantâneo subjacente no cluster de armazenamento são removidos quando um instantâneo é excluído. Alternativamente, configurá-lo para<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block> significa que<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> e o instantâneo físico são retidos.</block>
  <block id="63f2f0978770be469911c5f1722d82ca" category="section-title">Objetos do Kubernetes<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block></block>
  <block id="7ba558df52a052235cf288011e5d667c" category="paragraph">Um objeto Kubernetes<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> é uma solicitação para criar um snapshot de um volume. Assim como um PVC representa uma solicitação feita por um usuário para um volume, um instantâneo de volume é uma solicitação feita por um usuário para criar um instantâneo de um PVC existente.</block>
  <block id="f67af493d1fd83b472d5f27307b2f3d9" category="paragraph">Quando uma solicitação de snapshot de volume entra, o Trident gerencia automaticamente a criação do snapshot para o volume no back-end e expõe o snapshot criando um objeto exclusivo<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block>. Você pode criar snapshots a partir de PVCs existentes e usar os snapshots como DataSource ao criar novos PVCs.</block>
  <block id="53847015682974d066a919b1b45a44a5" category="admonition">A vida útil de um VolumeSnapshot é independente do PVC de origem: Um snapshot persiste mesmo depois que o PVC de origem é excluído. Ao excluir um PVC que tenha instantâneos associados, o Trident marca o volume de apoio para este PVC em um estado *Deletando*, mas não o remove completamente. O volume é removido quando todos os instantâneos associados são excluídos.</block>
  <block id="1ca312948dba5b1321da24bc362f4148" category="section-title">Objetos do Kubernetes<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block></block>
  <block id="e562bdcf97dce6973a736651f45eb054" category="paragraph">Um objeto Kubernetes<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> representa um snapshot retirado de um volume já provisionado. Ele é análogo a<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block> e significa um snapshot provisionado no cluster de storage. Semelhante aos<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block> objetos e<block ref="858e55ea2e6429120a862313c50a9f5f" prefix=" " category="inline-code"></block>, quando um snapshot é criado, o<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto mantém um mapeamento um-para-um para o<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> objeto, que havia solicitado a criação do snapshot.</block>
  <block id="ca8035550d447392debfcaeb62855bd3" category="admonition">O Trident cria<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objetos e os Registra no cluster do Kubernetes automaticamente com base nos volumes provisionados. Você não é esperado para gerenciá-los sozinho.</block>
  <block id="af741aec1c66e51c00d35a38f92471de" category="paragraph">O<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto contém detalhes que identificam exclusivamente o instantâneo, como o<block ref="39133e4ee9648ecb1a2dae934a22788a" prefix=" " category="inline-code"></block>. Esta<block ref="39133e4ee9648ecb1a2dae934a22788a" prefix=" " category="inline-code"></block> é uma combinação única do nome do PV e do nome do<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto.</block>
  <block id="b22c73e808eef321ee9941ec2e58b64f" category="paragraph">Quando uma solicitação de snapshot entra, o Trident cria o snapshot no back-end. Depois que o snapshot é criado, o Trident configura um<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto e, portanto, expõe o snapshot à API do Kubernetes.</block>
  <block id="4171707fb2a131f0fae96196310c5e3b" category="section-title">Objetos do Kubernetes<block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block></block>
  <block id="7c43d52062b795d2d8e7f33b9dbbf671" category="paragraph">Os recursos personalizados do Kubernetes são endpoints na API do Kubernetes que são definidos pelo administrador e são usados para agrupar objetos semelhantes. O Kubernetes dá suporte à criação de recursos personalizados para armazenar uma coleção de objetos. Você pode obter essas definições de recursos executando<block ref="1201c6fb7452320c42006b3c6341e824" prefix=" " category="inline-code"></block>o .</block>
  <block id="09d4c17e4e0e002375326eee41d0f77f" category="paragraph">As definições personalizadas de recursos (CRDs) e os metadados de objetos associados são armazenados pelo Kubernetes em seu armazenamento de metadados. Isso elimina a necessidade de uma loja separada para o Trident.</block>
  <block id="798d49964270b9d2f638171af7258d00" category="paragraph">A partir da versão 19,07, o Trident usa vários<block ref="99bc4b850e05bafd67cf5f5f49344c1e" prefix=" " category="inline-code"></block> objetos para preservar a identidade de objetos Trident, como backends Trident, classes de armazenamento Trident e volumes Trident. Esses objetos são gerenciados pelo Trident. Além disso, a estrutura de snapshot do volume CSI introduz algumas CRDs que são necessárias para definir snapshots de volume.</block>
  <block id="9f59afd5e4687b9960361128f049dae4" category="paragraph">CRDs são uma construção do Kubernetes. Os objetos dos recursos definidos acima são criados pelo Trident. Como um exemplo simples, quando um back-end é criado usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o , um objeto CRD correspondente<block ref="0509578b4c12ac2fc745903388753e2c" prefix=" " category="inline-code"></block> é criado para consumo pelo Kubernetes.</block>
  <block id="7cdfd680fe492e028cde251c38475469" category="paragraph">Aqui estão alguns pontos a ter em mente sobre os CRDs do Trident:</block>
  <block id="adecfe476427253e9c680a7c5150a9cc" category="list-text">Quando o Trident é instalado, um conjunto de CRDs é criado e pode ser usado como qualquer outro tipo de recurso.</block>
  <block id="b54c0b51e5e24cea2035a3e3624c5719" category="list-text">Ao atualizar a partir de uma versão anterior do Trident (uma que usou<block ref="a226e9fbdfc1c8dd7e7fef4d333f86ed" prefix=" " category="inline-code"></block> para manter o estado), o instalador do Trident migra dados do<block ref="a226e9fbdfc1c8dd7e7fef4d333f86ed" prefix=" " category="inline-code"></block> armazenamento de dados de valor-chave e cria objetos CRD correspondentes.</block>
  <block id="c4b35352cbf7a52a9444a610687067f8" category="inline-link-macro">Desinstale o Trident</block>
  <block id="d63b67088a9f91802e555f6613dfc7e2" category="list-text">Ao desinstalar o Trident usando o<block ref="ac8650577d1b744589a6a11b60ac38c7" prefix=" " category="inline-code"></block> comando, os pods Trident são excluídos, mas os CRDs criados não são limpos. Veja <block ref="3e5b286354565ddfee44ed92d763b424" category="inline-link-macro-rx"></block> para entender como o Trident pode ser completamente removido e reconfigurado do zero.</block>
  <block id="a8a62fe3b16797ce253b78f83dc73a18" category="section-title">ObjetosTrident<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block></block>
  <block id="193c267230acf55be171a6a179560847" category="paragraph">O Trident cria classes de storage correspondentes para objetos Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> que especificam<block ref="08044207e9f63bb0fd474dab347a776c" prefix=" " category="inline-code"></block><block ref="b1202a40512b5ecf683240df2730730f" prefix="/" category="inline-code"></block> no campo do provisionador. O nome da classe de storage corresponde ao do objeto Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> que ele representa.</block>
  <block id="64cf33bfeab6c6bd8aa626b86fda9cbd" category="admonition">Com o Kubernetes, esses objetos são criados automaticamente quando um Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> que usa o Trident como provisionador é registrado.</block>
  <block id="51fa0a833f47d8f00ee2677c6fa7b075" category="paragraph">As classes de armazenamento compreendem um conjunto de requisitos para volumes. O Trident atende a esses requisitos com os atributos presentes em cada pool de storage. Se forem correspondentes, esse pool de storage será um destino válido para volumes de provisionamento que usam essa classe de storage.</block>
  <block id="04d84bba5a5e103ae9c192c03a7ad2f3" category="paragraph">Você pode criar configurações de classe de armazenamento para definir diretamente classes de armazenamento usando a API REST. No entanto, para implantações do Kubernetes, esperamos que elas sejam criadas ao Registrar novos objetos do Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>.</block>
  <block id="21283df20640a21f468122a427ef1bfc" category="section-title">Objetos de back-end do Trident</block>
  <block id="3c244b984a2188556c1115a5a27dbe1b" category="paragraph">Os backends representam os fornecedores de storage em cima dos quais o Trident provisiona volumes. Uma única instância do Trident pode gerenciar qualquer número de backends.</block>
  <block id="d71c5fad4769c19422c07158e24510ba" category="admonition">Este é um dos dois tipos de objetos que você cria e gerencia a si mesmo. O outro é o objeto Kubernetes<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block>.</block>
  <block id="6386b0f17b85463db72887bca8ae2bb7" category="inline-link-macro">configurando backends</block>
  <block id="4ec9b12b750288e91222e3a7e15db932" category="paragraph">Para obter mais informações sobre como construir esses objetos, <block ref="2e76dfee6bc1b5ee4173b3c5bbcd99e5" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="8a4410d54113ca147b35c633207444b7" category="section-title">ObjetosTrident<block ref="5e5d444b688db40e013a7d0b8b3c0898" prefix=" " category="inline-code"></block></block>
  <block id="54fd1dc39c3eecd913b4c9140522996c" category="paragraph">Os pools de storage representam locais distintos disponíveis para provisionamento em cada back-end. Para ONTAP, eles correspondem a agregados em SVMs. Para NetApp HCI/SolidFire, estes correspondem a bandas de QoS especificadas pelo administrador. Para o Cloud Volumes Service, eles correspondem a regiões de provedores de nuvem. Cada pool de storage tem um conjunto de atributos de storage distintos, que definem suas características de performance e proteção de dados.</block>
  <block id="4ab1440e71a70a97c4966bcc0095f02b" category="paragraph">Ao contrário dos outros objetos aqui, os candidatos ao pool de armazenamento são sempre descobertos e gerenciados automaticamente.</block>
  <block id="f08d82cd2f4fa097db43220a04f62434" category="section-title">ObjetosTrident<block ref="bd7a9717d29c5ddcab1bc175eda1e298" prefix=" " category="inline-code"></block></block>
  <block id="894765102686902c6acc3024e5bdb9bd" category="paragraph">Os volumes são a unidade básica de provisionamento, incluindo pontos de extremidade de back-end, como compartilhamentos NFS e iSCSI LUNs. No Kubernetes, eles correspondem diretamente<block ref="3f91308865b7567ae097573f6d0519e9" prefix=" " category="inline-code"></block> ao . Ao criar um volume, certifique-se de que ele tenha uma classe de armazenamento, que determina onde esse volume pode ser provisionado, juntamente com um tamanho.</block>
  <block id="2e53db54827c8c05b7bfe9cb31f299d9" category="admonition">No Kubernetes, esses objetos são gerenciados automaticamente. Você pode visualizá-los para ver o que o Trident provisionou.</block>
  <block id="22fcc98910d0241e9835f502b7cb2398" category="admonition">Ao excluir um PV com instantâneos associados, o volume Trident correspondente é atualizado para um estado *Deletando*. Para que o volume Trident seja excluído, você deve remover os snapshots do volume.</block>
  <block id="05353bc86910df31b2da9c8d3d26aad1" category="paragraph">Uma configuração de volume define as propriedades que um volume provisionado deve ter.</block>
  <block id="2af72f100c356273d46284f6fd1dfc08" category="cell">versão</block>
  <block id="ce9af1e3f0493eb7d5ffdf584ed763ba" category="cell">Versão da API Trident ("1")</block>
  <block id="b068931cc450442b63f5b3d276ea4297" category="cell">nome</block>
  <block id="a6105c0a611b41b08f1209506350279e" category="cell">sim</block>
  <block id="017dbd2b0a2195c3e8052cdff67bad39" category="cell">Nome do volume a criar</block>
  <block id="78ec9b60245b46a4f05158076962ace9" category="cell">StorageClass</block>
  <block id="fa00f346deccdbebef2b3cc0702d41de" category="cell">Classe de storage a ser usada ao provisionar o volume</block>
  <block id="f7bd60b75b29d79b660a2859395c1a24" category="cell">tamanho</block>
  <block id="264c52ca068dfed30f5826bb054839f4" category="cell">Tamanho do volume a provisionar em bytes</block>
  <block id="4f18882934f0472b4bfa32928bf92f14" category="cell">Tipo de protocolo a utilizar; "ficheiro" ou "bloco"</block>
  <block id="252c6d364cc1a0437939a4f01b0717ae" category="cell">InternalName</block>
  <block id="2857a43e58983276d059c0e6e2fcb0e9" category="cell">Nome do objeto no sistema de storage; gerado pelo Trident</block>
  <block id="051fb2c3f62667c87a197ae412a4dbeb" category="cell">ONTAP (nas, san) &amp; SolidFire-*: Nome do volume a partir do qual clonar</block>
  <block id="e94d46d7c89bcb7e6ac2e2df4d21bafb" category="cell">ONTAP (nas, san): Divida o clone de seu pai</block>
  <block id="819549a86d14e849e1d0042c9156d781" category="cell">ONTAP-*: Política de snapshot a ser usada</block>
  <block id="e38882545bfedafc7e8ec5973b2e6dd8" category="cell">ONTAP-*: Porcentagem de volume reservado para snapshots</block>
  <block id="fc86db1233bfa77d5143dcaae9842cb1" category="cell">ONTAP-nas*: Política de exportação para usar</block>
  <block id="48e1d8180a61943f438c259b2b6715f8" category="cell">ONTAP-nas*: Se o diretório snapshot está visível</block>
  <block id="3f7c94eec4bbf43962e1667f5a334469" category="cell">ONTAP-nas*: Permissões iniciais do UNIX</block>
  <block id="4b2d5d83aef608a3fb59ec6eda8bea26" category="cell">SolidFire-*: Tamanho do bloco/setor</block>
  <block id="62fe71ae4f6a04a6937feb48ba5dc4f4" category="cell">Tipo de sistema de ficheiros</block>
  <block id="c12963ed77d398c8f97e09be58a20fed" category="paragraph">O Trident gera<block ref="252c6d364cc1a0437939a4f01b0717ae" prefix=" " category="inline-code"></block> ao criar o volume. Isto consiste em duas etapas. Primeiro, ele prepende o prefixo de armazenamento (o padrão<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> ou o prefixo na configuração de back-end) para o nome do volume, resultando em um nome do formulário<block ref="c1698e7d39f974847e6db255afc061d7" prefix=" " category="inline-code"></block>. Em seguida, procede à higienização do nome, substituindo carateres não permitidos no backend. Para backends ONTAP, ele substitui hífens por sublinhados (assim, o nome interno se torna<block ref="1edd19f408fb01912396584374aad28a" prefix=" " category="inline-code"></block>). Para backends de elemento, ele substitui sublinhados por hífens.</block>
  <block id="49539689cebb34166a417b3b666818e5" category="paragraph">Você pode usar configurações de volume para provisionar volumes diretamente usando a API REST, mas nas implantações do Kubernetes, esperamos que a maioria dos usuários use o método padrão do Kubernetes<block ref="2b3f8e4d49589c4452db0a07d619d824" prefix=" " category="inline-code"></block>. O Trident cria esse objeto de volume automaticamente como parte do processo de provisionamento.</block>
  <block id="9b53117639a1995b2872ed6bca3dec8e" category="section-title">ObjetosTrident<block ref="d4e2713d1b1725a1592f9268589f990d" prefix=" " category="inline-code"></block></block>
  <block id="a1b3787bbd275b7ed5812d022dd36932" category="paragraph">Os snapshots são uma cópia pontual de volumes, que pode ser usada para provisionar novos volumes ou restaurar o estado. No Kubernetes, eles correspondem diretamente a<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objetos. Cada snapshot é associado a um volume, que é a origem dos dados do snapshot.</block>
  <block id="cdf5c8d3dd31e49b82a5b3e2c4a65280" category="paragraph">Cada<block ref="d4e2713d1b1725a1592f9268589f990d" prefix=" " category="inline-code"></block> objeto inclui as propriedades listadas abaixo:</block>
  <block id="27118326006d3829667a400ad23d5d98" category="cell">Cadeia de carateres</block>
  <block id="de73fbae2864dd61c921cf0648a9717a" category="cell">Nome do objeto snapshot Trident</block>
  <block id="8e744456fb3d02d69442038d3e771460" category="cell">Nome do objeto snapshot Trident no sistema de storage</block>
  <block id="617a43eb0446f84414df73cce2997fa1" category="cell">Nome do volume</block>
  <block id="b58c8ff1e837af6dafa971bf3d320646" category="cell">Nome do volume persistente para o qual o instantâneo é criado</block>
  <block id="2c2aed4b417a0f9c189d7ad6414ae28c" category="cell">VolumeInternalName</block>
  <block id="db1a117103c348ebaec41f9e249554c3" category="cell">Nome do objeto de volume Trident associado no sistema de storage</block>
  <block id="73f3d5934fdd36989f24cbae94ab423b" category="paragraph">Quando uma solicitação de objeto Kubernetes<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> é criada, o Trident funciona criando um objeto snapshot no sistema de storage de backup. <block ref="252c6d364cc1a0437939a4f01b0717ae" prefix=" " category="inline-code"></block>O deste objeto instantâneo é gerado combinando o prefixo<block ref="9df5757552a92dfd36506c9ef1ef6553" prefix=" " category="inline-code"></block> com o<block ref="e7d22294bdcb7133967c3548ece982e5" prefix=" " category="inline-code"></block> do<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> objeto (por exemplo,<block ref="c0d30538d15b43e0140bcf4251703864" prefix=" " category="inline-code"></block> ).<block ref="617a43eb0446f84414df73cce2997fa1" prefix=" " category="inline-code"></block> e<block ref="2c2aed4b417a0f9c189d7ad6414ae28c" prefix=" " category="inline-code"></block> são preenchidos obtendo os detalhes do volume de apoio.</block>
  <block id="65589e383667ac98801982f7e9704f2a" category="section-title">Objeto Astra Trident<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block></block>
  <block id="1733f6bf382fd79ef07194c1f01825fa" category="paragraph">O deamonset do Trident consome uma<block ref="e2c3c5140d40bff7c63d42afa55e20cb" prefix=" " category="inline-code"></block> classe de prioridade - a classe de prioridade mais alta disponível no Kubernetes - para garantir que o Astra Trident possa identificar e limpar volumes durante o desligamento gracioso do nó e permitir que os pods do Trident daemonset pré-empt cargas de trabalho com prioridade mais baixa em clusters onde há alta pressão de recursos.</block>
  <block id="bc1252710ec794375d6c59f55eea9823" category="paragraph">Para conseguir isso, o Astra Trident emprega um<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> objeto para garantir que uma classe de prioridade "crítica do nó do sistema" no daemonset do Trident esteja satisfeita. Antes da implantação e criação do daemonset, o Astra Trident procura o<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> objeto e, se não for descoberto, o aplica.</block>
  <block id="253c5669d0ddb02485528df359bfb37d" category="paragraph">Se você precisar de mais controle sobre a cota de recurso padrão e Classe de prioridade, você pode gerar um<block ref="21b1223568b2ae7cd1db3ffddbe3b3fd" prefix=" " category="inline-code"></block> ou configurar o<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> objeto usando o gráfico de Helm.</block>
  <block id="b6ba871f235b09a3d76844b7b5901586" category="paragraph">O seguinte é um exemplo de um objeto 'ResourceQuota' priorizando o daemonset do Trident.</block>
  <block id="4f4b1cca8d1c78f8ba309694d46d80f2" category="inline-link-macro">Kubernetes: Cotas de recursos</block>
  <block id="8893dca3c9374b0380c7018fc6f23846" category="paragraph">Para obter mais informações sobre cotas de recursos, <block ref="1fb556021be57083646a3e3c0079c64c" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="4f89992961c018acecad7b373dcce336" category="section-title">Limpe<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> se a instalação falhar</block>
  <block id="222924a66611c61f2a2192a2bab92ecf" category="inline-link-macro">desinstalação</block>
  <block id="dbcf7f603282c175a634104f7dbd55f2" category="paragraph">No caso raro em que a instalação falha depois que o<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> objeto é criado, primeiro <block ref="3bd802fb95da78515b3c3d98916ee73c" category="inline-link-macro-rx"></block>tente e depois reinstale.</block>
  <block id="c4af59b1638f70f51816423f72df4dba" category="paragraph">Se isso não funcionar, remova manualmente o<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> objeto.</block>
  <block id="b9984d1eca39b86eb39cedf7db8f8c62" category="section-title">Retire<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block></block>
  <block id="ba991f2f6d0f733e9b8a2136cedc99b2" category="paragraph">Se você preferir controlar sua própria alocação de recursos, poderá remover o objeto Astra Trident<block ref="0b79951d94d2a7fc1f7ba55091959bda" prefix=" " category="inline-code"></block> usando o comando:</block>
  <block id="880cacf6429ab3c253b14beac8b73951" category="summary">Os padrões de segurança do pod do Kubernetes (PSS) e as políticas de segurança do Pod (PSP) definem níveis de permissão e restringem o comportamento dos pods. As restrições de contexto de Segurança OpenShift (SCC) definem similarmente a restrição de pod específica ao OpenShift Kubernetes Engine. Para oferecer essa personalização, o Astra Trident habilita certas permissões durante a instalação.</block>
  <block id="bc3c69459955aa51e6720ee4098db2c2" category="doc">Padrões de segurança do pod (PSS) e restrições de contexto de segurança (SCC)</block>
  <block id="9d482ecca4ba8a41fd8e1180c97a4b97" category="paragraph">Os padrões de segurança do pod do Kubernetes (PSS) e as políticas de segurança do Pod (PSP) definem níveis de permissão e restringem o comportamento dos pods. As restrições de contexto de Segurança OpenShift (SCC) definem similarmente a restrição de pod específica ao OpenShift Kubernetes Engine. Para oferecer essa personalização, o Astra Trident habilita certas permissões durante a instalação. As seções a seguir detalham as permissões definidas pelo Astra Trident.</block>
  <block id="80af9ab2cf8f28973d329b09a2aa3bf3" category="inline-link-macro">Kubernetes: Segurança</block>
  <block id="181049d711e79ba087e97d579f11e3f7" category="admonition">O PSS substitui as políticas de segurança do Pod (PSP). A PSP foi obsoleta no Kubernetes v1,21 e será removida em v1,25. Para obter mais informações, <block ref="18a97095ea40d42decd22f31a2040afe" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="92699490afddc06ebad285ff002fc80d" category="section-title">Contexto de segurança do Kubernetes necessário e campos relacionados</block>
  <block id="ed5dea09095f671b801bee34ea28a319" category="cell">Permissão</block>
  <block id="b315e1c68490baab38c1a28e00fe0f5a" category="cell">Privilegiado</block>
  <block id="62868c5d24fd89e2fd8046454e18b6c4" category="inline-link-macro">Kubernetes: Propagação de montagem</block>
  <block id="a2d97da130dea6b381b1e770af5d9c74" category="cell">O CSI exige que os pontos de montagem sejam bidirecionais, o que significa que o pod de nó do Trident deve executar um contentor privilegiado. Para obter mais informações, <block ref="36e6e997c8e1e33355ee35fb5cf65f2b" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="92a5c8ffa6bee2a9377f18499950da23" category="cell">Rede de host</block>
  <block id="154cdce0e5451a5578085caa8a7e7a3e" category="cell">Necessário para o daemon iSCSI.<block ref="f88921f58beaaae5bcb9dffac54bf5ad" prefix=" " category="inline-code"></block> Gerencia montagens iSCSI e usa redes de host para se comunicar com o daemon iSCSI.</block>
  <block id="2ff982b19c53a275ae05f015dafe166d" category="cell">IPC do host</block>
  <block id="eac6730a7bdbb0156f167d1a073b4a7c" category="cell">O NFS usa comunicação entre processos (IPC) para se comunicar com o NFSD.</block>
  <block id="b25a60a6190808e0d6e849ca6325b91c" category="cell">PID do host</block>
  <block id="50a75b984e49b81a5c2b366ffe8cfba2" category="cell">Necessário para iniciar<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block> o NFS. O Astra Trident consulta os processos de host para determinar se<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block> está em execução antes da montagem de volumes NFS.</block>
  <block id="82ec2cd6fda87713f588da75c3b1d0ed" category="cell">Recursos</block>
  <block id="4aeb7a1484240b8d479aee0a012de3a4" category="cell">O<block ref="89e03940e064509cce675def4874338e" prefix=" " category="inline-code"></block> recurso é fornecido como parte dos recursos padrão para contentores privilegiados. Por exemplo, o Docker define esses recursos para contentores privilegiados:<block ref="279f844076697173760b840190800fa7" prefix=" " category="inline-code"></block><block ref="ca9d7807fbdd864698fc848190c05c7a" prefix=" " category="inline-code"></block></block>
  <block id="b2dbe899d8bf9b4c25f337efe8b1ce7c" category="cell">Seccomp</block>
  <block id="bc13155252332e44b7dd850ea5842641" category="cell">O perfil Seccomp é sempre "unconfinado" em contentores privilegiados; portanto, não pode ser habilitado no Astra Trident.</block>
  <block id="1a3d8802d280d4ec910f54042cd62998" category="cell">SELinux</block>
  <block id="86b4800be380b1baaeaeead5f71076db" category="cell">No OpenShift, os contentores privilegiados são executados no<block ref="4c6c95436260ecf7ab3cf7558410a157" prefix=" " category="inline-code"></block> domínio ("contentor Super privilegiado") e os contentores sem privilégios são executados<block ref="ce0991860b118fa3ab777cbb62c7caa5" prefix=" " category="inline-code"></block> no domínio. No<block ref="34c54dce528ae11502f7c2908c0e4a21" prefix=" " category="inline-code"></block>, com<block ref="c42c2c095fe432fac047b16b37a0c05c" prefix=" " category="inline-code"></block> instalado, todos os contentores são executados no<block ref="4c6c95436260ecf7ab3cf7558410a157" prefix=" " category="inline-code"></block> domínio, o que desativa efetivamente o SELinux. Portanto, o Astra Trident não é adicionado<block ref="0221dccbaacc71551feb621f4ebfae36" prefix=" " category="inline-code"></block> a contêineres.</block>
  <block id="52a8b954485e8bf8ebe32865d17563a6" category="cell">DAC</block>
  <block id="6ddc0f1aebd745677bb51e725f080883" category="cell">Os contentores privilegiados devem ser executados como root. Os contentores não privilegiados são executados como root para acessar os sockets unix exigidos pelo CSI.</block>
  <block id="479f0a2e760ff0014bb53fcbe4b5dfbf" category="section-title">Padrões de segurança do pod (PSS)</block>
  <block id="b021df6aac4654c454f46c77646e745f" category="cell">Etiqueta</block>
  <block id="ede4d9142f78c8313ce1ea912023214a" category="cell"><block ref="c50055ec8e6213f61bd81cfda31f072f" prefix="" category="inline-code"></block> <block ref="76404c03a86906ee3beb617ed963367c" prefix=" " category="inline-code"></block></block>
  <block id="0ccd226f7ad098ef19857dcf15eed611" category="cell">Permite que o controlador Trident e os nós sejam admitidos no namespace de instalação. Não altere a etiqueta do namespace.</block>
  <block id="0634b3cd8d233df0b38fe73154f03a86" category="cell"><block ref="65f4d8e6b012530443d6a9f6f2b9ce47" prefix="" category="inline-code"></block> <block ref="c9618b80f22dd4422aedf605ca48825e" prefix=" " category="inline-code"></block></block>
  <block id="830d087702172a8173337c2f014f24b3" category="admonition">Alterar os rótulos do namespace pode resultar em pods não sendo programados, um "erro ao criar: ..." ou, "Aviso: Trident-csi-...". Se isso acontecer, verifique se a etiqueta do namespace para<block ref="bd638b36d2814f488c1497cfe49eceea" prefix=" " category="inline-code"></block> foi alterada. Em caso afirmativo, reinstale o Trident.</block>
  <block id="a2e4b41e2525b6345ec43bbfe91c66fb" category="section-title">Políticas de segurança do pod (PSP)</block>
  <block id="6f16a5f8ff5d75ab84c018adacdfcbb7" category="cell">Campo</block>
  <block id="0c3c80a8b192c50af55549addaec04e9" category="cell"><block ref="18dfe779aeef79958856ed305c2bdf2c" prefix="" category="inline-code"></block></block>
  <block id="13d1281eff2b6a57e6fe877e0379a8f0" category="cell">Os contêineres privilegiados devem permitir o escalonamento de privilégios.</block>
  <block id="f3acfbe4d2b93ab163024b31a31b1a6e" category="cell"><block ref="320921b707f3348e6c98b4280fa1a31d" prefix="" category="inline-code"></block></block>
  <block id="e4938c724a08c7ba91677f8cb5e069f0" category="cell">O Trident não usa volumes efêmeros de CSI inline.</block>
  <block id="ce2c8aed9c2fa0cfbed56cbda4d8bf07" category="cell">Vazio</block>
  <block id="2eb7a988516ab2e49fd1dd1d0f505ba4" category="cell"><block ref="cdefa1888948b5a72fea2994aeca2cab" prefix="" category="inline-code"></block></block>
  <block id="7f18f0f8e3ec21ef031ae007e78292f1" category="cell">Os contêineres Trident não privilegiados não exigem mais recursos do que o conjunto padrão e os contentores privilegiados recebem todos os recursos possíveis.</block>
  <block id="577f713a1a3fd5fe6851754c1e780b62" category="cell"><block ref="5439f69262a770a5f83afbdcce16c7e8" prefix="" category="inline-code"></block></block>
  <block id="5a40ff04e0748fc5c56343bfccb1bf43" category="inline-link-macro">Controlador Flexvolume</block>
  <block id="117394bda9c12e1ab1e0ddefda7340f6" category="cell">O Trident não faz uso de um <block ref="5cf2fb2d9c4de828b06e030ea5b9ff75" category="inline-link-macro-rx"></block>, portanto, eles não estão incluídos na lista de volumes permitidos.</block>
  <block id="e26fd3e84b999df4093d0b9f1cf8bbdb" category="cell"><block ref="5ecb32286b22ea1d317e0328f6ca17f3" prefix="" category="inline-code"></block></block>
  <block id="87c065485525cde8c75f60bd233a546b" category="cell">O pod de nó Trident monta o sistema de arquivos raiz do nó, portanto, não há benefício para definir esta lista.</block>
  <block id="88e5e12dbdeac08e751e562ed902d6af" category="cell"><block ref="c503c5204b219327ad1ec993eafeb60b" prefix="" category="inline-code"></block></block>
  <block id="b989e7796e7fe01d9a48795f499ee3e8" category="cell">O Trident não usa nenhum<block ref="9b2836a126a08612261801d15525c966" prefix=" " category="inline-code"></block>.</block>
  <block id="2cc90cbcd409b90ed2d4270b587b4611" category="cell"><block ref="1f5590dd9e5fe118cb2d0fafdd4a2c76" prefix="" category="inline-code"></block></block>
  <block id="6784c364453355e4499a625166f9d76e" category="cell">O Trident não requer nenhum inseguro<block ref="005b1e0eff7e0d04731c1a9c38e1645f" prefix=" " category="inline-code"></block>.</block>
  <block id="43dbe35647dc1ec91f9ab70bb9c67eb7" category="cell"><block ref="11ed1e398eb4fb87f6dd82eb0c2c484b" prefix="" category="inline-code"></block></block>
  <block id="21b6f9c280cf0efb8619e386208ee181" category="cell">Não são necessários recursos para serem adicionados a contentores privilegiados.</block>
  <block id="782434a33bb3747f8aa86293dc2ae86c" category="cell"><block ref="3262227f241b5104dae49e3b6794a48e" prefix="" category="inline-code"></block></block>
  <block id="4e1db4d4f52542bf76625bb1724050ca" category="cell">Permitir o escalonamento de privilégios é Tratado em cada pod Trident.</block>
  <block id="7b18008579516cbef313996f0c7a3f5e" category="cell"><block ref="8de935bade437bae01a87d360814f8b2" prefix="" category="inline-code"></block></block>
  <block id="1507e7ba036aa98fd30589e618a7a4eb" category="cell">Não<block ref="005b1e0eff7e0d04731c1a9c38e1645f" prefix=" " category="inline-code"></block> são permitidos.</block>
  <block id="042337cb48219589a279b3bf0ba9107a" category="cell"><block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix="" category="inline-code"></block></block>
  <block id="07556f620d0b827238e3ef0142c49b78" category="cell">Os contêineres do Trident são executados como raiz.</block>
  <block id="ac0f2e366ea63da20af91efebbac6563" category="cell"><block ref="9510eecf0d7bfd6ddcc0af8dcab468c3" prefix="" category="inline-code"></block></block>
  <block id="0041ceee5434032966a8b03eae8738ac" category="cell"><block ref="caa805d341a15bff93c4a9a29f49b191" prefix="" category="inline-code"></block></block>
  <block id="41c30833eb5d5997e9b7a31ee0c66616" category="cell">A montagem de volumes NFS requer que o IPC do host se comunique com<block ref="040547f5d1afb7594b15ac44c8996d28" prefix=" " category="inline-code"></block></block>
  <block id="9bffb5bb38918d1a1d3ae47e97dfc0c4" category="cell"><block ref="e3b493bcbdc62af28f127a151a9fb487" prefix="" category="inline-code"></block></block>
  <block id="42a138ad382896646a09fac2eb0167c6" category="cell">O iscsiadm requer que a rede host se comunique com o daemon iSCSI.</block>
  <block id="13135fc0519a6dd0521fa0c0e2445184" category="cell"><block ref="d5eeda68602776a6cc184dc06e8008fb" prefix="" category="inline-code"></block></block>
  <block id="608c4a2fdcf8e14356058df9005ae8ad" category="cell">O PID do host é necessário para verificar se<block ref="3fc52a01383634d8618b7d25147b3990" prefix=" " category="inline-code"></block> está sendo executado no nó.</block>
  <block id="7d820b24ee2bfd41495fba608bfe1fb0" category="cell"><block ref="79602710f0451e93a37a68d73146cdfd" prefix="" category="inline-code"></block></block>
  <block id="7afcaaf2763ecc0e6dee9f0b63026a58" category="cell">O Trident não usa nenhuma porta de host.</block>
  <block id="cb8c6f5ff29df99724d3704d1af54bbd" category="cell"><block ref="bd638b36d2814f488c1497cfe49eceea" prefix="" category="inline-code"></block></block>
  <block id="aadb34687d099e9a40c9ad3bbaca9b52" category="cell">Os pods de nós do Trident devem executar um contêiner privilegiado para montar volumes.</block>
  <block id="cd8e4b4bb856b53433b1d0369136d7c3" category="cell"><block ref="a36ad2513fd5bed82000a11cd072c70c" prefix="" category="inline-code"></block></block>
  <block id="7621dbe4e923ccb1331f44e5fc326954" category="cell">Os pods de nós do Trident devem gravar no sistema de arquivos do nó.</block>
  <block id="7214fd778499c002452dfa1de7a63694" category="cell"><block ref="8ef4c526d5dbf854568be0215948562b" prefix="" category="inline-code"></block></block>
  <block id="0a687403dd751d7bcf9d36eb39b73187" category="cell">Os pods de nós do Trident executam um contêiner privilegiado e não podem descartar recursos.</block>
  <block id="e0cfa7f1a22bfc61e3c23d9b472cb229" category="cell"><block ref="24f066518afeea78c9e3e1935e2b4afa" prefix="" category="inline-code"></block></block>
  <block id="72a9e1b9b252e5cf0980f359420147d4" category="cell"><block ref="e70b97e1fe755b3b63eee3148167d06a" prefix="" category="inline-code"></block></block>
  <block id="0be043db3067cfba9e355c71f0d47963" category="cell"><block ref="a1933ffc7c56d4bad559d4aada4b5cf4" prefix="" category="inline-code"></block></block>
  <block id="2b13c797fbca116e0445fe9ed04aa753" category="cell"><block ref="119a538c01fd566d2c6b0a773680c029" prefix="" category="inline-code"></block></block>
  <block id="90eaf8074aef1d40fdd4ebb096ba3445" category="cell">O Trident não usa<block ref="578e49a043cd014389265d3d5745237b" prefix=" " category="inline-code"></block>o .</block>
  <block id="af697e6f277a737b01025e1b3ac8fd44" category="cell"><block ref="35fa9c57956b497d442646153f18643f" prefix="" category="inline-code"></block></block>
  <block id="b2fe00f20eadde0a1ed6fcbd7f899a41" category="cell">O Trident não define<block ref="0221dccbaacc71551feb621f4ebfae36" prefix=" " category="inline-code"></block> porque atualmente existem diferenças em como os tempos de execução de contêineres e as distribuições do Kubernetes lidam com o SELinux.</block>
  <block id="07b8b968ede124e1134951b502139223" category="cell"><block ref="69ca32a3f2c3aed6de1cc5ea72ab45eb" prefix="" category="inline-code"></block></block>
  <block id="707325d27093188691659cc218115f02" category="cell"><block ref="078831e29f354e83fac6da3db6ed6b7b" prefix="" category="inline-code"></block></block>
  <block id="fd284b15eb12231bdce65744e6704677" category="cell">Os pods do Trident exigem esses plugins de volume.</block>
  <block id="c28fb07c7c2463112f74e84cdea6df77" category="cell"><block ref="7af598b967dfa9a65aa6bc1172ac2793" prefix="" category="inline-code"></block></block>
  <block id="12ed56c889a6b18b5fce1be5bd30b1c8" category="section-title">Restrições de contexto de segurança (SCC)</block>
  <block id="3ad6cb6100190c8f81e99fd52debf7ef" category="cell">Etiquetas</block>
  <block id="244a3eb95cc1438e96d275b17eaa5bca" category="cell"><block ref="34f1a1024ebe43028f3959a44bacfc6b" prefix="" category="inline-code"></block></block>
  <block id="bdf1cf802b14a9ec8b930e1603663b2a" category="cell">Os pods de nó Trident montam o sistema de arquivos raiz do nó.</block>
  <block id="bb46f3196a53f2e3664f53addee28df1" category="cell"><block ref="96a892a9f3eea0ca79b145a0eaf9dbb2" prefix="" category="inline-code"></block></block>
  <block id="040a3e4977d39efd21138ca276545e91" category="cell">A montagem de volumes NFS requer que o IPC do host se comunique com<block ref="040547f5d1afb7594b15ac44c8996d28" prefix=" " category="inline-code"></block>o .</block>
  <block id="75a4305006cbe99edf6e6ec43424a3f9" category="cell"><block ref="90837134a0fa2189e147709cb1c8ee73" prefix="" category="inline-code"></block></block>
  <block id="3dc9b606cf3a7a8fc44c8489687131d1" category="cell"><block ref="1f50d8422285f1e4485caf89884871d1" prefix="" category="inline-code"></block></block>
  <block id="31773567f0268170ecfa4c74f91c5b74" category="cell"><block ref="e3370203a64857bb982dfad1f53f32dd" prefix="" category="inline-code"></block></block>
  <block id="606a5f1c705c363af0a1f97e60feaddc" category="cell"><block ref="2290fe08023a5a24bfa0749418021ce3" prefix="" category="inline-code"></block></block>
  <block id="5be47a456f397efee757d8dd4e0c8726" category="cell"><block ref="1471e4e05a4db95d353cc867fe317314" prefix="" category="inline-code"></block></block>
  <block id="c2ca437ef2abb914a8fc2ebb1b926ef6" category="cell">Este SCC é específico do Trident e está vinculado ao seu usuário.</block>
  <block id="fae56626a2743154c04411ee3d701833" category="cell"><block ref="64ed99ed2cd72b59717e6297314edfc3" prefix="" category="inline-code"></block></block>
  <block id="5987c8a1437c5254a436c29c94220b55" category="cell"><block ref="5c9160146b43f9e1879772881e219a6a" prefix="" category="inline-code"></block></block>
  <block id="2c8f9f1b9abdfa728b8f5d50686e4da0" category="cell">Os contentores privilegiados funcionam sempre "sem confinamentos".</block>
  <block id="f94a437fb7858e092079378f93ef2c71" category="cell"><block ref="9bc65c2abec141778ffaa729489f3e87" prefix="" category="inline-code"></block></block>
  <block id="402b7d2d5aea5e79576f9a964df89a32" category="cell">Uma entrada é fornecida para vincular esse SCC ao usuário Trident no namespace Trident.</block>
  <block id="274b68192b056e268f128ff63bfcd4a4" category="cell">n/a.</block>
  <block id="50af2a553c2117ddd78da33865c6e35b" category="cell"><block ref="05b8f3cd42ccc5f3a4847a902e506823" prefix="" category="inline-code"></block></block>
  <block id="e977c869b42c54e3c7d8fb9c071aab2b" category="summary">Saiba mais sobre as portas pelas quais o Astra Trident se comunica.</block>
  <block id="66163e38dd4a6a2a3e01f422ce501b1b" category="paragraph">Saiba mais sobre as portas que o Astra Trident usa para comunicação.</block>
  <block id="219abf04d1bb79760c15ca6966b68fb3" category="paragraph">O Astra Trident se comunica pelas seguintes portas:</block>
  <block id="60aaf44d4b562252c04db7f98497e9aa" category="cell">Porta</block>
  <block id="261addf78c7b2c961032b3dd08ba0b1f" category="cell">Finalidade</block>
  <block id="7e6b20d014d1c659e4eaf20dc2dcd7eb" category="cell">8443</block>
  <block id="69bbf3571db03f0487c04a8254d15c75" category="cell">Backchannel HTTPS</block>
  <block id="bc3c4a6331a8a9950945a1aa8c95ab8a" category="cell">8001</block>
  <block id="e5a4c481cc6f5935efb2c9d381f2e342" category="cell">Endpoint de métricas Prometheus</block>
  <block id="67ff32d40fb51f1a2fd2c4f1b1019785" category="cell">8000</block>
  <block id="10f5b805a46ea829cc3b9d8560a224ae" category="cell">SERVIDOR REST do Trident</block>
  <block id="35cf0f704286108deb76366a16415140" category="cell">17546</block>
  <block id="fb1396f82d0096741ea1b06f8cee2340" category="cell">Porta de sonda de disponibilidade/disponibilidade usada pelos pods daemonset Trident</block>
  <block id="2a531c1a1d290bb0e5f5a511bb48ad45" category="admonition">A porta da sonda de disponibilidade/disponibilidade pode ser alterada durante a instalação utilizando o<block ref="d2090696319f15a4c659a414db8cd2cd" prefix=" " category="inline-code"></block> sinalizador. É importante garantir que essa porta não esteja sendo usada por outro processo nos nós de trabalho.</block>
  <block id="8447c4879970f03c99a2bec36a05c141" category="summary">Você pode usar o endpoint REST diretamente se preferir interagir com a API REST do Astra Trident.</block>
  <block id="a0ebcf8495639418ba9d4b85dbb67b8b" category="doc">API REST do Astra Trident</block>
  <block id="319c1a7b5479ffa2a028b658ad5b7033" category="inline-link-macro">comandos e opções tridentctl</block>
  <block id="bd75dd911fd79061ecd2d46e65ed7f74" category="paragraph"><block ref="8321852d17a287399cb52ef30f4b21eb" category="inline-link-macro-rx"></block>Embora seja a maneira mais fácil de interagir com a API REST do Astra Trident, você pode usar o endpoint REST diretamente, se preferir.</block>
  <block id="7a72a102c2990b674624e8b6ec834e4d" category="section-title">Quando usar a API REST</block>
  <block id="d08436e363d4793fd6a0de3022ebfd63" category="paragraph">A API REST é útil para instalações avançadas que usam o Astra Trident como um binário autônomo em implantações não Kubernetes.</block>
  <block id="14dc7970933630896b0232f2a8b52039" category="paragraph">Para uma melhor segurança, o Astra Trident<block ref="aba3d4b49c454e1974970e7b5514b001" prefix=" " category="inline-code"></block> é restrito a localhost por padrão ao ser executado dentro de um pod. Para alterar esse comportamento, você precisa definir o argumento do Astra Trident<block ref="38df54fe961fa2bf2a7f82a5854fabad" prefix=" " category="inline-code"></block> na configuração do pod.</block>
  <block id="eee97547fb40d9c4df018377ac6478bb" category="section-title">Usando a API REST</block>
  <block id="8b3c7aa88e751573c842f17535525f19" category="paragraph">A API funciona da seguinte forma:</block>
  <block id="d3f7afc310875b4ea262305c6d7d6ca2" category="section-title"><block ref="7528035a93ee69cedb1dbddb2f0bfcc8" prefix="" category="inline-code"></block></block>
  <block id="2fab7aa97b6a2cfae6563e72aac5161e" category="list-text"><block ref="22b708d2eccf39e1774f3e179bc6aee0" prefix="" category="inline-code"></block>: Lista todos os objetos desse tipo.</block>
  <block id="c34156b367bae1b376f09b89d3be7992" category="list-text"><block ref="57e9ee33b6310b193ba789f5dada20cc" prefix="" category="inline-code"></block>: Obtém os detalhes do objeto nomeado.</block>
  <block id="1713a64319d60f7c9dce75d4e48ee14f" category="section-title"><block ref="a02439ec229d8be0e74b0c1602392310" prefix="" category="inline-code"></block></block>
  <block id="6692e2cd6834e6b9b2151799cac2a9f8" category="paragraph"><block ref="bb2b5a5fa2bc8d2525063f1afa7571a5" prefix="" category="inline-code"></block>: Cria um objeto do tipo especificado.</block>
  <block id="3d2bacacf0178e742d5abb2abc32d431" category="list-text">Requer uma configuração JSON para o objeto a ser criado. Para a especificação de cada tipo de objeto, consulte link:tridentctl.html<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="[" category="inline-code"></block> comandos e opções].</block>
  <block id="5b2f45c3d098b61927afda859c9144f8" category="list-text">Se o objeto já existir, o comportamento varia: Os backends atualizam o objeto existente, enquanto todos os outros tipos de objeto falharão a operação.</block>
  <block id="e4bcff97a02bbf2d15fc5a1c18b2b3dc" category="section-title"><block ref="32f68a60cef40faedbc6af20298c1a1e" prefix="" category="inline-code"></block></block>
  <block id="ecfc51243c8c28fc234ff87f1f9ddb88" category="paragraph"><block ref="051be5ede889caf3958ca683df6f8d5f" prefix="" category="inline-code"></block>: Exclui o recurso nomeado.</block>
  <block id="80e4e3d3203325fb6aeb139614fd09f3" category="admonition">Os volumes associados a backends ou classes de armazenamento continuarão a existir; estes devem ser excluídos separadamente. Para obter mais informações, consulte o link:tridentctl.html<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="[" category="inline-code"></block> comandos e opções].</block>
  <block id="ce94b1f7df7a6a05a559b66f96eff1cc" category="paragraph">Para exemplos de como essas APIs são chamadas, passe o <block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="(" category="inline-code"></block>sinalizador debug ). Para obter mais informações, consulte o link:tridentctl.html<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="[" category="inline-code"></block> comandos e opções].</block>
  <block id="ee50ce7340da5b018abe62c8e613cae0" category="summary">O Astra Trident expõe várias opções de linha de comando para o orquestrador Trident e se comunica por certas portas.</block>
  <block id="7d4fab76513c90b603a722620cde60fe" category="doc">Opções de linha de comando</block>
  <block id="94efe0c9471991c69d2a3b0970a56744" category="paragraph">O Astra Trident expõe várias opções de linha de comando para o orquestrador Trident. Você pode usar essas opções para modificar sua implantação.</block>
  <block id="8db7df66ab1d7ab5f1dc947acdb5fae4" category="section-title">A registar</block>
  <block id="7e2a14542a2613424ad88206fd2dd9aa" category="list-text"><block ref="9b945915b0cddbee22047fd529d642f6" prefix="" category="inline-code"></block>: Ativa a saída de depuração.</block>
  <block id="55e727716c7f623987be58e50732c01e" category="list-text"><block ref="818bc08a4822af612b7904cc24a4d3bf" prefix="" category="inline-code"></block>: Define o nível de log (debug, info, warn, error, fatal). O padrão é INFO.</block>
  <block id="30136395f01879792198317c11831ea4" category="section-title">Kubernetes</block>
  <block id="5700f5ae190580b01f6ed6c031668336" category="list-text"><block ref="4012723fd7948507761ae4f00f8a6ce5" prefix="" category="inline-code"></block>: Use esta opção ou<block ref="b88c1426ddf914ab0ed819649aed75fc" prefix=" " category="inline-code"></block> para ativar o suporte do Kubernetes. Isso faz com que o Trident use suas credenciais de conta de serviço do Kubernetes do pod que contêm para entrar em Contato com o servidor de API. Isso só funciona quando o Trident é executado como um pod em um cluster do Kubernetes com contas de serviço ativadas.</block>
  <block id="24095e7ef85031e99914e2c5298a7ded" category="list-text"><block ref="b9d0a374603a1c8cc2464bf870d134f0" prefix="" category="inline-code"></block>: Use esta opção ou<block ref="4012723fd7948507761ae4f00f8a6ce5" prefix=" " category="inline-code"></block> para ativar o suporte do Kubernetes. Quando especificado, o Trident se coneta ao servidor de API do Kubernetes usando o endereço e a porta inseguros fornecidos. Isso permite que o Trident seja implantado fora de um pod; no entanto, ele só suporta conexões inseguras com o servidor de API. Para se conetar com segurança, implante o Trident em um pod com a<block ref="4012723fd7948507761ae4f00f8a6ce5" prefix=" " category="inline-code"></block> opção.</block>
  <block id="9d77217a2dfe50f2575ced46f5e661d8" category="list-text"><block ref="43d287aeeba3a0487cf84fe8b83ff240" prefix="" category="inline-code"></block>: Obrigatório; você deve especificar esse caminho para um arquivo KubeConfig.</block>
  <block id="c5fd214cdd0d2b3b4272e73b022ba5c2" category="section-title">Docker</block>
  <block id="1e071a3d810132af1c9f8f6a03ca5609" category="list-text"><block ref="5cc3c48cd4a7b7c28609e7cad16a63c6" prefix="" category="inline-code"></block>: Nome do driver usado ao Registrar o plug-in do Docker. O padrão é<block ref="16dfba14481ba8b67fd1c1d9e0f32d2a" prefix=" " category="inline-code"></block>.</block>
  <block id="dfbbfd6bbf6bc798d1cbe8895d1cff22" category="list-text"><block ref="3c296b703ef0b6971051fafa0adeec00" prefix="" category="inline-code"></block>: Ouça nesta porta em vez de um soquete de domínio UNIX.</block>
  <block id="3874d7b8c9196001f8bfe4c49f43b323" category="list-text"><block ref="5fe5cde67e990859d4973ee6fedbf6f0" prefix="" category="inline-code"></block>: Obrigatório; você deve especificar esse caminho para um arquivo de configuração de back-end.</block>
  <block id="50780f47f6839d47d60bc4555ee00c3f" category="section-title">DESCANSO</block>
  <block id="bfffd3cb0560af555e57dd6bad52a9be" category="list-text"><block ref="786783eafb02594c9668a3cbbc65d473" prefix="" category="inline-code"></block>: Especifica o endereço no qual o servidor REST do Trident deve escutar. O padrão é localhost. Ao ouvir no localhost e executar dentro de um pod Kubernetes, a interface REST não é diretamente acessível de fora do pod. <block ref="dfbd0635d992733a865e819be2cf08be" prefix=" " category="inline-code"></block>Utilize para tornar a INTERFACE REST acessível a partir do endereço IP do pod.</block>
  <block id="433f174b6e54b889696b2efd4ef40dc6" category="admonition">A interface REST DO Trident pode ser configurada para ouvir e servir apenas em 127.0.0.1 (para IPv4) ou [::1] (para IPv6).</block>
  <block id="049ad2e7bef322af60013bbdd35ebbe7" category="list-text"><block ref="ca77c8464c642146b691455db7a16df6" prefix="" category="inline-code"></block>: Especifica a porta na qual o servidor REST do Trident deve escutar. O padrão é 8000.</block>
  <block id="188cb756fe8659cb2caf27ca6d1446b4" category="list-text"><block ref="79d400f844e73cb6e88dabddc36edc38" prefix="" category="inline-code"></block>: Ativa a interface REST. O padrão é verdadeiro.</block>
  <block id="afe272beb780ad53d441c342bf1c8c77" category="summary">Saiba mais sobre o tridentctl, um utilitário de linha de comando que fornece acesso simples ao Trident.</block>
  <block id="7358b1fd077fa65f88fff87888fd2547" category="inline-link">Pacote de instalação do Trident</block>
  <block id="4e49f66de2e2dc43c25555fe50639334" category="paragraph">O<block ref="5a856e83aada9750fe5389f8da94335b" category="inline-link-rx"></block> inclui um utilitário de linha de comando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> , que fornece acesso simples ao Astra Trident. Usuários do Kubernetes com Privileges suficiente podem usá-lo para instalar o Astra Trident e interagir diretamente com ele para gerenciar o namespace que contém o pod Astra Trident.</block>
  <block id="65e30750e10ee81a457f6e2a2d52b4a4" category="section-title">Comandos e opções disponíveis</block>
  <block id="8ca34267f11cb69ea424bc0320f0e295" category="paragraph">Para obter informações de uso, execute<block ref="ceee76f87261e9ae63347c456678b897" prefix=" " category="inline-code"></block>o .</block>
  <block id="a55b7ee69c26277a1088efc103e15297" category="paragraph">Os comandos disponíveis e as opções globais são:</block>
  <block id="2dd878ee55d738aa02e6b0b162d45708" category="paragraph">Comandos disponíveis:</block>
  <block id="4386bd8da14af923cbb7ac011ffc048e" category="list-text"><block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix="" category="inline-code"></block>: Adicionar um recurso ao Astra Trident.</block>
  <block id="f40f9a4cf242d0355aaf8d9e06617436" category="list-text"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block>: Remova um ou mais recursos do Astra Trident.</block>
  <block id="94b75e236d78fe800d1d32acc3882789" category="list-text"><block ref="b5eda0a74558a342cf659187f06f746f" prefix="" category="inline-code"></block>: Obtenha um ou mais recursos do Astra Trident.</block>
  <block id="bc9ef80dceea04796c6218fe96e05b30" category="list-text"><block ref="657f8b8da628ef83cf69101b6817150a" prefix="" category="inline-code"></block>: Ajuda sobre qualquer comando.</block>
  <block id="f5421bf790b945f508fa1b9f223318e5" category="list-text"><block ref="59b514174bffe4ae402b3d63aad79fe0" prefix="" category="inline-code"></block>: Imprimir uma tabela das imagens de contêiner que o Astra Trident precisa.</block>
  <block id="40e65170f778aaa7f4ab7f645b3bb3df" category="list-text"><block ref="93473a7344419b15c4219cc2b6c64c6f" prefix="" category="inline-code"></block>: Importar um recurso existente para o Astra Trident.</block>
  <block id="a824e587817131e2052a450803b2d97c" category="list-text"><block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix="" category="inline-code"></block>: Instalar o Astra Trident.</block>
  <block id="c90c365a06ede3139cad79d4e55673ee" category="list-text"><block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix="" category="inline-code"></block>: Imprima os logs do Astra Trident.</block>
  <block id="e5c5ad2be68f58e910aa42a9fcc98141" category="list-text"><block ref="2541d938b0a58946090d7abdde0d3890" prefix="" category="inline-code"></block>: Enviar um recurso de Astra Trident.</block>
  <block id="3166458a066b2d14394e408f1f8fed84" category="list-text"><block ref="fe98497efedbe156ecc4b953aea77e07" prefix="" category="inline-code"></block>: Desinstalar Astra Trident.</block>
  <block id="8c8fcf9d4df8bd54d26dc748cc4bac55" category="list-text"><block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix="" category="inline-code"></block>: Modificar um recurso no Astra Trident.</block>
  <block id="042aeda3cc45bf1f53a0e74660dbd924" category="list-text"><block ref="ae26b3d8e556703291282149e3ae894f" prefix="" category="inline-code"></block>: Atualizar um recurso no Astra Trident.</block>
  <block id="d014c15bf0496b645d02caf1704932f7" category="list-text"><block ref="2af72f100c356273d46284f6fd1dfc08" prefix="" category="inline-code"></block>: Imprimir a versão do Astra Trident.</block>
  <block id="1c90ba5cf3791b6148c7887a696911ec" category="paragraph">Bandeiras -</block>
  <block id="568cd496b6bde641a886745edfa59ae7" category="list-text"><block ref="bde7b6deaa21034a074d571dce19e698" prefix="" category="inline-code"></block>: Saída de depuração.</block>
  <block id="fe27ec35afa597521f9616f18c32e556" category="list-text"><block ref="490aa9b616d8535386ddf1c7037f79a0" prefix="" category="inline-code"></block>: Ajuda para<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>.</block>
  <block id="874377d6c0baee9e8e842c8abf13d28c" category="list-text"><block ref="e819563295b2af7114a3e86a323e983f" prefix="" category="inline-code"></block>: Namespace da implantação do Astra Trident.</block>
  <block id="463b413ea9e7764a789f3e987cb06fc8" category="list-text"><block ref="6fa9302f3bc987d01d9c2d8b7cb65042" prefix="" category="inline-code"></block>: Formato de saída. Um de JSON|yaml|name|wide|ps (padrão).</block>
  <block id="85c5338e138fc6d122a579f7a07040bf" category="list-text"><block ref="d5661812aed6c7823720c4c5ee8e84bf" prefix="" category="inline-code"></block>: Endereço/porta da interface REST do Astra Trident.</block>
  <block id="e49cf31f5ed35f0eb694c7714e8c3234" category="section-title"><block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix="" category="inline-code"></block></block>
  <block id="b8d486e9285b25b72d6efad05e41de4d" category="paragraph">Você pode usar executar<block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix=" " category="inline-code"></block> o comando para adicionar um recurso ao Astra Trident.</block>
  <block id="6d5c7e6905e460d1fba1f2dd1c0d2a8a" category="paragraph">Opção disponível<block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix=" " category="inline-code"></block>: : Adicionar um back-end ao Astra Trident.</block>
  <block id="3649b15e31d22a1e2210f014d843b9fa" category="section-title"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block></block>
  <block id="0d847e459450017616b8ab50b372ad2e" category="paragraph">Você pode executar o<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block> comando para remover um ou mais recursos do Astra Trident.</block>
  <block id="16713f316b7cce82385c040efc32ac83" category="paragraph">Opções disponíveis:</block>
  <block id="417f8bf14ed5852917d189612c7d163c" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>: Excluir um ou mais back-ends de storage do Astra Trident.</block>
  <block id="4896fd245b78ab9b7d044375c1fce85e" category="list-text"><block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix="" category="inline-code"></block>: Excluir um ou mais snapshots de volume do Astra Trident.</block>
  <block id="cef6b6bb7932e7450e35eafc3d986f18" category="list-text"><block ref="0606cab8952ca875c43a0e15b35aab7c" prefix="" category="inline-code"></block>: Excluir uma ou mais classes de storage do Astra Trident.</block>
  <block id="14eeaf8d1da512153855b759185ee129" category="list-text"><block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix="" category="inline-code"></block>: Excluir um ou mais volumes de storage do Astra Trident.</block>
  <block id="a4027ed0f56ae6ac2cbb7605a519932b" category="section-title"><block ref="b5eda0a74558a342cf659187f06f746f" prefix="" category="inline-code"></block></block>
  <block id="c7a7a677647f05a4032891d4aef5bed5" category="paragraph">Você pode executar o<block ref="b5eda0a74558a342cf659187f06f746f" prefix=" " category="inline-code"></block> comando para obter um ou mais recursos do Astra Trident.</block>
  <block id="2dd609bd837a41363817262fd314b0be" category="list-text"><block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix="" category="inline-code"></block>: Obtenha um ou mais back-ends de storage do Astra Trident.</block>
  <block id="ad4ba4a1b0612fa67f4386330ac00e9d" category="list-text"><block ref="c322d3de29d2b0c5e2e011dad5e77df2" prefix="" category="inline-code"></block>: Obtenha um ou mais snapshots do Astra Trident.</block>
  <block id="5385ccfb9fd8a07e53dc1a6ac58a101d" category="list-text"><block ref="0606cab8952ca875c43a0e15b35aab7c" prefix="" category="inline-code"></block>: Obtenha uma ou mais classes de storage do Astra Trident.</block>
  <block id="060da5b15e6fb7129c04e18b3d96c702" category="list-text"><block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix="" category="inline-code"></block>: Obtenha um ou mais volumes do Astra Trident.</block>
  <block id="8720cc63ac2a7bd9564830d7e775715e" category="paragraph"><block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix="" category="inline-code"></block> Bandeiras: *<block ref="490aa9b616d8535386ddf1c7037f79a0" prefix=" " category="inline-code"></block>: Ajuda para volumes. <block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix=" " category="inline-code"></block>* : Limitar consulta ao volume de origem subordinado. <block ref="aed2a4a749284f757648f1057abf44cd" prefix=" " category="inline-code"></block>* : Limitar consulta a subordinados de volume.</block>
  <block id="7920cf9e1a990d156e390321c1d5efeb" category="section-title"><block ref="59b514174bffe4ae402b3d63aad79fe0" prefix="" category="inline-code"></block></block>
  <block id="16ca0a361439e1f936eaa5c919443b10" category="paragraph">Você pode executar<block ref="59b514174bffe4ae402b3d63aad79fe0" prefix=" " category="inline-code"></block> o sinalizador para imprimir uma tabela das imagens de contentor que o Astra Trident precisa.</block>
  <block id="1008ac4609cab9210ae758ff8fee8127" category="paragraph">Flags: <block ref="2d29e7601cf6bace023678845c10dd17" prefix="" category="inline-code"></block>* -v, --k8s-version string': Versão semântica do cluster do Kubernetes.</block>
  <block id="df6d9d5a4c545407095ea4ca424e9457" category="section-title"><block ref="f6c534966bc7687e0c87134d025f8837" prefix="" category="inline-code"></block></block>
  <block id="df5ec83145dcd824f8daf85d89e5dd8a" category="paragraph">Você pode executar o<block ref="f6c534966bc7687e0c87134d025f8837" prefix=" " category="inline-code"></block> comando para importar um volume existente para o Astra Trident.</block>
  <block id="ccf1bb29ef5562c033962d35014005e9" category="paragraph">Alias:<block ref="66d753d6a3725a886be2c0cbfaaacdda" prefix=" " category="inline-code"></block></block>
  <block id="48c7ae9a5466415a6b9666ad86746640" category="list-text"><block ref="12ea00b4daeb8e3c942bea3e333d2fb6" prefix="" category="inline-code"></block>: Caminho para o arquivo PVC YAML ou JSON.</block>
  <block id="1bb2af29a08ab6ea9414a8656234b8c6" category="list-text"><block ref="490aa9b616d8535386ddf1c7037f79a0" prefix="" category="inline-code"></block>: Ajuda para volume.</block>
  <block id="0ad393d5c23749c23f3855220b55375a" category="list-text"><block ref="f86a7baa0c50c42a20fc3c1519dff00e" prefix="" category="inline-code"></block>: Criar apenas PV/PVC. Não assuma o gerenciamento do ciclo de vida do volume.</block>
  <block id="cc27cfd3259c2299d8dece590d5f6985" category="section-title"><block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix="" category="inline-code"></block></block>
  <block id="42ddf993417d9568ca6a057fe55f9c63" category="paragraph">Você pode executar<block ref="19ad89bc3e3c9d7ef68b89523eff1987" prefix=" " category="inline-code"></block> os sinalizadores para instalar o Astra Trident.</block>
  <block id="d14ef114d140fec912921e8447a4dd25" category="list-text"><block ref="a52f2fa2f1fec0074848a3750307fb69" prefix="" category="inline-code"></block>: A imagem do contentor para telemetria AutoSupport (predefinição "NetApp/Trident AutoSupport:20.07.0").</block>
  <block id="fbd7cc4267716ab9206612c6dcaa206e" category="list-text"><block ref="c51e75928e266c35be2f5fde616ef3e7" prefix="" category="inline-code"></block>: O endereço/porta de um proxy para o envio de telemetria AutoSupport.</block>
  <block id="8bb3d6751910d39b8c964e90434b79db" category="list-text"><block ref="853e45cef7a9e7f2437d4edf22935ece" prefix="" category="inline-code"></block>: Instalar o CSI Trident (substituir apenas para Kubernetes 1,13, requer portões de recurso).</block>
  <block id="778cbd0cbbd73953bc965ad29269803c" category="list-text"><block ref="85c47d036efa370fed262945406f951b" prefix="" category="inline-code"></block>: Tentativa de instalar os pacotes necessários nos nós.</block>
  <block id="23945a1dd08f0fb29fc1b73a02a2f48d" category="list-text"><block ref="80aeaff89e73fcb32525f354f9e0d9f8" prefix="" category="inline-code"></block>: Gere arquivos YAML sem instalar nada.</block>
  <block id="351ac43ddb05bc31fb7aa4d76c9098ed" category="list-text"><block ref="490aa9b616d8535386ddf1c7037f79a0" prefix="" category="inline-code"></block>: Ajuda para instalar.</block>
  <block id="1968a7e86875b6b6ca9d5222172f8d16" category="list-text"><block ref="4531ec288530509b32f6f51400c1fddc" prefix="" category="inline-code"></block>: Substituir o tempo limite da solicitação HTTP para a API REST do controlador Trident (1m30s padrão).</block>
  <block id="3b825e283b9b4452c1ef223373ad950d" category="list-text"><block ref="d464d0d1d9a5a5ad3944d20ac2ca7fd9" prefix="" category="inline-code"></block>: O endereço/porta de um Registro de imagem interno.</block>
  <block id="ba7224837b2ded4b5b295c1012fcc2c0" category="list-text"><block ref="7d7eb837d306f49b3c9769b70624d6f9" prefix="" category="inline-code"></block>: O tempo limite para todas as operações do Kubernetes (3m0s padrão).</block>
  <block id="6018142252ad7b87dc139b3235ff4fd3" category="list-text"><block ref="9ed30865db9773b0269ae5c8566c983c" prefix="" category="inline-code"></block>: A localização do host do estado interno do kubelet (padrão "/var/lib/kubelet").</block>
  <block id="e36f8ff54239eb329caf981624e29cb9" category="list-text"><block ref="2aae53573411a9732251b58ccdd6d7c0" prefix="" category="inline-code"></block>: O formato de log Astra Trident (texto, json) (texto padrão).</block>
  <block id="75f452bd493d8727bcf31563cc9106b4" category="list-text"><block ref="46f9f099ed225eeb186069b90490f9d5" prefix="" category="inline-code"></block>: O nome do PV legado usado pelo Astra Trident garante que isso não existe (padrão "Trident").</block>
  <block id="ba2a8d0773dc83972c406043a789e4dd" category="list-text"><block ref="1e4ef9600f204ce2e239544acdfef176" prefix="" category="inline-code"></block>: O nome do PVC legado usado pelo Astra Trident garante que isso não existe (padrão "Trident").</block>
  <block id="6c99958eae5167b3baa561e4f7ee33f1" category="list-text"><block ref="7c26256b3aca1a10f9f5fc490471d273" prefix="" category="inline-code"></block>: Não envie pacotes AutoSupport automaticamente para o NetApp (padrão verdadeiro).</block>
  <block id="77c96d54825d934e8abaadbc0049935d" category="list-text"><block ref="6d7dfebdbd3e2e24329bbeaa45469566" prefix="" category="inline-code"></block>: Desativar a saída MOST durante a instalação.</block>
  <block id="daeedc3203fdc6c1fb8dfe70e2381ed3" category="list-text"><block ref="bfd9a458451f5d6bb15e3d45264393c6" prefix="" category="inline-code"></block>: A imagem Astra Trident a instalar.</block>
  <block id="9a7a8500c6fa970d6879b522c3e33437" category="list-text"><block ref="40cd453e5492e6678204443da0e76040" prefix="" category="inline-code"></block>: Use todos os arquivos YAML existentes que existem no diretório de configuração.</block>
  <block id="bbf23448d408765a1240d287ed41ceff" category="list-text"><block ref="0612dd31fddbea26c732fa571ce36adc" prefix="" category="inline-code"></block>: Utilizar o IPv6 para a comunicação do Astra Trident.</block>
  <block id="2acfb4ba14a6f33d7e82e8d1dda6542f" category="section-title"><block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix="" category="inline-code"></block></block>
  <block id="501416d02a886c81e8849b2f400e28a3" category="paragraph">Você pode executar<block ref="2165e4fa5bddb65a31f6a0c495c2fa37" prefix=" " category="inline-code"></block> os sinalizadores para imprimir os logs do Astra Trident.</block>
  <block id="be8607b2dc354b7010b1464ac140fc1b" category="list-text"><block ref="a4cc41d6d71f762afa38aa86c9c2d01d" prefix="" category="inline-code"></block>: Crie um arquivo de suporte com todos os logs, a menos que especificado de outra forma.</block>
  <block id="d8d07479f4d5c7f0ef2b0f51407f070c" category="list-text"><block ref="490aa9b616d8535386ddf1c7037f79a0" prefix="" category="inline-code"></block>: Ajuda para logs.</block>
  <block id="f925a9593a051a85d10acec74988d84f" category="list-text"><block ref="0aed53e85bb423234b1436920878c6d9" prefix="" category="inline-code"></block>: Log do Astra Trident para exibição. Um dos Trident|auto|Trident-operator|All (predefinição "auto").</block>
  <block id="d8a224d86fa21c6c564987d0848bf681" category="list-text"><block ref="47f050301128bb8f4d16fbc097e51749" prefix="" category="inline-code"></block>: O nome do nó Kubernetes do qual você pode coletar logs do pod de nó.</block>
  <block id="a335d03b82ae4916c848dd419432f477" category="list-text"><block ref="e6a6eb3d6f86587838f65389d0a14510" prefix="" category="inline-code"></block>: Obter os logs para a instância de contentor anterior, se ela existir.</block>
  <block id="d7d7c214e32f71943c71783fa9d5fb55" category="list-text"><block ref="2f4e6b5276dee9c75b0aef2cc20fa899" prefix="" category="inline-code"></block>: Obter os logs para os recipientes sidecar.</block>
  <block id="9ce837bc2492d4ed390bc5d1ea9d1437" category="section-title"><block ref="2541d938b0a58946090d7abdde0d3890" prefix="" category="inline-code"></block></block>
  <block id="3121026e841bd19d147c54ac43e423c0" category="paragraph">Você pode executar o<block ref="2541d938b0a58946090d7abdde0d3890" prefix=" " category="inline-code"></block> comando para enviar um recurso do Astra Trident.</block>
  <block id="9ce1e94be8ccb1612967a7e2cbe69a6f" category="paragraph">Opção disponível<block ref="ee64de1ad50d8209e64ee58b23e27986" prefix=" " category="inline-code"></block>: : Enviar um arquivo AutoSupport para o NetApp.</block>
  <block id="e980a564a92aa568234d9757a591756b" category="paragraph">Você pode executar<block ref="fe98497efedbe156ecc4b953aea77e07" prefix=" " category="inline-code"></block> os sinalizadores para desinstalar o Astra Trident.</block>
  <block id="18e52eb5a60f4ee8d6f1fb37ab3e3781" category="paragraph">Bandeiras: *<block ref="60072fc2fad0d30fc656850e04c7433f" prefix=" " category="inline-code"></block>: Ajuda para desinstalar. *<block ref="61bce13717a9d6da0266dbc3e2b1e642" prefix=" " category="inline-code"></block> : Desative a saída MOST durante a desinstalação.</block>
  <block id="30cf71e674825d319eb0406032c1a80b" category="section-title"><block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix="" category="inline-code"></block></block>
  <block id="328865de703bbe034177e6eb51dc3d28" category="paragraph">Você pode executar os<block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix=" " category="inline-code"></block> comandos para modificar um recurso no Astra Trident.</block>
  <block id="8680f448b33371bcb4778563a93f4702" category="paragraph">Opções disponíveis<block ref="b43fdd98b1fd705ae4c3a10cf25aad8a" prefix=" " category="inline-code"></block>: : Atualize um back-end no Astra Trident.</block>
  <block id="238000b5c5df1cc446f5ba823c01807c" category="section-title"><block ref="ae26b3d8e556703291282149e3ae894f" prefix="" category="inline-code"></block></block>
  <block id="87911de7a0bc3ff821f75ab303a0edc0" category="paragraph">Você pode executar os<block ref="ae26b3d8e556703291282149e3ae894f" prefix=" " category="inline-code"></block> comandos para atualizar um recurso no Astra Trident.</block>
  <block id="70cc5172db10ac60dd0b32e57285e85c" category="paragraph">Opção disponível<block ref="210ab9e731c9c36c2c38db15c28a8d1c" prefix=" " category="inline-code"></block>: : Atualize um ou mais volumes persistentes de NFS/iSCSI para CSI.</block>
  <block id="9867997bba4e250bad7411d19fce3905" category="paragraph">Você pode executar<block ref="2af72f100c356273d46284f6fd1dfc08" prefix=" " category="inline-code"></block> os sinalizadores para imprimir a versão do<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> e o serviço Trident em execução.</block>
  <block id="800f73959f4b721c78f4651c6b4b2052" category="paragraph">Bandeiras: *<block ref="db0e9588c0d46e16e0aea5c50287a54f" prefix=" " category="inline-code"></block>: Apenas versão do cliente (nenhum servidor necessário). <block ref="60072fc2fad0d30fc656850e04c7433f" prefix=" " category="inline-code"></block>* : Ajuda para a versão.</block>
  <block id="0f5dc79c8003190ab8f758b1748ba0d8" category="summary">A NetApp está continuamente melhorando e aprimorando seus produtos e serviços. Aqui estão alguns dos mais recentes recursos, aprimoramentos e correções de bugs na versão mais recente do Astra Trident.</block>
  <block id="490414e0366b091220802d406e52c076" category="doc">O que há de novo</block>
  <block id="2e6ce374ac42de81aea6a3d682b92e33" category="paragraph">As Notas de versão fornecem informações sobre novos recursos, aprimoramentos e correções de bugs na versão mais recente do Astra Trident.</block>
  <block id="e4c4d344a524d21b898e4d04b6539aa7" category="admonition">O<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> binário para Linux que é fornecido no arquivo zip do instalador é a versão testada e suportada. Esteja ciente de que o<block ref="43b9d8ea18c48c3a64c4e37338fc668f" prefix=" " category="inline-code"></block> binário fornecido na<block ref="1e6add150fa42ebd470891f1547d31f0" prefix=" " category="inline-code"></block> parte do arquivo zip não é testado ou suportado.</block>
  <block id="0dcdbeca28e29fdc0076d56763410520" category="section-title">Novidades em 23,04</block>
  <block id="3317f97754f7308b6a0e2a12c0241d39" category="admonition">Forçar a desagregação de volume para volumes ONTAP-SAN-* é compatível apenas com versões Kubernetes com o recurso desativação de nó não-gracioso ativado. Forçar a desligação deve ser ativada no momento da instalação utilizando o<block ref="d75e90115a6343745df96039920422fc" prefix=" " category="inline-code"></block> sinalizador do instalador do Trident.</block>
  <block id="41cf959adc98386b54829d71a6ed5d37" category="section-title">Correções</block>
  <block id="19466ff921af5aa01da62b42cdaaf617" category="list-text">Operador Trident fixo para usar localhost IPv6 para instalação quando especificado na especificação.</block>
  <block id="5b313836498a7a26e99e4f084ee1baec" category="inline-link-macro">Problema nº 799</block>
  <block id="8743cc1328bba53ea356fd3e593a3f9c" category="list-text">Permissões de função de cluster do operador do Trident fixas para serem sincronizadas com as permissões do pacote (<block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block>).</block>
  <block id="3a35c66b59df0fa02e2490983b964261" category="list-text">Corrigido o problema com a inclusão de volume de bloco bruto em vários nós no modo RWX.</block>
  <block id="21b2b5bca26be7b23af4468b85c68b34" category="list-text">Suporte fixo à clonagem de FlexGroup e importação de volume para volumes SMB.</block>
  <block id="c16e7ed05955f3a772cc5e37988626a6" category="inline-link-macro">Problema nº 811</block>
  <block id="c8b742414af3be73bd16e0c1ed978ae5" category="list-text">Corrigido o problema em que o controlador Trident não podia desligar imediatamente (<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block>).</block>
  <block id="e82b00f6dda8d75f6267522d6e8e21b3" category="list-text">Correção adicionada para listar todos os nomes do grupo igrop associados a um LUN especificado provisionado com drivers ONTAP-San-*.</block>
  <block id="97848233b9fe6ae43be1728a4e603020" category="list-text">Adicionada uma correção para permitir que processos externos sejam executados até a conclusão.</block>
  <block id="3f32e3199847516d3773942171a3320e" category="inline-link-macro">Problema nº 537</block>
  <block id="8ac5248178b612abfaaec81ca7b06c94" category="list-text">Corrigido erro de compilação para a arquitetura s390 (<block ref="a2e3737cce03fa6e94f8357a427b1da2" category="inline-link-macro-rx"></block> ).</block>
  <block id="70d039054d2873e8b0f28587cb19086a" category="inline-link-macro">Problema nº 781</block>
  <block id="48b91d8b8b87d6d8c95cbc34bbae12e7" category="list-text">Corrigido o nível de registo incorreto durante as operações de montagem de volume (<block ref="8bb65f034421623db4038f879681c20b" category="inline-link-macro-rx"></block>).</block>
  <block id="6c85ef6d99d7dc6999989d8228ad56d9" category="inline-link-macro">Problema nº 802</block>
  <block id="6edadfcf2d991f369cdf934677bb161a" category="list-text">Corrigido erro de afirmação de tipo potencial (<block ref="e6bc1d779eb6c87e7246c3841e50b482" category="inline-link-macro-rx"></block> ).</block>
  <block id="c1748037d10cffabb8e95e4ccf77c613" category="section-title">Melhorias</block>
  <block id="bc5611c731b034c5f323419d0258aa44" category="list-text">Kubernetes:</block>
  <block id="afcf8fa41398f15ad38c5874372e9b4c" category="list-text">Adicionado suporte para Kubernetes 1,27.</block>
  <block id="67db0e94c8905c93eda71f86cb532e07" category="list-text">Adicionado suporte para importar volumes LUKS.</block>
  <block id="6de845032edacfacdf7599428fce6ce3" category="list-text">Adicionado suporte para o modo de acesso ao PVC ReadWriteOncePod.</block>
  <block id="9297bb6ec4e523b7875643c53cc9f528" category="list-text">Adicionado suporte para Force Detach para volumes ONTAP-SAN-* durante cenários de encerramento de nó não gracioso.</block>
  <block id="bf75c88234d165d6aa37891adda4465a" category="inline-link-macro">Problema nº 758</block>
  <block id="8ba74f6fd31160a630f1dc4eeb7d2e20" category="list-text">Todos os volumes ONTAP-SAN-* agora usarão grupos por nó. Os LUNs só serão mapeados para os grupos enquanto forem publicados ativamente nesses nós para melhorar a nossa postura de segurança. Os volumes existentes serão oportunisticamente comutados para o novo esquema de grupos quando o Trident determinar que é seguro fazê-lo sem afetar cargas de trabalho ativas (<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block> ).</block>
  <block id="79e79d7d8fe825308bd0e601daaa1131" category="list-text">Melhor segurança do Trident ao limpar grupos não utilizados gerenciados pelo Trident dos backends ONTAP-SAN-*.</block>
  <block id="18596399dedf47a387f514e9c9862876" category="list-text">Adicionado suporte para volumes SMB com o Amazon FSX para os drivers de armazenamento ONTAP-nas-Economy e ONTAP-nas-FlexGroup.</block>
  <block id="42bbebea36c49138518f54240583f571" category="list-text">Adicionado suporte para compartilhamentos SMB com os drivers de storage ONTAP-nas, ONTAP-nas-Economy e ONTAP-nas-FlexGroup.</block>
  <block id="4332590e7a6bcbdc2a06dc0e18c0731b" category="inline-link-macro">Problema nº 732</block>
  <block id="5a8fc8277a0f6ed003c225aa1e7c48b6" category="list-text">Adicionado suporte para arm64 nós (<block ref="c2778c70230759cdeecc0357ca334a05" category="inline-link-macro-rx"></block> ).</block>
  <block id="69ef45b431e1a60332ee3ce7e1a67645" category="list-text">Procedimento de encerramento aprimorado do Trident desativando primeiro os servidores API (<block ref="6916c682464f601a812aa726b7255568" category="inline-link-macro-rx"></block>).</block>
  <block id="be70537c794b0fc1d909e1bf6ffbbc59" category="list-text">Adicionado suporte de compilação entre plataformas para Windows e hosts arm64 para Makefile; veja BUILD.md.</block>
  <block id="a4233200da50a08b295311036bb03ac1" category="section-title">Desvalorizações</block>
  <block id="6f03549bdf867b6dbabec83da444ffcf" category="paragraph">**Kubernetes: Os grupos com escopo de back-end** não serão mais criados ao configurar drivers ONTAP-san e ONTAP-san-Economy (<block ref="9c63b965233843690f19867523ba780c" category="inline-link-macro-rx"></block>).</block>
  <block id="7558c614baceb6010756b848dd26325e" category="section-title">Mudanças em 23.01.1</block>
  <block id="b2fc842cefdc715af09b8d184e09db56" category="list-text">Permissões fixas da função de cluster do operador do Trident para estar em sincronia com as permissões do pacote <block ref="25d51e363866fb30c759c73e05114b0d" category="inline-link-macro-rx"></block>.</block>
  <block id="190a9f9a8311c8a23bff1fd7a5693342" category="section-title">Mudanças em 23,01</block>
  <block id="d7393ea674321a4e126b601e3097f2ec" category="admonition">O Kubernetes 1,27 agora é compatível com o Trident. Atualize o Astra Trident antes de atualizar o Kubernetes.</block>
  <block id="1a87abd79c966e67f73bbe738ffa4e59" category="inline-link-macro">Problemas nº 783, nº 794</block>
  <block id="3e45ffbc961fc6c429b6e91f16331ee5" category="list-text">Kubernetes: Adicionadas opções para excluir a criação da Diretiva de Segurança do Pod para corrigir instalações do Trident via Helm (<block ref="f91cf268a0811064670bc9d51a6e2016" category="inline-link-macro-rx"></block>).</block>
  <block id="a47f012619aa18f9e2c0fbb53d5878d9" category="list-text">Adicionado suporte para Kubernetes 1,26.</block>
  <block id="d87b63603588c1795f58658ee14e505f" category="inline-link-macro">Problema nº 757</block>
  <block id="8e3bb4ae68afca021f39502f7954a450" category="list-text">Utilização geral aprimorada de recursos RBAC do Trident (<block ref="92a5fe29b2be509e7db5f2091f236ee0" category="inline-link-macro-rx"></block>).</block>
  <block id="2508a7d2b2da760ab909b40a284aff9f" category="list-text">Automação adicionada para detetar e corrigir sessões iSCSI quebradas ou obsoletas em nós de host.</block>
  <block id="80a9d5ab26eec41d6d6967415e991c91" category="list-text">Adicionado suporte para expandir volumes criptografados LUKS.</block>
  <block id="1e209dc1ac5964d0a9b1f9c2e9f2fc83" category="list-text">Kubernetes: Suporte à rotação de credenciais adicionado para volumes criptografados LUKS.</block>
  <block id="086e6c16e3fe8e13c336612ef636aa02" category="list-title">Astra Trident</block>
  <block id="c8f16bbec47a1722c0f16f173cf64d21" category="list-text">Adicionado suporte para volumes SMB com o Amazon FSX for ONTAP para o driver de armazenamento ONTAP-nas.</block>
  <block id="8ce5e316405255bac435287fc5b61f0e" category="list-text">Adicionado suporte para permissões NTFS ao usar volumes SMB.</block>
  <block id="e67f9f12d1f7c510d94da478c87b7d19" category="list-text">Adicionado suporte a pools de storage para volumes do GCP com nível de serviço CVS.</block>
  <block id="493569102442ea9186ac1061bb527388" category="list-text">Adicionado suporte para uso opcional do flexgroupAggregateList ao criar FlexGroups com o driver de armazenamento ONTAP-nas-FlexGroup.</block>
  <block id="af2331cf2d8ade7bb48e4d540510db26" category="list-text">Desempenho aprimorado para o driver de storage econômico ONTAP nas ao gerenciar vários FlexVols.</block>
  <block id="c26c6c796afe3b5c10e0c830715daf3a" category="list-text">Atualizações de dataLIF habilitadas para todos os drivers de storage nas do ONTAP.</block>
  <block id="56f71deb4744b8ffc7a92bde36d3f4d4" category="list-text">Atualização da convenção de nomenclatura Trident Deployment e DaemonSet para refletir o sistema operacional do nó host.</block>
  <block id="6ea33f83a7d973b1fa7de807364662d4" category="list-text">Kubernetes: Mínimo atualizado com suporte de Kubernetes para 1,21.</block>
  <block id="25854d9b7e460f2667b773a052ff6830" category="list-text">Os LIFs de dados não devem mais ser especificados ao configurar<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> ou<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> drivers.</block>
  <block id="562840ed450b90bfe87c70479237a8da" category="section-title">Mudanças em 22,10</block>
  <block id="027daea9679099cb5b0c6ddd862f1afc" category="paragraph">*Você deve ler as seguintes informações críticas antes de atualizar para o Astra Trident 22,10.*</block>
  <block id="83261c9e7e65d5ffc2d188c07767e5f6" category="admonition-title">&lt;strong&gt; informações críticas sobre o Astra Trident 22.10 &lt;/strong&gt;</block>
  <block id="c5d2d3c8dfa65a831c35d09ac4683434" category="list-text">O Kubernetes 1,25 agora é compatível com o Trident. É necessário atualizar o Astra Trident para 22,10 antes da atualização para o Kubernetes 1,25.</block>
  <block id="27418d8553177383cd6e1bb0e1ce4a57" category="list-text">O Astra Trident agora reforça estritamente o uso de configuração multipathing em ambientes SAN, com um valor recomendado de<block ref="db729c5c8df447087e5a84b961df14f6" prefix=" " category="inline-code"></block> no arquivo multipath.conf.</block>
  <block id="84ec6afbbe3e33afb3eba2b0375718b1" category="inline-link-macro">Problema nº 759</block>
  <block id="e07bc583b0f70b05fdbb1008303e8f85" category="list-text">Corrigido um problema específico para o back-end do ONTAP criado usando<block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix=" " category="inline-code"></block> campo que não aparece on-line durante a atualização do 22.07.0 (<block ref="294e408500bc8358b70c680986c23bdb" category="inline-link-macro-rx"></block> ).</block>
  <block id="958424a347179b6856de7610a2b99b8d" category="inline-link-macro">Problema nº 548</block>
  <block id="9663034bca37c0603d813726d885503d" category="inline-link-macro">Problema nº 760</block>
  <block id="26d08c0516dec92a4420f06d4da4fcf1" category="list-text">**Docker:** corrigiu um problema que fazia com que o plugin de volume do Docker não iniciasse em alguns ambientes (<block ref="78b7b57a86c570439562f2c638103de5" category="inline-link-macro-rx"></block> e <block ref="968dd574470c019c42c32878b5799fe9" category="inline-link-macro-rx"></block>).</block>
  <block id="120b67b07f827aba020a1e3932877333" category="list-text">Corrigido problema de SLM específico para backends de SAN ONTAP para garantir que apenas um subconjunto de LIFs de dados pertencentes a nós de relatório seja publicado.</block>
  <block id="8f9d66f5cbbd4fc027dbd00d46032c8e" category="list-text">Corrigido problema de desempenho em que verificações desnecessárias para iSCSI LUNs aconteceram ao anexar um volume.</block>
  <block id="4a9eb9834d90361e1b70e6ac3c8b9a5c" category="list-text">Novas tentativas granulares removidas dentro do fluxo de trabalho iSCSI Astra Trident para falhar rapidamente e reduzir os intervalos de tentativas externas.</block>
  <block id="08e9e62a917aaf944b6ff85929a9f1dd" category="list-text">Corrigido o problema em que um erro foi retornado ao lavar um dispositivo iSCSI quando o dispositivo multipath correspondente já estava lavado.</block>
  <block id="ef0f938ae67a04ac3370fe516c2a6baf" category="list-text">Adicionado suporte para Kubernetes 1,25. É necessário atualizar o Astra Trident para 22,10 antes da atualização para o Kubernetes 1,25.</block>
  <block id="98f7f8fbd26f9272ad6a29f2fb6c930b" category="list-text">Adicionado um ServiceAccount separado, ClusterRole e ClusterRoleBinding para a implantação do Trident e DaemonSet para permitir melhorias futuras de permissões.</block>
  <block id="609df46dff884c3eec4386eb8db4e358" category="inline-link-macro">compartilhamento de volume entre namespace</block>
  <block id="d041a310ba7cc2599250e64801594107" category="list-text">Adicionado suporte para <block ref="ca184a2eda203b6d98158bdf24e5cf7d" category="inline-link-macro-rx"></block>.</block>
  <block id="09065204259df86d4fe38c35ea23f5af" category="list-text">Todos os drivers de storage Trident<block ref="aa44e980d222d5134b5e0d8a062e1543" prefix=" " category="inline-code"></block> agora funcionam com a API REST do ONTAP.</block>
  <block id="8485ea08789af7b6b7b44e024b526f9b" category="list-text">Adicionado novo operador yaml <block ref="5a02ebff4889c2de0379a0fb10bed282" prefix="(" category="inline-code"></block>) sem um<block ref="316707d12484dd3afede08839dee49bc" prefix=" " category="inline-code"></block> para oferecer suporte ao Kubernetes 1,25.</block>
  <block id="26e871bef43095263845143b043aee4f" category="inline-link-macro">Suporte para volumes criptografados com LUKS</block>
  <block id="816cf1fb2aa5f808ab09b4740f8ec199" category="list-text">Adicionado <block ref="d387032e9d71b36f3d6219f60f33a659" category="inline-link-macro-rx"></block> para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> drivers de armazenamento.</block>
  <block id="30b044636a9c63ab4b202192eec30c1c" category="list-text">Adicionado suporte para nós do Windows Server 2019.</block>
  <block id="38b9dc57f44121e6d970b34eede9ad0d" category="inline-link-macro">Suporte para volumes SMB em nós do Windows</block>
  <block id="adbfe36f6399f2846983b2901604a962" category="list-text">Adicionado <block ref="40be42d37bc6014716dcd0a1d368ffb5" category="inline-link-macro-rx"></block> através do<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> driver de armazenamento.</block>
  <block id="66f2c42a4ca561f5472459301bc7d096" category="list-text">A deteção automática de comutação MetroCluster para controladores ONTAP está agora disponível em geral.</block>
  <block id="af8a9d07c7391207db96957ab59cb459" category="list-text">**Kubernetes:** atualizado com o mínimo de Kubernetes compatível para 1,20.</block>
  <block id="d667cfc8e8d6ec0c2352fe97b0f09e40" category="list-text">Driver do Astra Data Store (ADS) removido.</block>
  <block id="9b363ea2db99fe0dc5e9b43f47a37f20" category="list-text">Removido o suporte<block ref="a6105c0a611b41b08f1209506350279e" prefix=" " category="inline-code"></block> e<block ref="8c319f28d81d1527a9428e9a5c2195f5" prefix=" " category="inline-code"></block> as opções para<block ref="19b30dc119e514235b739e076be9b3cc" prefix=" " category="inline-code"></block> quando configurar multipathing de nó de trabalho para iSCSI.</block>
  <block id="1407cfeeb5e3916e1435ddea0f1c0a28" category="section-title">Mudanças em 22,07</block>
  <block id="05759468b045fc55d22e8e6881dca01f" category="paragraph">**Kubernetes**</block>
  <block id="a885c202ff7951e3ed11491edbe869b2" category="inline-link-macro">GitHub Edição nº 700</block>
  <block id="b649490c5687c23484f5e4043e17b9c5" category="list-text">Corrigido problema para lidar com valores booleanos e numéricos para o seletor de nó ao configurar o Trident com Helm ou o Operador Trident. (<block ref="4be853b49b0a07556a73959d38037d90" category="inline-link-macro-rx"></block>)</block>
  <block id="0ae28ee1c5edfd4bee3e296a8261ed8b" category="inline-link-macro">GitHub Edição nº 736</block>
  <block id="69ce5488c3078e15fc6e51116d1d17ba" category="list-text">Corrigido problema no tratamento de erros do caminho não-CHAP, de modo que kubelet irá tentar novamente se falhar. <block ref="a21b5d75e3a2341288a5ed769d7d4ca2" category="inline-link-macro-rx"></block>)</block>
  <block id="701ba87ab75dde70f4604769defc7d00" category="list-text">Transição do k8s.gcr.io para o registry.k8s.io como Registro padrão para imagens CSI</block>
  <block id="99836a64b28c522e35a15aa0a4b39257" category="list-text">Os volumes ONTAP-SAN agora usarão grupos por nó e mapearão apenas LUNs para grupos enquanto são publicados ativamente nesses nós para melhorar nossa postura de segurança. Os volumes existentes serão oportunisticamente comutados para o novo esquema do grupo quando o Astra Trident determinar que é seguro fazê-lo sem afetar cargas de trabalho ativas.</block>
  <block id="90e3cd7cff1c9f6f4b8d2a509b127d44" category="list-text">Incluído um ResourceQuota com instalações Trident para garantir que o Trident DaemonSet seja programado quando o consumo de PriorityClass é limitado por padrão.</block>
  <block id="838a6d7e89b7c366cfc25d3b2115b901" category="inline-link-macro">GitHub Edição nº 717</block>
  <block id="83a65beedcdd811d7b3b4fe9d2c4614f" category="list-text">Adicionado suporte a recursos de rede ao driver do ANF. (<block ref="e0e89f8bd936a5eb3adce74cac88eab0" category="inline-link-macro-rx"></block>)</block>
  <block id="cab6f6f91105d87aa3f65650df43c553" category="inline-link-macro">GitHub Edição nº 228</block>
  <block id="00ea108f36897d9ed3523b970b09e6ea" category="list-text">Adicionada deteção automática de comutação MetroCluster de pré-visualização técnica aos drivers ONTAP. (<block ref="0c9c84232975bfb33d3481050e5ef924" category="inline-link-macro-rx"></block>)</block>
  <block id="0b4fe975279063a2d1790cd061a8b8d1" category="list-text">**Kubernetes:** atualizado com o mínimo de Kubernetes compatível para 1,19.</block>
  <block id="108e9d089b04380952a04c1021cdad80" category="list-text">A configuração de backend não permite mais vários tipos de autenticação em uma única configuração.</block>
  <block id="3f39a3207529d5f8129199a33e60ef87" category="section-title">Remoções</block>
  <block id="de278730ee66ed696db3f71d20aa30a5" category="list-text">O driver do AWS CVS (obsoleto desde 22,04) foi removido.</block>
  <block id="16cbbf51150ac75556b3850ff4a5a013" category="list-text">Removido recurso SYS_ADMIN desnecessário dos pods de nós.</block>
  <block id="9f0be62f4bbebd42af8782e0151af649" category="list-text">Reduz o nodeprep para informações simples de host e descoberta de serviço ativo para confirmar o melhor esforço de que os serviços NFS/iSCSI estão disponíveis nos nós de trabalho.</block>
  <block id="5b6cf869265c13af8566f192b4ab3d2a" category="section-title">Documentação</block>
  <block id="d3889fc650fa47326b5f1d0c56f50970" category="inline-link-macro">Padrões de segurança do pod</block>
  <block id="4e8effbd512bb14dbe10454c0f045ff2" category="paragraph">Uma nova <block ref="305368b4f0d008a807e095ab9da58448" category="inline-link-macro-rx"></block>seção (PSS) foi adicionada detalhando as permissões habilitadas pelo Astra Trident na instalação.</block>
  <block id="278dc4a29aa2b881b9dc4b45a82929c5" category="section-title">Mudanças em 22,04</block>
  <block id="368b120a3b5f53a49dc3ab96ec9b8dbd" category="paragraph">A NetApp está continuamente melhorando e aprimorando seus produtos e serviços. Aqui estão alguns dos recursos mais recentes do Astra Trident. Para versões anteriores,<block ref="25da125dffad1d6323c21354bccf0203" category="inline-link-rx"></block>consulte .</block>
  <block id="7072ec708b0ea7e3243747d8b79c0d20" category="admonition">Se você estiver atualizando de qualquer versão anterior do Trident e usar o Azure NetApp Files, o <block ref="d5189de027922f81005951e6efe0efd5" prefix="" category="inline-code"></block> parâmetro config agora é um campo único obrigatório.</block>
  <block id="cb60f101c87f3def78d0fef168389244" category="inline-link-macro">GitHub Edição nº 681</block>
  <block id="2901fba3b85d37ea6000d90e72366ba6" category="list-text">Análise melhorada de nomes de iniciadores iSCSI. (<block ref="3947f141b94c1867221790f45a6ee173" category="inline-link-macro-rx"></block>)</block>
  <block id="8804e61e26be921d78a1632ad8607a4c" category="inline-link-macro">GitHub Edição nº 598</block>
  <block id="d0aad022e470a22fe71fa5616ce002f8" category="list-text">Corrigido problema em que os parâmetros da classe de armazenamento CSI não eram permitidos. (<block ref="032ea6b8f2fceffcd025bdcae99652ae" category="inline-link-macro-rx"></block>)</block>
  <block id="34fb36c5e51f4530848bc5114cf29aa7" category="inline-link-macro">GitHub Edição nº 671</block>
  <block id="951995417edc5c2968955384b925b27e" category="list-text">Declaração de chave duplicada corrigida no CRD Trident. (<block ref="6e73ffca3c5d1dc68cd639612845812c" category="inline-link-macro-rx"></block>)</block>
  <block id="55cd7443e4a1278a57f612df28b8eee3" category="inline-link-macro">GitHub Edição nº 629</block>
  <block id="ec74c645b7b5f9d3051f68de156927d9" category="list-text">Corrigidos registos de instantâneos do CSI imprecisos. (<block ref="9b20149e8d36c115b9349e728abebd54" category="inline-link-macro-rx"></block> ))</block>
  <block id="a98b2ebbcbb381d3abc81e2ecfb2054c" category="inline-link-macro">GitHub Edição nº 691</block>
  <block id="28341d7630f486a1b72b5b97d39ce589" category="list-text">Corrigido o problema com a remoção de volumes em nós excluídos. (<block ref="439c8b5253b3b0fa8d2ddb79f44cd784" category="inline-link-macro-rx"></block>)</block>
  <block id="fbb82269f3871bc5751dda6ade9cd9ea" category="inline-link-macro">GitHub Edição nº 656</block>
  <block id="e02171b3da303c0d6b9bd3102650bb07" category="list-text">Adição de manipulação de inconsistências de sistema de arquivos em dispositivos de bloco. (<block ref="b6c419ed0f79d6957e3796ca0e0742cb" category="inline-link-macro-rx"></block>)</block>
  <block id="1bae87f1c9d9a094dce218672331de02" category="inline-link-macro">GitHub Edição nº 715</block>
  <block id="4aeb6a7748e689a0ce92c16344bb6285" category="list-text">Corrigido problema ao puxar imagens de suporte automático ao definir o<block ref="990dc1a09e10c7b5378e6bc8a1956cb8" prefix=" " category="inline-code"></block> sinalizador durante a instalação. (<block ref="5f789d3f3d58c42cfbeb0b6394bac993" category="inline-link-macro-rx"></block>)</block>
  <block id="682c6ce09c9faae3a3e22c55c8db592e" category="list-text">Corrigido o problema em que o driver do ANF não conseguiu clonar um volume com várias regras de exportação.</block>
  <block id="70703300e76c51632e4ea22ce53c74af" category="inline-link-macro">GitHub Edição nº 698</block>
  <block id="99df1eeec5b67fac5a47fb610c720712" category="list-text">As conexões de entrada para os endpoints seguros da Trident agora exigem um mínimo de TLS 1,3. (<block ref="5ab4d3faf45db0d93ac1a5f7438f1c62" category="inline-link-macro-rx"></block>)</block>
  <block id="723b30bcece2d0d47914a6eaf0c550cc" category="list-text">O Trident agora adiciona cabeçalhos HSTS às respostas de seus endpoints seguros.</block>
  <block id="621b9733ee07089711b96dd6b0b7861a" category="list-text">O Trident agora tenta ativar o recurso de permissões unix do Azure NetApp Files automaticamente.</block>
  <block id="3786cba0bc294f586b13783c69b08371" category="inline-link-macro">GitHub Edição nº 694</block>
  <block id="c0f60be70f5b8a5bc6c7c8071f4481fb" category="list-text">*Kubernetes*: O daemonset do Trident agora é executado na classe de prioridade crítica do nó do sistema. (<block ref="b04869f92878b510e393bc41361c825d" category="inline-link-macro-rx"></block>)</block>
  <block id="3d0d8392962843a02a6fa979f76b5a91" category="paragraph">O driver da série e (desativado desde 20,07) foi removido.</block>
  <block id="72387bfdb0acfd8a27877f000a3abeac" category="section-title">Mudanças em 22.01.1</block>
  <block id="61465c1d4383dd4afdf168925e15e767" category="list-text">Corrigido o problema com a remoção de volumes em nós excluídos. (<block ref="5fee6ab43e8008edba54375694a29266" category="inline-link-macro-rx"></block>)</block>
  <block id="e50f1057ba4b67b255c98fa09c5ba6f8" category="list-text">Corrigido o pânico ao acessar campos nil para espaço agregado nas respostas da API do ONTAP.</block>
  <block id="135c438d01a49275c458e22005e39c6e" category="section-title">Mudanças em 22.01.0</block>
  <block id="3c72f47eeb46270dd13a77b32ec10dd3" category="list-text">*Kubernetes:* aumente o tempo de repetição do backoff do Registro de nós para clusters grandes.</block>
  <block id="0ef48234390855900384d0bc8a0a8a24" category="list-text">Corrigido problema em que o driver azure-NetApp-Files poderia ser confundido por vários recursos com o mesmo nome.</block>
  <block id="7eaa7391130c13b3bf9a7e4ae755d908" category="list-text">Os LIFs de dados SAN IPv6 da ONTAP agora funcionam se especificados com colchetes.</block>
  <block id="404cef2e43cb97ccef52692419ad6f6b" category="inline-link-macro">GitHub Edição nº 489</block>
  <block id="7213ed07f5b718aa66cfac350f023a77" category="list-text">Corrigido o problema em que a tentativa de importar um volume já importado retorna EOF deixando PVC em estado pendente. (<block ref="b9a2290d6389b9a605883cda4e717749" category="inline-link-macro-rx"></block>)</block>
  <block id="c28d8c94f865f3ef7e4b01a157510ef6" category="list-text">Corrigido o problema quando a performance do Astra Trident diminui quando são criados snapshots &gt; 32 em um volume SolidFire.</block>
  <block id="d0aaca968285d0d47ea0c5a0f7b9bab5" category="list-text">Substituído SHA-1 por SHA-256 na criação de certificado SSL.</block>
  <block id="b956e1f58f802db57dd9f871ac59ed6c" category="list-text">Driver do ANF fixo para permitir nomes duplicados de recursos e limitar operações a um único local.</block>
  <block id="851679bec9b3e6c8e6284128fb750b1e" category="list-text">Melhorias do Kubernetes:</block>
  <block id="2767b461b2b49786f390c9e0509d2d12" category="list-text">Adicionado suporte para Kubernetes 1,23.</block>
  <block id="7f10502f6f15537f180f07f0c89d2642" category="inline-link-macro">GitHub Edição nº 651</block>
  <block id="2ff7a365e7c341f8f381cd7c2a4e15f6" category="list-text">Adicione opções de agendamento para pods Trident quando instalado via Operador Trident ou Helm. (<block ref="15fbe6dcd60762941b28bc5990803bde" category="inline-link-macro-rx"></block>)</block>
  <block id="90fdd892e78b26eb18a250c9c1bc19ff" category="inline-link-macro">GitHub Edição nº 633</block>
  <block id="3ff8e54aa1f3735deb64771c4c65c420" category="list-text">Permitir volumes entre regiões no driver do GCP. (<block ref="efd445659801b6abfdba2997e23e5f4f" category="inline-link-macro-rx"></block>)</block>
  <block id="fef8c75d6cd00955b0f1c84d40af01aa" category="inline-link-macro">GitHub Edição nº 666</block>
  <block id="9f81aabbbba9f61bfecaf1340c407ed1" category="list-text">Adicionado suporte para a opção 'unixPermissions' aos volumes do ANF. (<block ref="b2ee1a79cce917ad1d60b3bec442914a" category="inline-link-macro-rx"></block>)</block>
  <block id="de6284c149d2e011da3909f1ef2af627" category="paragraph">A interface REST do Trident pode ouvir e servir apenas em endereços 127.0.0.1 ou [::1]</block>
  <block id="58a2e8c17107cc1ca9cb1317cd0c1ee9" category="section-title">Mudanças em 21.10.1</block>
  <block id="cdb544a92bee555749f43046d53ef34e" category="admonition">A versão v21.10.0 tem um problema que pode colocar o controlador Trident em um estado CrashLoopBackOff quando um nó é removido e depois adicionado de volta ao cluster do Kubernetes. Esse problema foi corrigido no v21,10.1 (GitHub Issue 669).</block>
  <block id="cd1bf2431d703fd3c62a278b9c812d56" category="list-text">Condição de corrida potencial fixa ao importar um volume em um back-end CVS do GCP, resultando em falha na importação.</block>
  <block id="8e1e1dad95de3dc781f25f58483acdf3" category="list-text">Corrigido um problema que pode colocar o controlador Trident em um estado CrashLoopBackOff quando um nó é removido e depois adicionado de volta ao cluster do Kubernetes (problema 669 do GitHub).</block>
  <block id="d7c32cb5ff2be4aaff3a8eaea9d18e0d" category="list-text">Corrigido o problema em que os SVMs não eram mais descobertos se nenhum nome SVM foi especificado (problema 612 do GitHub).</block>
  <block id="43e92857220d1a7ea1da88250ea5e2e3" category="section-title">Mudanças em 21.10.0</block>
  <block id="a6e7aa999ba654c6844672ae59f5137a" category="list-text">Corrigido o problema em que clones de volumes XFS não podiam ser montados no mesmo nó que o volume de origem (problema 514 do GitHub).</block>
  <block id="4a921ae3eb8c2695dabd4044ff81141a" category="list-text">Corrigido o problema em que o Astra Trident registrou um erro fatal no desligamento (problema 597 do GitHub).</block>
  <block id="852acc81ea6fa7363b73c5313002de83" category="list-text">Correções relacionadas ao Kubernetes:</block>
  <block id="f94cc5159119c43751041256941deb2c" category="list-text">Retorne o espaço usado de um volume como o mínimo restoresSize ao criar snapshots com<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers e<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> (GitHub Issue 645).</block>
  <block id="742ce2e3c9c8496323bd1176af2838a4" category="list-text">Corrigido o problema em que<block ref="c80aaf836310b4d6ad1f810928cbb5d2" prefix=" " category="inline-code"></block> o erro foi registrado após o redimensionamento de volume (GitHub problema 560).</block>
  <block id="9a445ecbad9af70a94bd7558ba95e059" category="list-text">Corrigido o problema em que um pod poderia ficar preso<block ref="720f84c3d4dcb9a556ac6adfd1e75b8c" prefix=" " category="inline-code"></block> no estado (GitHub problema 572).</block>
  <block id="4f81c320a621b8c9d81c7334f2cffc71" category="list-text">Corrigido o caso em que um<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> FlexVol pode estar cheio de LUNs instantâneos (GitHub problema 533).</block>
  <block id="169c3be63dd22b315ed7884e246338de" category="list-text">Corrigido o problema do instalador personalizado YAML com imagem diferente (problema 613 do GitHub).</block>
  <block id="1077a1a91a96498c2f56bc630e632eee" category="list-text">Corrigido cálculo do tamanho do instantâneo (GitHub edição 611).</block>
  <block id="fe705e5b02638736087c9fd97b2c4952" category="list-text">Corrigido o problema em que todos os instaladores do Astra Trident podiam identificar o Kubernetes simples como OpenShift (problema 639 do GitHub).</block>
  <block id="27b76ffa775f907a1fd51f21a669551b" category="list-text">Corrigido o operador do Trident para parar a reconciliação se o servidor da API do Kubernetes não estiver acessível (problema 599 do GitHub).</block>
  <block id="1f9e922b6eff6cb06fca1ed9137eed38" category="list-text">Adicionado suporte à<block ref="c005e78d4bd808038335c32dd84cf7da" prefix=" " category="inline-code"></block> opção para volumes de performance do GCP-CVS.</block>
  <block id="294b850a76a040c20913e76c2fe6589a" category="list-text">Adicionado suporte para volumes CVS otimizados para escala no GCP na faixa de 600 GiB a 1 TIB.</block>
  <block id="0333eb54465646b87754facff75fdb5f" category="list-text">Aprimoramentos relacionados ao Kubernetes:</block>
  <block id="c32aa411caa1ffd0e30a271f5be834d9" category="list-text">Adicionado suporte para Kubernetes 1,22.</block>
  <block id="fa1fd8841173fa7ccde5059fb7c2f903" category="list-text">Habilitou o operador do Trident e o gráfico Helm para trabalhar com o Kubernetes 1,22 (GitHub Issue 628).</block>
  <block id="dbaa551f190105e514f7816811f4b397" category="list-text">Adicionado a imagem do operador ao<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> comando imagens (GitHub Issue 570).</block>
  <block id="be575f1ff204f2800114965a5c0d8575" category="section-title">Melhorias experimentais</block>
  <block id="29ddf941d9825cc9283521ee90468595" category="list-text">Adicionado suporte para replicação de volume no<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> driver.</block>
  <block id="e2f2b85987da5e2397c1e342a6fd9e28" category="list-text">Adicionado suporte REST *Tech Preview* para os<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> drivers ,<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>, e<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> .</block>
  <block id="95dc0391ce7b396d7dd5622284e8fc3e" category="section-title">Problemas conhecidos</block>
  <block id="64a8f71bee95a6635e88bce00f1a2d3c" category="paragraph">Problemas conhecidos identificam problemas que podem impedi-lo de usar o produto com sucesso.</block>
  <block id="572b1d7e33a1c667884a1ffdff7a2d25" category="list-text">Agora, o Astra Trident aplica um espaço em<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> <block ref="6d8a605a6037c779649e91ad03a19c1c" prefix="(" category="inline-code"></block>branco ) para volumes que não têm o<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> especificado em seu StorageClass. Ao trabalhar com o Kubernetes 1,17 ou posterior, a Trident dá suporte a fornecer um espaço em branco<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> para volumes NFS. Para volumes iSCSI, é necessário definir o<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> no StorageClass ao aplicar um<block ref="c7a6c0ee60c6f68dfe700feaacf15703" prefix=" " category="inline-code"></block> contexto de uso de segurança.</block>
  <block id="91186d69835ccf9911e356f74938c539" category="list-text">Ao usar um back-end em várias instâncias do Astra Trident, cada arquivo de configuração de back-end deve ter um valor diferente<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> para backends do ONTAP ou usar um diferente<block ref="2e9183e3f034dbf1322a3385f151456e" prefix=" " category="inline-code"></block> para backends do SolidFire. O Astra Trident não consegue detectar volumes que outras instâncias do Astra Trident criaram. Tentar criar um volume existente em backends ONTAP ou SolidFire é bem-sucedido, porque o Astra Trident trata a criação de volume como uma operação idempotente. Se<block ref="ed66bef2b107983b6e4066fddf8c45c3" prefix=" " category="inline-code"></block> ou<block ref="2e9183e3f034dbf1322a3385f151456e" prefix=" " category="inline-code"></block> não forem diferentes, pode haver colisões de nomes para volumes criados no mesmo back-end.</block>
  <block id="9bf4c601179068ff3574d2cf87536564" category="list-text">Ao instalar o Astra Trident (usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> ou o Operador Trident) e usar<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> para gerenciar o Astra Trident, você deve garantir que a<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> variável de ambiente esteja definida. Isso é necessário para indicar o cluster do Kubernetes com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> quem trabalhar. Ao trabalhar com vários ambientes do Kubernetes, você deve garantir que o<block ref="39e7fa5a13dbc25a4aa8c4b323cd657c" prefix=" " category="inline-code"></block> arquivo seja obtido com precisão.</block>
  <block id="6d791d3b45515fd8619e489b938f39e8" category="inline-link">opção de montagem</block>
  <block id="a5c785ee36f0f2d14349653f744c8e3b" category="list-text">Para executar a recuperação de espaço on-line para PVS iSCSI, o SO subjacente no nó de trabalho pode exigir que as opções de montagem sejam passadas para o volume. Isso é verdade para instâncias RHEL/RedHat CoreOS, que exigem o<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block><block ref="2ee633fb26bfccf07d490458d29f92a2" category="inline-link-rx"></block>; Certifique-se de que a opção Descartar mountOption está incluída no seu<block ref="15699dd651c6fec3ed329f2bf55d54b4" category="inline-link-rx"></block><block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix="[" category="inline-code"></block>site para suportar descarte de blocos online.</block>
  <block id="c2ebda3702872aaa7ad44122f2343d7e" category="list-text">Se você tiver mais de uma instância do Astra Trident por cluster Kubernetes, o Astra Trident não poderá se comunicar com outras instâncias e não poderá descobrir outros volumes que eles criaram, o que leva a um comportamento inesperado e incorreto se mais de uma instância for executada em um cluster. Só deve haver uma instância do Astra Trident por cluster Kubernetes.</block>
  <block id="294f8c33b7ccdbcbf422998b64c9c931" category="list-text">Se os objetos baseados no Astra Trident<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> forem excluídos do Kubernetes enquanto o Astra Trident estiver off-line, o Astra Trident não removerá as classes de storage correspondentes de seu banco de dados quando ele voltar on-line. Você deve excluir essas classes de armazenamento usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> ou a API REST.</block>
  <block id="ddab3f1d971a7608afb4c30c688a32ac" category="list-text">Se um usuário excluir um PV provisionado pelo Astra Trident antes de excluir o PVC correspondente, o Astra Trident não excluirá automaticamente o volume de backup. Você deve remover o volume via<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> ou a API REST.</block>
  <block id="0821431aba133adbfa7fa0ca1781eedd" category="list-text">A ONTAP não pode provisionar simultaneamente mais de um FlexGroup de cada vez, a menos que o conjunto de agregados seja exclusivo para cada solicitação de provisionamento.</block>
  <block id="38699c45ccc629a8b46bd780d7aef2f6" category="list-text">Ao usar o Astra Trident mais de IPv6 TB, você deve especificar<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> e<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> na definição de back-end entre colchetes. Por exemplo, <block ref="cbd17d3c94dc0ed51eeeab01d2ae8741" prefix="" category="inline-code"></block>.</block>
  <block id="001bb59b1bc94ca13afb90cc0e7a4ed5" category="admonition">Não é possível especificar<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> em um back-end de SAN ONTAP. O Astra Trident descobre todas as LIFs iSCSI disponíveis e as usa para estabelecer a sessão multipath.</block>
  <block id="18c20e5d2e368f36f420dd39019d460f" category="list-text">Se estiver usando<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> o driver com OpenShift 4,5, certifique-se de que os nós de trabalho subjacentes usem MD5 como o algoritmo de autenticação CHAP. Os algoritmos CHAP seguros compatíveis com FIPS SHA1, SHA-256 e SHA3-256 estão disponíveis com o Element 12,7.</block>
  <block id="9c83e144e5481ac6766f4055e566594d" category="section-title">Encontre mais informações</block>
  <block id="e9a7080bd6d1b50ff15cef6f14fa1d64" category="inline-link">Astra Trident no GitHub</block>
  <block id="b94e036fb032554ca486dd8fc2e3fafe" category="list-text"><block ref="b94e036fb032554ca486dd8fc2e3fafe" category="inline-link-rx"></block></block>
  <block id="3334dfda9735f9b3ed55a34ef316b599" category="inline-link">Blogs do Astra Trident</block>
  <block id="d090b5d97388b77aa02e5d1203c037a0" category="list-text"><block ref="d090b5d97388b77aa02e5d1203c037a0" category="inline-link-rx"></block></block>
  <block id="481e993a13f6d4f981acc2da60465e2a" category="summary">Saiba mais sobre as opções de configuração de back-end NFS e SMB para ANF e revise exemplos de configuração.</block>
  <block id="17a48ec106d5505e674ccdf56fce1058" category="doc">Exemplos e opções de configuração de back-end do Azure NetApp Files</block>
  <block id="15b7c7ffe264d7b8c61915ff2a6ef96c" category="section-title">Opções de configuração de back-end</block>
  <block id="4bb587d1662752a66d32e629a36d70c0" category="paragraph">O Astra Trident usa sua configuração de back-end (sub-rede, rede virtual, nível de serviço e local) para criar volumes de ANF em pools de capacidade disponíveis no local solicitado e que correspondam ao nível de serviço e à sub-rede solicitados.</block>
  <block id="5fe26149fa172056aee5f841415c55fa" category="admonition">O Astra Trident não é compatível com pools de capacidade de QoS manual.</block>
  <block id="1a5743e0279e48054d3f9bb1ebc7e266" category="paragraph">Os backends do ANF oferecem essas opções de configuração.</block>
  <block id="40e27006e7b709772172391a3d17b331" category="cell">Sempre 1</block>
  <block id="5aae2c40b50d296edbd4ba9cfb462b49" category="cell">Nome do controlador de armazenamento</block>
  <block id="3e566c45584d66d2ab94c2108f7c3488" category="cell">"ficheiros azure-NetApp"</block>
  <block id="f5b55596d3f53b1857a4980dac9db979" category="cell"><block ref="a3d5885ebdbdbb3f39c48e483cc04978" prefix="" category="inline-code"></block></block>
  <block id="5afd6479855e8d63f324b6ec2fa787b4" category="cell">Nome personalizado ou back-end de storage</block>
  <block id="9dd18f393b35bf22098cf53e9c1c7fa6" category="cell">Nome do condutor e carateres aleatórios</block>
  <block id="665120e71659a6a32f990a3181688d1b" category="cell"><block ref="8c443e170595ba0feac007ffb92cb49a" prefix="" category="inline-code"></block></block>
  <block id="b2ad290b003ccdce2a538f49a795f281" category="cell">O ID da assinatura da sua assinatura do Azure</block>
  <block id="e07778d10cef90430253876cba7157e4" category="cell"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block></block>
  <block id="2975d48342e428a3b18123f85ed0ecb5" category="cell">O ID do locatário de um Registro de aplicativo</block>
  <block id="949ba1045db0d48bd189044e672d8097" category="cell"><block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix="" category="inline-code"></block></block>
  <block id="2c07e9234f0df0d4c8887a04f7e641fe" category="cell">A ID do cliente de um registo de aplicação</block>
  <block id="56ef18e84ab36c2bdc4546e6a2756673" category="cell"><block ref="2b53761249254ce6b502f521e5cc0683" prefix="" category="inline-code"></block></block>
  <block id="85f484f0892a96287b6224ddd3c5fbb2" category="cell">O segredo do cliente de um Registro de aplicativo</block>
  <block id="0322003a3502f221fdb74b059dfff46e" category="cell"><block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix="" category="inline-code"></block></block>
  <block id="1c65f12b4d30114593cc01384938cb5f" category="cell">Um de<block ref="eb6d8ae6f20283755b339c0dc273988b" prefix=" " category="inline-code"></block>,<block ref="8d5e7e72f12067991186cdf3cb7d5d9d" prefix=" " category="inline-code"></block>, ou<block ref="7057376a419b3334cc7b8b7a9f064abb" prefix=" " category="inline-code"></block></block>
  <block id="b21b08bb55acd409e40e9b45edd3bb34" category="cell">"" (aleatório)</block>
  <block id="fc7dd5b65d21ee7272a067c9404a8498" category="cell"><block ref="d5189de027922f81005951e6efe0efd5" prefix="" category="inline-code"></block></block>
  <block id="8fce436e09a08bd124727374d3e1d1d5" category="cell">Nome do local do Azure onde os novos volumes serão criados</block>
  <block id="016a4b469916e37291cfe2f7fab49aaf" category="cell"><block ref="6a3560738716ddd805d769d4460ca7aa" prefix="" category="inline-code"></block></block>
  <block id="66d09fbe1165f3d10b368cbe0cc029f4" category="cell">Lista de grupos de recursos para filtragem de recursos descobertos</block>
  <block id="36cbcb8a57112362b05d06b9fe037a6e" category="cell">"[]" (sem filtro)</block>
  <block id="d4b4343f054233d7d339bb1501425fd4" category="cell"><block ref="87d26f327b9deeb6141721bda7f8ca65" prefix="" category="inline-code"></block></block>
  <block id="61476ef20a8015760b9cb3c1bd0ea435" category="cell">Lista de contas do NetApp para filtragem de recursos descobertos</block>
  <block id="722c7b4409fa4d1fe6aaa2902ae66473" category="cell"><block ref="338b00a62e6d8d3234c056bf48b711d0" prefix="" category="inline-code"></block></block>
  <block id="225abbb59bc0bbaa2a5852ada333b31b" category="cell">Lista de pools de capacidade para filtrar recursos descobertos</block>
  <block id="f2a5b99a63a463017b3e5f5848444d9a" category="cell">"[]" (sem filtro, aleatório)</block>
  <block id="32ef1af5ccda7c2f6d85e55f5034f105" category="cell"><block ref="a88edbe6cce8d8f180d87bef83408312" prefix="" category="inline-code"></block></block>
  <block id="10afd0959cfa4a53bce9c8d395c40c48" category="cell">Nome de uma rede virtual com uma sub-rede delegada</block>
  <block id="ec045173f4df65e5e8951c3ca9579945" category="cell"><block ref="4f556606ab1f7cb51dd23811407facbd" prefix="" category="inline-code"></block></block>
  <block id="0b8deda0ecc5080e8c0ed0b475e983ba" category="cell">Nome de uma sub-rede delegada<block ref="0c20a1ae75c1cc4efae31193e0d47718" prefix=" " category="inline-code"></block></block>
  <block id="412427d9207c4cc4b01539aff3c50e7c" category="cell"><block ref="b0fdc9c7b96e4249152c61b506703142" prefix="" category="inline-code"></block></block>
  <block id="55eaeeb515ba1b8a42eb736b0e58f41f" category="cell">Conjunto de recursos VNet para um volume, pode ser<block ref="972e73b7a882d0802a4e3a16946a2f94" prefix=" " category="inline-code"></block> ou<block ref="eb6d8ae6f20283755b339c0dc273988b" prefix=" " category="inline-code"></block>. Os recursos de rede não estão disponíveis em todas as regiões e podem ter que ser ativados em uma assinatura. Especificar <block ref="b0fdc9c7b96e4249152c61b506703142" prefix=" " category="inline-code"></block> quando a funcionalidade não está ativada faz com que o provisionamento de volume falhe.</block>
  <block id="cc3d42de123c784e8d8e3c8404b943be" category="cell">Controle refinado das opções de montagem NFS. Ignorado para volumes SMB. Para montar volumes usando o NFS versão 4,1, inclua <block ref="c72da907ddca73ee114d92e5e098ce0e" prefix=" " category="inline-code"></block>na lista de opções de montagem delimitadas por vírgulas para escolher NFS v4,1. As opções de montagem definidas em uma definição de classe de armazenamento substituem as opções de montagem definidas na configuração de back-end.</block>
  <block id="2d1474e8b52ef42851337fb3fef4e1a1" category="cell">"3"</block>
  <block id="2288620b3dc019c6359bcc7f50b72ab3" category="cell">Falha no provisionamento se o tamanho do volume solicitado estiver acima desse valor</block>
  <block id="567c7f0eca746ed7513764be5ecf6d03" category="cell">"" (não aplicado por padrão)</block>
  <block id="f2f2c7c3c767da610bd95934104674f6" category="cell"><block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix="" category="inline-code"></block></block>
  <block id="91b3c29beb3641dce2fcf3d2382fac4f" category="cell">Debug flags para usar ao solucionar problemas. Exemplo,<block ref="533cf7c7aac0ee35b2153c8cf933013b" prefix=" " category="inline-code"></block>. Não use isso a menos que você esteja solucionando problemas e exija um despejo de log detalhado.</block>
  <block id="37a6259cc0c1dae299a7866489dff0bd" category="cell">nulo</block>
  <block id="f0873081464f48da27a1068215270c60" category="cell"><block ref="296026821ada2ab8aebcf13547a63df5" prefix="" category="inline-code"></block></block>
  <block id="c0a4a0396978d1ad8816d2e358a2f05e" category="cell">Configurar a criação de volumes NFS ou SMB. As opções são<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>,<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block> ou null. A configuração como null padrão para volumes NFS.</block>
  <block id="71e598dd105d32592243532b55392c55" category="cell"><block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix="" category="inline-code"></block></block>
  <block id="8cacf42dcc11f9e7779267100d4fd305" category="inline-link-macro">Configurar recursos de rede para um volume Azure NetApp Files</block>
  <block id="4ace77649689419cf09eed38ddf4e74c" category="admonition">Para obter mais informações sobre recursos de rede, <block ref="d4c16e3034c39d54544a2d5f2b2953d9" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="d37198994935307f0e4a95505678642e" category="section-title">Permissões e recursos necessários</block>
  <block id="dff55a3160f253fb2aab1c949fa24db0" category="paragraph">Se você receber um erro "sem pools de capacidade encontrados" ao criar um PVC, é provável que o Registro do aplicativo não tenha as permissões e recursos necessários (sub-rede, rede virtual, pool de capacidade) associados. Se a depuração estiver ativada, o Astra Trident registrará os recursos do Azure descobertos quando o back-end for criado. Verifique se uma função apropriada está sendo usada.</block>
  <block id="1860dce26ad531b08f4b17950bbda6a7" category="paragraph">Os valores para<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block>,<block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block>,<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block>, ,<block ref="a88edbe6cce8d8f180d87bef83408312" prefix=" " category="inline-code"></block> e<block ref="4f556606ab1f7cb51dd23811407facbd" prefix=" " category="inline-code"></block> podem ser especificados usando nomes curtos ou totalmente qualificados. Nomes totalmente qualificados são recomendados na maioria das situações, pois nomes curtos podem corresponder vários recursos com o mesmo nome.</block>
  <block id="8771cfaef1f991e1642d0a1ece8dcfa3" category="paragraph">Os<block ref="6a3560738716ddd805d769d4460ca7aa" prefix=" " category="inline-code"></block> valores ,<block ref="87d26f327b9deeb6141721bda7f8ca65" prefix=" " category="inline-code"></block>, e<block ref="338b00a62e6d8d3234c056bf48b711d0" prefix=" " category="inline-code"></block> são filtros que restringem o conjunto de recursos descobertos aos disponíveis para esse back-end de armazenamento e podem ser especificados em qualquer combinação. Nomes totalmente qualificados seguem este formato:</block>
  <block id="520d0db389f362bf79ef56ca0af3dcab" category="cell">Formato</block>
  <block id="dde92bca1b59f0db813ef42a2688752e" category="cell">Grupo de recursos</block>
  <block id="671e72ca3ef632233f4c27dfef1ec109" category="cell">&lt;resource group&gt;</block>
  <block id="ac252743de820aac9183d9f76d4bed67" category="cell">Conta NetApp</block>
  <block id="2bf2783c6d0d867a9fe629138b38bd84" category="cell">&lt;resource group&gt;/ cliente NetApp account&gt;</block>
  <block id="9eea1c08013c37f1499f428378764a08" category="cell">Pool de capacidade</block>
  <block id="01c656d6b97f45a90022ee307283ae01" category="cell">&lt;resource group&gt;/ cliente NetApp account&gt;/&lt;capacity pool&gt;</block>
  <block id="bf76cafc47141522dca89c4d6e25b822" category="cell">Rede virtual</block>
  <block id="8c9309282517a29ad09b10443d825c7c" category="cell">&lt;resource group&gt;/&lt;virtual network&gt;</block>
  <block id="9770c6469e9d27585d6c0c389ede7bc3" category="cell">Sub-rede</block>
  <block id="7addf9faaab78a084548d05b695cd2e2" category="cell">&lt;resource group&gt;/&lt;virtual network&gt;/&lt;subnet&gt;</block>
  <block id="be1b9ef68f31ecee991e2282c1f24f0f" category="section-title">Provisionamento de volume</block>
  <block id="6154de53659ccfe0ba0733effdb2da13" category="paragraph">Você pode controlar o provisionamento de volume padrão especificando as seguintes opções em uma seção especial do arquivo de configuração. <block ref="c850cc933797a5d4472ae11f15a5ef5e" category="inline-xref-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="9c64942fe493cb70c474ff447429d8a4" category="cell"><block ref="c72971f17465d2a32345bc872af62a34" prefix="" category="inline-code"></block></block>
  <block id="ea221277b2f168f5e17d112765f4a1c0" category="cell">Regras de exportação para novos volumes. <block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> Deve ser uma lista separada por vírgulas de qualquer combinação de endereços IPv4 ou sub-redes IPv4 na notação CIDR. Ignorado para volumes SMB.</block>
  <block id="1274e36c193ec0ce8b5c49d5e78ffd7b" category="cell">"0,0.0,0/0"</block>
  <block id="08ee53e1d5cefb7967a295e98036598e" category="cell">Controla a visibilidade do diretório .snapshot</block>
  <block id="c07fbc0b2a1a865fe9e3a55c05b4f690" category="cell">"falso"</block>
  <block id="e5ac299cc3b14e1fac29518569ca9bb1" category="cell">O tamanho padrão dos novos volumes</block>
  <block id="ef81b740be2293b7e3c41047afe98764" category="cell">"100G"</block>
  <block id="21590b83460bd480131384ef53bdccc4" category="cell">As permissões unix de novos volumes (4 dígitos octal). Ignorado para volumes SMB.</block>
  <block id="976a6dc52dbcabb541efa0a91e922604" category="cell">"" (recurso de pré-visualização, requer lista branca na assinatura)</block>
  <block id="10c0eb6973453da95b4ef937f19ddb6c" category="section-title">Exemplos de configurações</block>
  <block id="25f4894ddaab3c1182f12732d3bcf889" category="example-title">Exemplo 1: Configuração mínima</block>
  <block id="36867df20f9068f37b26d3120d5e7ba4" category="paragraph">Esta é a configuração mínima absoluta de back-end. Com essa configuração, o Astra Trident descobre todas as suas contas NetApp, pools de capacidade e sub-redes delegadas no ANF no local configurado e coloca novos volumes aleatoriamente em um desses pools e sub-redes. Como<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block> é omitido, o<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block> padrão se aplica e o back-end provisionará para volumes NFS.</block>
  <block id="e43b3577dd4b74a4cfa994a56e8138b8" category="paragraph">Essa configuração é ideal quando você está apenas começando o ANF e experimentando as coisas, mas na prática você vai querer fornecer um escopo adicional para os volumes provisionados.</block>
  <block id="a78703e6fcb2511d5a565496df5b2082" category="example-title">Exemplo 2: Configuração específica de nível de serviço com filtros de pool de capacidade</block>
  <block id="9c1aa30bfee58070482e646ad5d8bb4b" category="paragraph">Essa configuração de back-end coloca volumes no local do Azure<block ref="6356111305f5daab178fa6051b7a8ae7" prefix=" " category="inline-code"></block> em um<block ref="7057376a419b3334cc7b8b7a9f064abb" prefix=" " category="inline-code"></block> pool de capacidade. O Astra Trident descobre automaticamente todas as sub-redes delegadas no ANF nesse local e coloca um novo volume em uma delas aleatoriamente.</block>
  <block id="725ae241ec74eed978f0b099030236b8" category="example-title">Exemplo 3: Configuração avançada</block>
  <block id="a83f4a534ccef7ac1d209fb0015cd907" category="paragraph">Essa configuração de back-end reduz ainda mais o escopo do posicionamento de volume para uma única sub-rede e também modifica alguns padrões de provisionamento de volume.</block>
  <block id="3aa4918283a3160586bdbe1e76a338f3" category="example-title">Exemplo 4: Configuração de pool virtual</block>
  <block id="baca3a42ff523348689308c7bd411b38" category="paragraph">Essa configuração de back-end define vários pools de storage em um único arquivo. Isso é útil quando você tem vários pools de capacidade com suporte a diferentes níveis de serviço e deseja criar classes de storage no Kubernetes que os representem. Rótulos de pool virtual foram usados para diferenciar os pools com base<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block> no .</block>
  <block id="c0b04213f295bd61098649d5dec24291" category="section-title">Definições da classe de armazenamento</block>
  <block id="cad675ae3fb846705512fe460e615ac3" category="paragraph">As definições a seguir<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> referem-se aos pools de armazenamento acima.</block>
  <block id="260817022a7340fc89eae3e7dbed8f6a" category="section-title">Exemplos de definições usando<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> campo</block>
  <block id="1abbfd87ab307af55b755fd27ce60191" category="paragraph">Usando<block ref="4d859186a09b1da3597e5901157d9400" prefix=" " category="inline-code"></block> você pode especificar para cada<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> pool virtual que é usado para hospedar um volume. O volume terá os aspetos definidos no pool escolhido.</block>
  <block id="4b7db799aa8307d15835ff36beb1b97c" category="section-title">Definições de exemplo para volumes SMB</block>
  <block id="82b60bb483328d8efe9240dc8aa4a600" category="paragraph">Usando<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>,<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block> e <block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>, você pode especificar um volume SMB e fornecer as credenciais necessárias do ative Directory.</block>
  <block id="6de60e9a6b0ad8adcd762a8c85d540e2" category="example-title">Exemplo 1: Configuração básica no namespace padrão</block>
  <block id="1d8d21debc328526252944d2264246ca" category="example-title">Exemplo 2: Usando diferentes segredos por namespace</block>
  <block id="06bb6ebc4dada525717294b660ba2b3b" category="example-title">Exemplo 3: Usando segredos diferentes por volume</block>
  <block id="15bee4120a83692e1e575f756f0259e2" category="admonition"><block ref="ed48900d86ac476d7fed80ae1701877f" prefix="" category="inline-code"></block> Filtros para pools compatíveis com volumes SMB.<block ref="7b2498fa5e66ef102dc531d0bf5c27a4" prefix=" " category="inline-code"></block> Ou<block ref="45e1f49760c85197cd1d0fb6ee50f180" prefix=" " category="inline-code"></block> filtros para NFS Pools.</block>
  <block id="c51cc3b801a879870aea846bdde1c7a3" category="section-title">Crie o backend</block>
  <block id="3ad256eea0abb551eaab63c84aa3d1f9" category="paragraph">Depois de criar o arquivo de configuração de back-end, execute o seguinte comando:</block>
  <block id="a61ed3c1ecae587dbee1f2c0ace81e3b" category="paragraph">Se a criação do backend falhar, algo está errado com a configuração do backend. Você pode exibir os logs para determinar a causa executando o seguinte comando:</block>
  <block id="8427b84145b88f048d5caa532324cd11" category="paragraph">Depois de identificar e corrigir o problema com o arquivo de configuração, você pode executar o comando create novamente.</block>
  <block id="e6fe09cae66ba22c6abbd2511f660545" category="summary">Antes de configurar o back-end do ANF, você precisa garantir que os requisitos a seguir sejam atendidos.</block>
  <block id="aec47cf6a0cb83824b504b756eb4b71c" category="doc">Prepare-se para configurar um back-end do Azure NetApp Files</block>
  <block id="d2aae26c4b1e25027872b1df4cee2081" category="paragraph">Antes de configurar o back-end do Azure NetApp Files, você precisa garantir que os seguintes requisitos sejam atendidos.</block>
  <block id="84444089b52eed627a838de74ae8d652" category="section-title">Pré-requisitos para volumes NFS e SMB</block>
  <block id="97d64245613ba751b698ce77fd51779a" category="inline-link">Azure: Configure o Azure NetApp Files e crie um volume NFS</block>
  <block id="d90582d42d65d5af05c3d40ad0eb4987" category="admonition">Se você estiver usando o Azure NetApp Files pela primeira vez ou em um novo local, será necessária alguma configuração inicial para configurar o Azure NetApp Files e criar um volume NFS. Consulte a<block ref="b6e93c3bfc36cf835c63e42e55586d97" category="inline-link-rx"></block>.</block>
  <block id="07e7004c50a67a3e4e366b4ca1c28e3d" category="paragraph">Para configurar e usar um<block ref="24a785881ff1cdf191a2239811dc9597" category="inline-link-rx"></block> back-end, você precisa do seguinte:</block>
  <block id="99c7065ab76131a7b7763287bb5b6735" category="inline-link-macro">Microsoft: Crie um pool de capacidade para o Azure NetApp Files</block>
  <block id="ee59ecaa79882c8dc8f7f897c113094a" category="list-text">Um pool de capacidade. <block ref="96caced282b604468ab13f86483cd9f6" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="7ed0731ff411d37210b51a78b95c1fc3" category="inline-link-macro">Microsoft: Delegar uma sub-rede ao Azure NetApp Files</block>
  <block id="c896cfae248dc2b000cc04c39d8a8de6" category="list-text">Uma sub-rede delegada ao Azure NetApp Files. <block ref="795b5e8f62d2267a0996a3b260968048" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="66d640a9a050b05e6a914cbcd88a1e2e" category="list-text"><block ref="8c443e170595ba0feac007ffb92cb49a" prefix="" category="inline-code"></block> A partir de uma subscrição do Azure com o Azure NetApp Files ativado.</block>
  <block id="b12fb354025b3dfa01277964eb72c060" category="inline-link-macro">Registo da aplicação</block>
  <block id="caa7dc98c21b44b17c214508b9b0fa3c" category="list-text"><block ref="bc54592d6183695b841c6d1880ec0bf8" prefix="" category="inline-code"></block>,<block ref="93c5bebdea9c94a0740fe6fd9bb250f0" prefix=" " category="inline-code"></block> E<block ref="2b53761249254ce6b502f521e5cc0683" prefix=" " category="inline-code"></block> de um <block ref="63405c89f422580946169fa59c41e7ae" category="inline-link-macro-rx"></block> no Azure ative Directory com permissões suficientes para o serviço Azure NetApp Files. O Registro de aplicativos deve usar:</block>
  <block id="ee495045d2c4c5131217a0248a404b4d" category="inline-link-macro">Pré-definido pelo Azure</block>
  <block id="856955b6cbc3fe2168b2dcd43fb0a5dd" category="list-text">A função proprietário ou Colaborador <block ref="76b3209c91e1786a477c35a6e91cf55f" category="inline-link-macro-rx"></block>.</block>
  <block id="2fbc632d5939633cc9c3b254d116080f" category="inline-link-macro">Função de Colaborador personalizada</block>
  <block id="b0ee19cc46a4fb3df97c1c676c0a5d57" category="inline-link-macro">Atribua a função usando o portal do Azure</block>
  <block id="993c1a80e778c965961521eeb4afd398" category="list-text">A <block ref="8ad3956583058d3582a7dd1281d1f882" category="inline-link-macro-rx"></block>no nível da subscrição <block ref="e023f2926fb9af676f2809a760efeb14" prefix="(" category="inline-code"></block>) com as seguintes permissões limitadas apenas ao que o Astra Trident requer. Depois de criar a função personalizada<block ref="af58105ed429db29198b767444ed6d0d" category="inline-link-macro-rx"></block>, .</block>
  <block id="f494e4df0fff53e809d6563f8ec1782f" category="inline-link-macro">sub-rede delegada</block>
  <block id="daba51cb28ea016a4e85ad77defc5a2c" category="list-text">O Azure<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> que contém pelo menos um <block ref="e2df5d3690a644a8599397d798c15f56" category="inline-link-macro-rx"></block>. A partir do Trident 22,01, o<block ref="d5189de027922f81005951e6efe0efd5" prefix=" " category="inline-code"></block> parâmetro é um campo obrigatório no nível superior do arquivo de configuração de back-end. Os valores de localização especificados em pools virtuais são ignorados.</block>
  <block id="77a4a369d552f7d3be163bda86f9113f" category="section-title">Requisitos adicionais para volumes SMB</block>
  <block id="227e516e7258b6dcab3e7bcb4148f7f1" category="paragraph">Para criar um volume SMB, você deve ter:</block>
  <block id="d8c74c31c4550aed073521ba0fb8984a" category="inline-link-macro">Microsoft: Crie e gerencie conexões do ative Directory para Azure NetApp Files</block>
  <block id="6bb7e9dc5268dcbdde1a91b151d9a94b" category="list-text">Ative Directory configurado e conetado ao Azure NetApp Files. <block ref="2f3bcda54aaf4e8e45316bb04708293f" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="1f43150a13f29c496f07ed4a9750b2ff" category="list-text">Um cluster do Kubernetes com um nó de controlador Linux e pelo menos um nó de trabalho do Windows que executa o Windows Server 2019. O Astra Trident é compatível com volumes SMB montados em pods executados apenas em nós do Windows.</block>
  <block id="3742b45a8312c4721cad63322a4932ac" category="list-text">Pelo menos um segredo do Astra Trident que contém suas credenciais do ative Directory para que o Azure NetApp Files possa se autenticar no ative Directory. Para gerar segredo<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>:</block>
  <block id="7595de66780a622cdd37b4823afebc07" category="inline-link-macro">GitHub: CSI Proxy</block>
  <block id="c680a0c023a6d45186b9752a07e9938c" category="inline-link-macro">GitHub: CSI Proxy para Windows</block>
  <block id="2d6b406e65ac91f2af09f4228e3efe4f" category="list-text">Um proxy CSI configurado como um serviço Windows. Para configurar um<block ref="0f8126c17871ed45f2a848f15d96a1bb" prefix=" " category="inline-code"></block>, <block ref="3ca23c6eadaac7aa23a492aef5e5d012" category="inline-link-macro-rx"></block>consulte ou <block ref="0b56a9ad79a8fef177779e7d3d856994" category="inline-link-macro-rx"></block> para nós do Kubernetes executados no Windows.</block>
  <block id="618a7676e411bbfbd9dbdb2411019951" category="summary">Você pode configurar o Azure NetApp Files (ANF) como back-end do Astra Trident. É possível anexar volumes nas e SMB usando um back-end do ANF.</block>
  <block id="28b0abcecaf7a63edb46e4e137337018" category="doc">Configurar um back-end do Azure NetApp Files</block>
  <block id="1b9b62ce5b41c05a88e439d4ddbaf2c3" category="paragraph">Você pode configurar o Azure NetApp Files (ANF) como back-end do Astra Trident. É possível anexar volumes NFS e SMB usando um back-end de ANF.</block>
  <block id="ea61e2c2ff507048203824add1eb7c21" category="section-title">Considerações</block>
  <block id="8f395c84ad002394e9f070a25937dcc4" category="list-text">O serviço Azure NetApp Files não oferece suporte a volumes menores que 100 GB. O Astra Trident cria automaticamente volumes de 100 GB se um volume menor for solicitado.</block>
  <block id="1cf44a6bee7fa333861e5d0042926fb5" category="list-text">O Astra Trident é compatível com volumes SMB montados em pods executados apenas em nós do Windows.</block>
  <block id="4cc2b9916e7383e5fa29dc6188159e32" category="summary">Um back-end define a relação entre o Astra Trident e um sistema de storage. Ele diz ao Astra Trident como se comunicar com esse sistema de storage e como o Astra Trident deve provisionar volumes a partir dele. Após a instalação do Astra Trident, a próxima etapa é criar um back-end. A<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> Definição de recursos personalizada (CRD) permite criar e gerenciar backends Trident diretamente por meio da interface do Kubernetes. Para fazer isso, use<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> ou a ferramenta CLI equivalente para sua distribuição do Kubernetes.</block>
  <block id="a8e174c63ac21920b8405ffddc39214a" category="doc">Crie backends com kubectl</block>
  <block id="454631312fab234fc91bb2f85a751fac" category="section-title"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix="" category="inline-code"></block></block>
  <block id="d2031a5a319b9363cf98da6b1509598a" category="paragraph"><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix="" category="inline-code"></block><block ref="11c73f5ef965e27ad7f2162c6d862d00" prefix="(" category="inline-code"></block> <block ref="f049287d4b5e8c2771cd45ad40d6bbd0" prefix=" " category="inline-code"></block>, ,<block ref="e4f7bfc35d74ab4136d16191494e7ceb" prefix=" " category="inline-code"></block>) É um CRD com namespaces e frontend que permite gerenciar backends Astra Trident usando<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>o . Agora, os administradores de storage e Kubernetes podem criar e gerenciar back-ends diretamente pela CLI do Kubernetes sem exigir um utilitário de linha de comando dedicado <block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="(" category="inline-code"></block>).</block>
  <block id="b44c2fd5cefc815abed7e31c0fa8c8ac" category="paragraph">Após a criação de<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> um objeto, acontece o seguinte:</block>
  <block id="858fafdff7fa27f202ae0eb981c6dff0" category="list-text">Um back-end é criado automaticamente pelo Astra Trident com base na configuração que você fornece. Isto é representado internamente como um<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block> <block ref="ebf1bd0254e733981928851df08fca08" prefix="(" category="inline-code"></block>,<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block> ) CR.</block>
  <block id="40640dd98ca175d098c1c765b1e148d9" category="list-text">O<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> é exclusivamente vinculado a um<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block> que foi criado pelo Astra Trident.</block>
  <block id="1efc3a14ca6dc7c90db79e02f3abe7d5" category="paragraph">Cada<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> um mantém um mapeamento um-para-um com um<block ref="d2eac341e6076c7146e5b2598b973d94" prefix=" " category="inline-code"></block>. o primeiro é a interface fornecida ao usuário para projetar e configurar backends; o último é como o Trident representa o objeto backend real.</block>
  <block id="c9038f47fe0df535b6bf5619c9ff629e" category="admonition"><block ref="d2eac341e6076c7146e5b2598b973d94" prefix="" category="inline-code"></block> Os CRS são criados automaticamente pelo Astra Trident. Você *não deve* modificá-los. Se você quiser fazer atualizações para backends, faça isso modificando o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto.</block>
  <block id="9c3385530cf6e460576e5f6e7cc1b912" category="paragraph">Veja o exemplo a seguir para o formato do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR:</block>
  <block id="c84ef67352bb6783ff2881f9f2821c2a" category="inline-link">instalador do Trident</block>
  <block id="f13a06ff6eab87969a9f96765f31ed9c" category="paragraph">Você também pode dar uma olhada nos exemplos<block ref="6511e50af21389f9e77db56e03f6dd72" category="inline-link-rx"></block> no diretório para configurações de exemplo para a plataforma/serviço de armazenamento desejado.</block>
  <block id="06df669f3ef6f929e9b58c9f47b65310" category="inline-link-macro">informações de configuração de back-end para seu driver de armazenamento</block>
  <block id="182839d8f6b2bdde60e1d972422cf3a2" category="paragraph">O<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block> utiliza parâmetros de configuração específicos do back-end. Neste exemplo, o backend usa o<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> driver de armazenamento e usa os parâmetros de configuração que são tabulados aqui. Para obter a lista de opções de configuração do driver de armazenamento desejado, consulte <block ref="5f2d139eefa7c36061f4d97161be02ea" category="inline-link-macro-rx"></block>.</block>
  <block id="92051c832f01d9070a7ed71d1ce523c5" category="paragraph">A<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block> seção também inclui<block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix=" " category="inline-code"></block> campos e<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block>, que são recentemente introduzidos no<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR:</block>
  <block id="5ab961de690e071f0dc1c0dabac7fd89" category="list-text"><block ref="d3ed68f7315b7e72b8d886b2278fcac3" prefix="" category="inline-code"></block>: Este parâmetro é um campo obrigatório e contém as credenciais usadas para autenticar com o sistema/serviço de armazenamento. Isso é definido como um segredo do Kubernetes criado pelo usuário. As credenciais não podem ser passadas em texto simples e resultarão em um erro.</block>
  <block id="9f11e03722a7b912083c63fc68f4dd7b" category="list-text"><block ref="98e7d6463271d7848db255ae6467817a" prefix="" category="inline-code"></block>: Este campo define o que deve acontecer quando o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> é excluído. Pode tomar um dos dois valores possíveis:</block>
  <block id="d09d50d3f84f9c585492818f491a2497" category="list-text"><block ref="099af53f601532dbd31e0ea99ffdeb64" prefix="" category="inline-code"></block>: Isso resulta na exclusão do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR e do back-end associado. Este é o valor padrão.</block>
  <block id="f0c89ce27bf4c43949ad8f26a4f586bb" category="list-text"><block ref="16d79ff80feadcf2f52096f073f2b94a" prefix="" category="inline-code"></block>: Quando um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR é excluído, a definição de back-end ainda estará presente e poderá ser gerenciada com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o . Definir a política de exclusão para<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block> permitir que os usuários façam o downgrade para uma versão anterior (anterior a 21,04) e mantenham os backends criados. O valor para este campo pode ser atualizado após a criação de um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>.</block>
  <block id="7f2208582df334d090d35357eb5d6901" category="admonition">O nome de um back-end é definido usando<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>. Se não for especificado, o nome do backend é definido como o nome do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto (metadata.name). Recomenda-se definir explicitamente nomes de back-end usando<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>o .</block>
  <block id="317e77f416ffd109037a657fffa1e7f7" category="admonition">Backends que foram criados com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> não têm um objeto associado<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>. Você pode optar por gerenciar esses backends<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> criando um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR. Deve-se ter cuidado para especificar parâmetros de configuração idênticos (como<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block> , ,<block ref="670f8a39d00195ce172543b2794c522b" prefix=" " category="inline-code"></block>,<block ref="4f361a1568cc7e740f7642f6f59e2fe0" prefix=" " category="inline-code"></block> e assim por diante). O Astra Trident vinculará automaticamente o recém-criado<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> ao back-end pré-existente.</block>
  <block id="625cc9b8ccc34496dc2b3fcffb7e384a" category="section-title">Visão geral dos passos</block>
  <block id="a867c4bbc8d632a517f22b7377b9b8ed" category="paragraph">Para criar um novo back-end usando<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>o , você deve fazer o seguinte:</block>
  <block id="4db4699aa0126dfb06878d7e07c0abdf" category="inline-link">Segredo do Kubernetes</block>
  <block id="7e5e1bb39eefe4eec7a88b845126d41d" category="list-text">Criar um<block ref="fcce7b7bd05b6b012eabe3df8de04808" category="inline-link-rx"></block>. o segredo contém as credenciais que o Astra Trident precisa para se comunicar com o cluster/serviço de storage.</block>
  <block id="c39d193a9cc4084cc6c7964e1bb5efd8" category="list-text">Crie<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> um objeto. Isso contém detalhes sobre o cluster/serviço de armazenamento e faz referência ao segredo criado na etapa anterior.</block>
  <block id="286b0035cf59742ffe54696b798f2368" category="paragraph">Depois de criar um backend, você pode observar seu status usando<block ref="20d1f22897b2280e34f2e6aa25c7bab0" prefix=" " category="inline-code"></block> e coletar detalhes adicionais.</block>
  <block id="494cb787cd1c1f78123323c1006f2081" category="section-title">Etapa 1: Crie um segredo do Kubernetes</block>
  <block id="a8c4d0cb53af2c6e334f5c58890021d6" category="paragraph">Crie um segredo que contenha as credenciais de acesso para o back-end. Isso é exclusivo para cada serviço/plataforma de storage. Aqui está um exemplo:</block>
  <block id="04402bf69acac56c72a55c0e4ac2165c" category="paragraph">Esta tabela resume os campos que devem ser incluídos no segredo para cada plataforma de armazenamento:</block>
  <block id="94cec86c6eef229009007e6d00d54ef1" category="cell">Descrição dos campos secretos da plataforma de armazenamento</block>
  <block id="1e6947ac7fb3a9529a9726eb692c8cc5" category="cell">Segredo</block>
  <block id="c11257eff6563de2c05e353770c514ca" category="cell">Descrição dos campos</block>
  <block id="93c5bebdea9c94a0740fe6fd9bb250f0" category="paragraph">ID do cliente</block>
  <block id="012e85295e2f1f744cfb8757f8dd4830" category="paragraph">A ID do cliente a partir de um registo de aplicação</block>
  <block id="ee64ef6c307cfcfe5c0f085471cd61fa" category="paragraph">private_key_id</block>
  <block id="1e31c22f827d25c5973eee697baace79" category="paragraph">ID da chave privada. Parte da chave da API para a conta de serviço do GCP com a função de administrador do CVS</block>
  <block id="156a17333e77a3c504018cae5ada8c3b" category="paragraph">chave_privada</block>
  <block id="8e0708b67ba6ce0f70a948152e7e7895" category="paragraph">Chave privada. Parte da chave da API para a conta de serviço do GCP com a função de administrador do CVS</block>
  <block id="25de05ab7f10e99b499db62e0b89ad33" category="cell">Elemento (NetApp HCI/SolidFire)</block>
  <block id="2a6ba72e93aa7fa676d07973ed2716bb" category="paragraph">Endpoint</block>
  <block id="41eba2d95ecaf35c8bd3a972c263ffe4" category="paragraph">MVIP para o cluster SolidFire com credenciais de locatário</block>
  <block id="14c4b06b824ec593239362517f538b29" category="paragraph">nome de utilizador</block>
  <block id="6e1b40351708d93ce8c387f6f8ca7533" category="paragraph">Nome de usuário para se conetar ao cluster/SVM. Usado para autenticação baseada em credenciais</block>
  <block id="5f4dcc3b5aa765d61d8327deb882cf99" category="paragraph">palavra-passe</block>
  <block id="4d3fd9a7ab4c84b857fc26b2633237d0" category="paragraph">Senha para se conectar ao cluster/SVM. Usado para autenticação baseada em credenciais</block>
  <block id="19dce7ac7f5290fc8fa218ad0c858df5" category="paragraph">ClientPrivateKey</block>
  <block id="8c5e8d4f9acf9295e1a96feef0c0b516" category="paragraph">Valor codificado em base64 da chave privada do cliente. Usado para autenticação baseada em certificado</block>
  <block id="039e9d80fa53ba861c06b590ba3f9d34" category="paragraph">ChapUsername</block>
  <block id="a7128cd45d4a277fe5c6ed6f6c4238f7" category="paragraph">Nome de utilizador de entrada. Necessário se useCHAP-true. Para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e.<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="f9d0dc78b203f2c1106dc0c7d58a5397" category="paragraph">IniciadorSecreto</block>
  <block id="2f573af61fb37b4f1c5e2def2341b7c4" category="paragraph">Segredo do iniciador CHAP. Necessário se useCHAP-true. Para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e.<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="2ebe107bb3bc9551fbb0e5033046931c" category="paragraph">ChapTargetUsername</block>
  <block id="e945f079b3e50bd5722f056b72282608" category="paragraph">Nome de utilizador alvo. Necessário se useCHAP-true. Para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e.<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="4ab84a55744951d967033db9b64f6b27" category="paragraph">ChapTargetInitiatorSecret</block>
  <block id="61b50fba255c10a4a2b5f7cf8276849a" category="paragraph">Segredo do iniciador de destino CHAP. Necessário se useCHAP-true. Para<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> e.<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="73d583a1445e1497ec3adaa011e2724c" category="paragraph">O segredo criado nesta etapa será referenciado<block ref="52c7b8f36716d3230d8fac3536f346c7" prefix=" " category="inline-code"></block> no campo do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto que é criado na próxima etapa.</block>
  <block id="e892fda55ead7e15eed753e850d35f12" category="section-title">Passo 2: Crie o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="3394622f88ed2c82c85e92e908879095" category="paragraph">Agora você está pronto para criar seu<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR. Neste exemplo, um back-end que usa<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> o driver é criado usando o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto mostrado abaixo:</block>
  <block id="d6f4b4bedc693acd49ad08c1cf0cdad5" category="section-title">Etapa 3: Verifique o status do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="967688089cfc07a6c8e893bce5186445" category="paragraph">Agora que criou o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR, pode verificar o estado. Veja o exemplo a seguir:</block>
  <block id="edc9d2e179d9bd8effd5277699967aff" category="paragraph">Um backend foi criado com sucesso e vinculado ao<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR.</block>
  <block id="ecb5320e6f020f2c2dcad7a6268111ed" category="paragraph">A fase pode ter um dos seguintes valores:</block>
  <block id="35ef366711dba4820492cd153e2bc30d" category="list-text"><block ref="685d1f2146dd079015e81918414e8971" prefix="" category="inline-code"></block>: O<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR está associado a um back-end, e esse backend contém<block ref="217026e5af08bfde5815657113dbfc82" prefix=" " category="inline-code"></block> definido como<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> UID do CR.</block>
  <block id="f2edf590deb30828e48e7290aa78e788" category="list-text"><block ref="edac80248b7bf68ccfaa9c78bfb81c32" prefix="" category="inline-code"></block>: Representado<block ref="9d4568c009d203ab10e33ea9953a0264" prefix=" " category="inline-code"></block> usando . O<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto não está vinculado a um backend. Todos os CRS recém-criados<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> estão nesta fase por padrão. Após as alterações de fase, ela não pode voltar a Unbound.</block>
  <block id="895ba30a6f39f0691ad851fe26560431" category="list-text"><block ref="ffbb410a55bb31f801dea6387e2745ac" prefix="" category="inline-code"></block>: Os<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> foram definidos para eliminar. Quando o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR é excluído, ele passa para o estado de exclusão.</block>
  <block id="0550ab6955adf5805cf2d00b7c592718" category="list-text">Se não houver declarações de volume persistentes (PVCs) no back-end, a exclusão do resultará na exclusão do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> Astra Trident do back-end e do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR.</block>
  <block id="ffd02eb489e62222a00391567d0bad81" category="list-text">Se um ou mais PVCs estiverem presentes no back-end, ele vai para um estado de exclusão. Posteriormente, o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR entra também na fase de eliminação. O back-end e<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> são excluídos somente depois que todos os PVCs são excluídos.</block>
  <block id="39d978e14d4d8c9f19589af0d4e72661" category="list-text"><block ref="b578b733cbb788fc6ad208314d2c4c2b" prefix="" category="inline-code"></block>: O back-end associado ao<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR foi acidentalmente ou deliberadamente excluído e o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR ainda tem uma referência ao back-end excluído. O<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR ainda pode ser eliminado independentemente do<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> valor.</block>
  <block id="8375bdbfbc291bcedc60e7555e3dc43a" category="list-text"><block ref="88183b946cc5f0e8c96b2e66e1c74a7e" prefix="" category="inline-code"></block>: O Astra Trident não consegue determinar o estado ou a existência do back-end associado ao<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR. Por exemplo, se o servidor de API não estiver respondendo ou se o<block ref="5f829d3562952527064a5c553cd09189" prefix=" " category="inline-code"></block> CRD estiver ausente. Isso pode exigir a intervenção do usuário.</block>
  <block id="fdf3d4560a801cb64c255cc2790fe9cc" category="inline-link-macro">atualizações de back-end e exclusões de back-end</block>
  <block id="57867491a75119ccf33f6ed8a434ff8e" category="paragraph">Nesta fase, um backend é criado com sucesso! Existem várias operações que podem ser tratadas adicionalmente, <block ref="9f5a7b55f1a44b55d5336cefd3bf688e" category="inline-link-macro-rx"></block>como o .</block>
  <block id="4dca0b80562cc590644c1acfada17219" category="section-title">(Opcional) passo 4: Obtenha mais detalhes</block>
  <block id="22f66c61dd35abb0ae1840a7e38ae1b9" category="paragraph">Você pode executar o seguinte comando para obter mais informações sobre seu back-end:</block>
  <block id="aab3a73056ee2962dff0130da0538454" category="paragraph">Além disso, você também pode obter um despejo YAML/JSON do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>.</block>
  <block id="9fae9b8b2e8f0d5b91654165a5dacc1f" category="paragraph"><block ref="5a5abb2eaa9c440d605c2a659dd2079f" prefix="" category="inline-code"></block> Contém o<block ref="a3d5885ebdbdbb3f39c48e483cc04978" prefix=" " category="inline-code"></block> e o<block ref="17b686c7edfa8cfaa60e094e4592491f" prefix=" " category="inline-code"></block> do back-end criado em resposta ao<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR. O<block ref="8d625027763e2e062eb5f57c8518040d" prefix=" " category="inline-code"></block> campo representa o status da última operação<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> do CR, que pode ser acionada pelo usuário (por exemplo, o usuário mudou algo no<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block>) ou acionada pelo Astra Trident (por exemplo, durante reinicializações do Astra Trident). Pode ser sucesso ou falhou.<block ref="7ee7184c970537ea83afe7f9bae4c61f" prefix=" " category="inline-code"></block> Representa o status da relação entre o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR e o back-end. No exemplo acima,<block ref="7ee7184c970537ea83afe7f9bae4c61f" prefix=" " category="inline-code"></block> tem o valor vinculado, o que significa que o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR está associado ao back-end.</block>
  <block id="7b7587593fc7d381339d450faa35dfa9" category="paragraph">Você pode executar o<block ref="78b137a0e31097f4e74b4d44c43efc40" prefix=" " category="inline-code"></block> comando para obter detalhes dos logs de eventos.</block>
  <block id="6dc07da7e54d697726bb349fb693fa8b" category="inline-link-macro">veja aqui</block>
  <block id="c732962a4a01ea5f406ec66e50e98903" category="admonition">Não é possível atualizar ou excluir um back-end que contenha um objeto<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> associado<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> usando o . Compreender as etapas envolvidas na troca entre<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> e<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>, <block ref="8d6bc70a41f48e3f72c3f5ea8752090b" category="inline-link-macro-rx"></block>.</block>
  <block id="2941c38dbb7c39c325787067c0540247" category="summary">Saiba mais sobre como executar operações de gerenciamento de back-end usando<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>o .</block>
  <block id="bffb766af67c15f14cae35f03dd6f4a9" category="doc">Execute o gerenciamento de back-end com o kubectl</block>
  <block id="634b471e6af84767e06324552492b533" category="section-title">Excluir um back-end</block>
  <block id="20309eb77b701e6c49ca6b99a8f93f90" category="paragraph">Ao excluir um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>, você instrui o Astra Trident a excluir/reter backends (com base<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> no ). Para excluir um back-end, certifique-se de que<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> está definido para excluir. Para eliminar apenas o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>, certifique-se de que<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> está definido como reter. Isso garantirá que o backend ainda esteja presente e possa ser gerenciado usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="337d79852891a37d41285c9101c3fff4" category="paragraph">Execute o seguinte comando:</block>
  <block id="3fa37f688874143cd423aabca8075ffb" category="paragraph">O Astra Trident não exclui os segredos do Kubernetes que estavam em uso<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> pelo . O usuário do Kubernetes é responsável pela limpeza de segredos. Cuidado deve ser tomado ao excluir segredos. Você deve excluir segredos somente se eles não estiverem em uso pelos backends.</block>
  <block id="d694c8966214ec6d0068c0ab2951b65c" category="section-title">Veja os backends existentes</block>
  <block id="265ab4809f08d248e5045a8638ac7afa" category="paragraph">Você também pode executar<block ref="86d87141fccdd14380a93351cf8a88e3" prefix=" " category="inline-code"></block> ou<block ref="d6b02c316f6c883e36a3c61bc723ec25" prefix=" " category="inline-code"></block> obter uma lista de todos os backends que existem. Esta lista também incluirá backends que foram criados com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>.</block>
  <block id="93dbcf0189ff94d39230d2e3726969ab" category="section-title">Atualize um back-end</block>
  <block id="93700a3ea9dc6d858638cd66cd2f2bfa" category="paragraph">Pode haver várias razões para atualizar um backend:</block>
  <block id="56cdd71a65518838d73e00276ed6fab1" category="list-text">As credenciais para o sistema de storage foram alteradas. Para atualizar as credenciais, o segredo do Kubernetes que é usado no<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto deve ser atualizado. O Astra Trident atualizará automaticamente o back-end com as credenciais mais recentes fornecidas. Execute o seguinte comando para atualizar o segredo do Kubernetes:</block>
  <block id="6ef0ccb954a07e30d4ff894b5256ae30" category="list-text">Os parâmetros (como o nome do SVM do ONTAP sendo usado) precisam ser atualizados. Nesse caso,<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> os objetos podem ser atualizados diretamente pelo Kubernetes.</block>
  <block id="d4609cbe039ed7019e7151718c417bec" category="paragraph">Alternativamente, faça alterações no CR existente<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> executando o seguinte comando:</block>
  <block id="d38f034e9aa082af3ec19c23caff4b0f" category="paragraph">Se uma atualização de back-end falhar, o back-end continuará em sua última configuração conhecida. Pode visualizar os registos para determinar a causa executando<block ref="f06ab1779eb739084ddf83006fb6f403" prefix=" " category="inline-code"></block> ou<block ref="f9d8dd15d0562f29d38ca5412f8d3a1b" prefix=" " category="inline-code"></block>.</block>
  <block id="5878b59fb3a8430928026b63b5ca336f" category="paragraph">Depois de identificar e corrigir o problema com o arquivo de configuração, você pode executar novamente o comando update.</block>
  <block id="72a5926b7fb086fe87e93771f6620556" category="summary">Saiba mais sobre como executar operações de gerenciamento de back-end usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="748a22b5f1312291ad55429ba4b809a0" category="doc">Execute o gerenciamento de back-end com o tridentctl</block>
  <block id="aeeb03235358f0f4bf3be628bed08721" category="section-title">Crie um backend</block>
  <block id="34746f7a1d24170eeebf5510a045d43d" category="inline-link-macro">arquivo de configuração de back-end</block>
  <block id="99b7232073a67a8c82304f979e3dc83f" category="paragraph">Depois de criar um <block ref="03c0b6ed8698193668e92f56e9be3efa" category="inline-link-macro-rx"></block>, execute o seguinte comando:</block>
  <block id="1cabe44c722167581b1e219de6c58341" category="paragraph">Se a criação do backend falhar, algo estava errado com a configuração do backend. Você pode exibir os logs para determinar a causa executando o seguinte comando:</block>
  <block id="b5f9999463782f0c36ecc89573a90a49" category="paragraph">Depois de identificar e corrigir o problema com o arquivo de configuração, você pode simplesmente executar o<block ref="76ea0bebb3c22822b4f0dd9c9fd021c5" prefix=" " category="inline-code"></block> comando novamente.</block>
  <block id="412228c370a388e25ee06e8ad7a1da3f" category="paragraph">Para excluir um back-end do Astra Trident, faça o seguinte:</block>
  <block id="f6816a6570e6b6097177f9adc1f4805b" category="list-text">Recuperar o nome do backend:</block>
  <block id="11f4ccb46eb9afc4b1187c376b53123f" category="list-text">Excluir o backend:</block>
  <block id="c87f53b53d179c2b5dcd5fad1efba831" category="admonition">Se o Astra Trident provisionou volumes e snapshots desse back-end que ainda existem, a exclusão do back-end impede que novos volumes sejam provisionados por ele. O back-end continuará a existir em um estado de exclusão e o Trident continuará a gerenciar esses volumes e snapshots até que sejam excluídos.</block>
  <block id="a6345aca446812b9124c47b385b33f43" category="paragraph">Para visualizar os backends que o Trident conhece, faça o seguinte:</block>
  <block id="cb325bc4dded2aa4744b594966262a99" category="list-text">Para obter um resumo, execute o seguinte comando:</block>
  <block id="9f073deeee70a1418443c3b8379c5c02" category="list-text">Para obter todos os detalhes, execute o seguinte comando:</block>
  <block id="27709162cf6b8ffced7bb1da6dd49df3" category="paragraph">Depois de criar um novo arquivo de configuração de back-end, execute o seguinte comando:</block>
  <block id="4ca005817e9c882d0ef15d451a97dbf0" category="paragraph">Se a atualização do backend falhar, algo estava errado com a configuração do backend ou você tentou uma atualização inválida. Você pode exibir os logs para determinar a causa executando o seguinte comando:</block>
  <block id="20b5ebaa2558437206eb6d1d47577805" category="paragraph">Depois de identificar e corrigir o problema com o arquivo de configuração, você pode simplesmente executar o<block ref="3ac340832f29c11538fbe2d6f75e8bcc" prefix=" " category="inline-code"></block> comando novamente.</block>
  <block id="d47f84a3cda326babf841866ad2326ab" category="section-title">Identificar as classes de armazenamento que usam um back-end</block>
  <block id="02fe9d429af25b46c16a1172d735124f" category="paragraph">Este é um exemplo do tipo de perguntas que você pode responder com o JSON que<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> produz para objetos de back-end. Isso usa o<block ref="d8757fb4e9ea07606d23a1ef5a4b8d4e" prefix=" " category="inline-code"></block> utilitário, que você precisa instalar.</block>
  <block id="e00013adda7b5901ea3e44ae300fd73d" category="paragraph">Isso também se aplica a backends que foram criados usando<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>o .</block>
  <block id="8b7b728c6a1e7accd6148646ba730e77" category="summary">Saiba mais sobre as diferentes maneiras de gerenciar back-ends no Astra Trident.</block>
  <block id="4342473e01edd2e1440b8b76076f4c9e" category="doc">Alternar entre opções de gerenciamento de back-end</block>
  <block id="4ba6a75e6aacbc3737630ba55916cd27" category="section-title">Opções para gerenciar backends</block>
  <block id="798f4548a52b3c91b25609a82ff6a12e" category="paragraph">Com a introdução<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>do , os administradores agora têm duas maneiras exclusivas de gerenciar backends. Isso coloca as seguintes perguntas:</block>
  <block id="a7b407f571446f9f4a30f63e8160784a" category="list-text">Os backends podem ser criados usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> ser gerenciados com<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>?</block>
  <block id="3e1fc11d05c13404995af2b9fda64675" category="list-text">Os backends podem ser criados usando<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> ser gerenciados<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> usando ?</block>
  <block id="6c6e605e09d47da14693d106977b6eb0" category="section-title">Gerenciar<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> backends usando<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block></block>
  <block id="d6da18e16f248df47ee8e5139ef0156a" category="paragraph">Esta seção aborda as etapas necessárias para gerenciar backends que foram criados usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> diretamente a interface do Kubernetes criando<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objetos.</block>
  <block id="bee2ae6068ad50344ddb325737434004" category="paragraph">Isso se aplicará aos seguintes cenários:</block>
  <block id="e9c4de6d076377511c2b6a8463898ef2" category="list-text">Backends pré-existentes, que não têm um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> porque foram criados com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>.</block>
  <block id="8eed1f3ae09f008e2dbfb4280a0c137c" category="list-text">Novos backends que foram criados com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>, enquanto outros<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objetos existem.</block>
  <block id="0507a4f0ac746171a414097e7f033dca" category="paragraph">Em ambos os cenários, os back-ends continuarão presentes, com o Astra Trident agendando volumes e operando neles. Os administradores têm uma das duas opções aqui:</block>
  <block id="95328f21e7a6deb7bb94acb3866753a6" category="list-text">Continue<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> usando para gerenciar backends que foram criados usando-o.</block>
  <block id="82c1dd66573aab904c86b63e2d5486ad" category="list-text">Vincular backends criados usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> a um novo<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto. Fazer isso significaria que os backends serão gerenciados usando<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> e não<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>.</block>
  <block id="d12d5022b29f44c340ee55411970fe10" category="paragraph">Para gerenciar um back-end pré-existente usando<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block>o , você precisará criar um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> que se vincule ao back-end existente. Aqui está uma visão geral de como isso funciona:</block>
  <block id="0637b40285532fa1b6c6a4548e63d2f4" category="list-text">Crie um segredo do Kubernetes. O segredo contém as credenciais que o Astra Trident precisa para se comunicar com o cluster/serviço de storage.</block>
  <block id="b863de09ccfaf2861ead350dd78a9933" category="list-text">Crie<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> um objeto. Isso contém detalhes sobre o cluster/serviço de armazenamento e faz referência ao segredo criado na etapa anterior. Deve-se ter cuidado para especificar parâmetros de configuração idênticos (como<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block> , ,<block ref="670f8a39d00195ce172543b2794c522b" prefix=" " category="inline-code"></block>,<block ref="4f361a1568cc7e740f7642f6f59e2fe0" prefix=" " category="inline-code"></block> e assim por diante).<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block> deve ser definido como o nome do backend existente.</block>
  <block id="44411eb1f3a70196b442f0ed4bb62820" category="section-title">Passo 0: Identifique o backend</block>
  <block id="4bf283d1d1c781fbb7e90b237dc80ac4" category="paragraph">Para criar um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> que se vincula a um backend existente, você precisará obter a configuração de backend. Neste exemplo, vamos supor que um backend foi criado usando a seguinte definição JSON:</block>
  <block id="2181a22b3daf7866094f9f0d79da87d0" category="paragraph">Crie um segredo que contenha as credenciais para o back-end, como mostrado neste exemplo:</block>
  <block id="78fb4311dea625690d7fb6274025625a" category="section-title">Passo 2: Crie um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="276e25c1cf06c603ba2d133ae2e39dde" category="paragraph">O próximo passo é criar um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR que se vinculará automaticamente ao pré-existente<block ref="50f1baa55915aa000046e11e5aca6e3e" prefix=" " category="inline-code"></block> (como neste exemplo). Certifique-se de que os seguintes requisitos são cumpridos:</block>
  <block id="0cbfd18f16db9afdef577eeddd6a8bee" category="list-text">O mesmo nome de back-end é definido no<block ref="de48524ae3369aa3a3a220c9107c1d2b" prefix=" " category="inline-code"></block>.</block>
  <block id="f261e4f2fe82344f35f04f9b3813e425" category="list-text">Os parâmetros de configuração são idênticos ao back-end original.</block>
  <block id="c632eed28bf53466df8b8a33aedab3af" category="list-text">Os pools virtuais (se presentes) devem manter a mesma ordem que no back-end original.</block>
  <block id="8f50f98a5b56105263e2f7ab18dc0686" category="list-text">As credenciais são fornecidas por meio de um segredo do Kubernetes e não em texto simples.</block>
  <block id="05c8cd2e49ae2ecaee101c9bc5619d49" category="paragraph">Neste caso, o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> será parecido com este:</block>
  <block id="63d6f3ce15066b6232a788bb692bf721" category="paragraph">Após a criação do<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> , sua fase deve ser<block ref="685d1f2146dd079015e81918414e8971" prefix=" " category="inline-code"></block>. Ele também deve refletir o mesmo nome de back-end e UUID que o do back-end existente.</block>
  <block id="d1a75f7c76623350486029378ab164c3" category="paragraph">O backend agora será completamente gerenciado usando o<block ref="f695ccd8d6d09cfeee2cf7d06725f9e5" prefix=" " category="inline-code"></block><block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> objeto.</block>
  <block id="a035fed1dd97545349b5fffbd9e3e88f" category="section-title">Gerenciar<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> backends usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="fcea92f3e948217919ca8b4051c2c61e" category="paragraph"><block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="" category="inline-code"></block> pode ser usado para listar backends que foram criados usando<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>. Além disso, os administradores também podem optar por gerenciar completamente esses backends<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> excluindo<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> e certificando-se de<block ref="665ed1e9e5fa7278d49de298928f771c" prefix=" " category="inline-code"></block> que está definido como<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>.</block>
  <block id="ab0c73d8e0377b2df5b783d3a76f2249" category="paragraph">Por exemplo, vamos supor que o seguinte backend foi criado usando<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block>:</block>
  <block id="9874d325a018b14fb52adf25f612579e" category="paragraph">A partir da saída, vê-se que<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> foi criado com sucesso e está vinculado a um backend [observe o UUID do backend].</block>
  <block id="0901a332c26ed210204bad23d45c8b6d" category="section-title">Passo 1: Confirmar<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> está definido como<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block></block>
  <block id="ea64db0654e81907c68ffc52d023c3c7" category="paragraph">Vamos dar uma olhada no valor<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> de . Isso precisa ser definido como<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>. Isso garantirá que, quando um<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR for excluído, a definição de back-end ainda estará presente e poderá ser gerenciada com<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block>o .</block>
  <block id="1ad97e0f65ef91102831baaa31630c76" category="admonition">Não avance para o passo seguinte, a menos<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> que esteja definido para<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>.</block>
  <block id="2f1beb23541bc11eb53ca6b33485d4f8" category="section-title">Etapa 2: Exclua o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR</block>
  <block id="8313f77478cb0df464604ae4435acce2" category="paragraph">O passo final é eliminar o<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> CR. Depois de confirmar que o<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> está definido como<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block>, pode avançar com a eliminação:</block>
  <block id="c1493b6d6e05639a816e5772bbb491af" category="paragraph">Após a exclusão<block ref="913a4b06671d1e04e6582a85afe3abbe" prefix=" " category="inline-code"></block> do objeto, o Astra Trident simplesmente o remove sem realmente excluir o próprio back-end.</block>
  <block id="98e45a92edd75cce26a32a68de45f178" category="summary">Um back-end define a relação entre o Astra Trident e um sistema de storage. Ele diz ao Astra Trident como se comunicar com esse sistema de storage e como o Astra Trident deve provisionar volumes a partir dele.</block>
  <block id="a576cff5a76e67426a0051b7e1b93331" category="paragraph">O Astra Trident oferece automaticamente pools de storage de back-ends que atendem aos requisitos definidos por uma classe de storage. Saiba como configurar o back-end para o seu sistema de armazenamento.</block>
  <block id="2acbb5dd492d792d00383b0c76ade4ad" category="list-text"><block ref="2acbb5dd492d792d00383b0c76ade4ad" category="inline-link-macro-rx"></block></block>
  <block id="252e63ff646a0204671ca04a26b88e06" category="inline-link-macro">Configure um back-end do Cloud Volumes Service para o Google Cloud Platform</block>
  <block id="c00b6e370d4496e06d2135275a992af5" category="list-text"><block ref="c00b6e370d4496e06d2135275a992af5" category="inline-link-macro-rx"></block></block>
  <block id="f2733a323df72dea4b230205225bdc13" category="inline-link-macro">Configurar um back-end NetApp HCI ou SolidFire</block>
  <block id="b1064b6f7a5906eac23601dc24ba95a8" category="list-text"><block ref="b1064b6f7a5906eac23601dc24ba95a8" category="inline-link-macro-rx"></block></block>
  <block id="a3610578ce54198653d7e0b2cc53c05d" category="inline-link-macro">Configurar um back-end com drivers nas ONTAP ou Cloud Volumes ONTAP</block>
  <block id="f4f833852bac4217eff92d53c1bd24dc" category="list-text"><block ref="f4f833852bac4217eff92d53c1bd24dc" category="inline-link-macro-rx"></block></block>
  <block id="29db8b676d0a02f8179869506102c8ce" category="inline-link-macro">Configure um back-end com drivers SAN ONTAP ou Cloud Volumes ONTAP</block>
  <block id="df7d9b009cdb0a2623872cb3f905e161" category="list-text"><block ref="df7d9b009cdb0a2623872cb3f905e161" category="inline-link-macro-rx"></block></block>
  <block id="337de5d45c69b1e4dcf87a8e7ec9ff76" category="inline-link-macro">Use o Astra Trident com o Amazon FSX para NetApp ONTAP</block>
  <block id="d7f015aa2f1d488e17e175dac6de3149" category="list-text"><block ref="d7f015aa2f1d488e17e175dac6de3149" category="inline-link-macro-rx"></block></block>
  <block id="08c4bc4ac4edd9b12963c0596478d746" category="summary">O Astra Trident pode criar e anexar volumes seletivamente a nós presentes em um cluster Kubernetes, fazendo uso do recurso topologia de CSI.</block>
  <block id="3d4635d3cf4f27b0e87f3fe86a84744d" category="doc">Use a topologia CSI</block>
  <block id="4abea6bac3b0b48d11dd8dcd02a11bf9" category="inline-link">Recurso de topologia CSI</block>
  <block id="904628b57a33f3a2f6d71a6d991e15c6" category="paragraph">O Astra Trident pode criar e anexar volumes de forma seletiva a nós presentes em um cluster Kubernetes usando o<block ref="80b9a4f4a1bc9851317207ee3477041a" category="inline-link-rx"></block>.</block>
  <block id="3eba7c2a6bd35cbac350dcbfb90408f6" category="paragraph">Usando o recurso de topologia de CSI, o acesso a volumes pode ser limitado a um subconjunto de nós, com base em regiões e zonas de disponibilidade. Hoje em dia, os provedores de nuvem permitem que os administradores do Kubernetes gerem nós baseados em zonas. Os nós podem ser localizados em diferentes zonas de disponibilidade dentro de uma região ou em várias regiões. Para facilitar o provisionamento de volumes para workloads em uma arquitetura de várias zonas, o Astra Trident usa topologia de CSI.</block>
  <block id="592af423a2f6a51f57c639ec7f7b245e" category="admonition">Saiba mais sobre o recurso de topologia de CSI<block ref="ff042e7f24bd2adcec09d78466034177" category="inline-link-rx"></block> .</block>
  <block id="bbdcaf9b704dc7a7cf73e6000101b65a" category="paragraph">O Kubernetes oferece dois modos exclusivos de vinculação de volume:</block>
  <block id="93590d63acbb4fa6864a4665157fbcea" category="list-text"><block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block>Com o definido como<block ref="43f6615bbb2c40a5306ff804094420b1" prefix=" " category="inline-code"></block>, o Astra Trident cria o volume sem qualquer reconhecimento de topologia. A vinculação de volume e o provisionamento dinâmico são tratados quando o PVC é criado. Esse é o padrão<block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block> e é adequado para clusters que não impõem restrições de topologia. Os volumes persistentes são criados sem depender dos requisitos de agendamento do pod solicitante.</block>
  <block id="5fca24470d51aa51b0fb2d0f27c25c68" category="list-text">Com<block ref="7d1aaf47144f9eb2fc66e328ddd3bad7" prefix=" " category="inline-code"></block> definido como<block ref="ed783cfa871a96ff337b1ae9a5f8bfa5" prefix=" " category="inline-code"></block>, a criação e a vinculação de um volume persistente para um PVC é adiada até que um pod que usa o PVC seja programado e criado. Dessa forma, os volumes são criados para atender às restrições de agendamento impostas pelos requisitos de topologia.</block>
  <block id="3bbc2da928dcf77a048cdd745fe7d208" category="admonition">O<block ref="ed783cfa871a96ff337b1ae9a5f8bfa5" prefix=" " category="inline-code"></block> modo de encadernação não requer rótulos de topologia. Isso pode ser usado independentemente do recurso de topologia de CSI.</block>
  <block id="edff21c44983aaa85506a3dfe467c494" category="paragraph">Para fazer uso da topologia de CSI, você precisa do seguinte:</block>
  <block id="c27e444dab3a08bf8ec59794897c1a27" category="inline-link-macro">Versão do Kubernetes compatível</block>
  <block id="1dedbfd605df8b562acc8f759a8e9acc" category="list-text">Um cluster de Kubernetes executando um <block ref="229e1052bb9ecd8cf2680d6f44691174" category="inline-link-macro-rx"></block></block>
  <block id="f9213d77978aabdafac36d2b0a184e56" category="list-text">Os nós no cluster devem ter rótulos que introduzam reconhecimento da topologia <block ref="e1ff98cb39abe026da77d207e1fd46de" prefix="(" category="inline-code"></block>e<block ref="c4d11894a6687c3a84f5daeda7154443" prefix=" " category="inline-code"></block>). Esses rótulos *devem estar presentes nos nós no cluster* antes que o Astra Trident seja instalado para que o Astra Trident esteja ciente da topologia.</block>
  <block id="0bd58c9826639ac2db106c3b277a7e0f" category="section-title">Etapa 1: Crie um back-end com reconhecimento de topologia</block>
  <block id="c7d3751a47274aaa616d77a14f2e2722" category="paragraph">Os back-ends de storage do Astra Trident podem ser desenvolvidos para provisionar volumes de forma seletiva, com base nas zonas de disponibilidade. Cada back-end pode transportar um bloco opcional<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block> que representa uma lista de zonas e regiões que devem ser suportadas. Para o StorageClasses que fazem uso de tal back-end, um volume só seria criado se solicitado por um aplicativo agendado em uma região/zona suportada.</block>
  <block id="bd4b2f0d545a83fd434f5ba1f17dd087" category="paragraph">Aqui está um exemplo de definição de backend:</block>
  <block id="9463f87bbed1fcdacfb8d40e185ca2bc" category="open-title">YAML</block>
  <block id="0ecd11c1d7a287401d148a23bbd7a2f8" category="open-title">JSON</block>
  <block id="3e778236fe8f94ccc453f52d827e3719" category="admonition"><block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix="" category="inline-code"></block> é usado para fornecer uma lista de regiões e zonas por backend. Essas regiões e zonas representam a lista de valores permitidos que podem ser fornecidos em um StorageClass. Para os StorageClasses que contêm um subconjunto das regiões e zonas fornecidas em um back-end, o Astra Trident criará um volume no back-end.</block>
  <block id="217d95247b26701da7fd823884d84723" category="paragraph">Você também pode definir<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block> por pool de armazenamento. Veja o exemplo a seguir:</block>
  <block id="c6c80256ac468b3d88d7b62d8753f192" category="paragraph">Neste exemplo, as<block ref="960db2ed82202a9706b97775a4269378" prefix=" " category="inline-code"></block> etiquetas e<block ref="a84e5f25e7f6d5de9b82ce3f64d1b8fa" prefix=" " category="inline-code"></block> representam a localização do conjunto de armazenamento.<block ref="e1ff98cb39abe026da77d207e1fd46de" prefix=" " category="inline-code"></block><block ref="c4d11894a6687c3a84f5daeda7154443" prefix=" " category="inline-code"></block> e dite de onde os pools de storage podem ser consumidos.</block>
  <block id="54e204e8e05b6eb24d965741eb977e69" category="section-title">Etapa 2: Defina StorageClasses que estejam cientes da topologia</block>
  <block id="090f70d385b4a21aa6c8f2a0ca558616" category="paragraph">Com base nas etiquetas de topologia fornecidas aos nós no cluster, o StorageClasses pode ser definido para conter informações de topologia. Isso determinará os pools de storage que atuam como candidatos a solicitações de PVC feitas e o subconjunto de nós que podem fazer uso dos volumes provisionados pelo Trident.</block>
  <block id="ecb383148a1bc974cba3ac735a79f4c6" category="paragraph">Veja o exemplo a seguir:</block>
  <block id="ab0c7ec9411ede93aa545fbc095c0e75" category="paragraph">Na definição StorageClass fornecida acima,<block ref="086b513e7d83c4cf32a8bd3550679276" prefix=" " category="inline-code"></block> está definida como<block ref="ed783cfa871a96ff337b1ae9a5f8bfa5" prefix=" " category="inline-code"></block>. Os PVCs solicitados com este StorageClass não serão utilizados até que sejam referenciados em um pod. E,<block ref="df6ccab784b5892507a7d11443254dc8" prefix=" " category="inline-code"></block> fornece as zonas e a região a serem usadas. O<block ref="a88a8ddf9fecacf26383a3c60dc3e5fb" prefix=" " category="inline-code"></block> StorageClass criará PVCs no<block ref="e3ed370204229201f6df345a5a590519" prefix=" " category="inline-code"></block> back-end definido acima.</block>
  <block id="df340fb31051c975afb3518dfd32e07c" category="section-title">Passo 3: Criar e usar um PVC</block>
  <block id="f98be29d352e7c38a6502e76bbfaf34c" category="paragraph">Com o StorageClass criado e mapeado para um back-end, agora você pode criar PVCs.</block>
  <block id="c4b17c8733f9f36fdc682242d2b64ab2" category="paragraph">Veja o exemplo<block ref="b979c2934ac0b4ba3f08dabfdd1b2299" prefix=" " category="inline-code"></block> abaixo:</block>
  <block id="427e01a8fca484c85a1e8e3a672b999a" category="paragraph">Criar um PVC usando este manifesto resultaria no seguinte:</block>
  <block id="e65f170821e3417d48579a28989a9260" category="paragraph">Para o Trident criar um volume e vinculá-lo ao PVC, use o PVC em um pod. Veja o exemplo a seguir:</block>
  <block id="9b8ff27bceb4601d1f866c4cf39fe449" category="paragraph">Este podSpec instrui o Kubernetes a agendar o pod em nós presentes na<block ref="71a19c09ed1636680a56d8f8d9766808" prefix=" " category="inline-code"></block> região e escolher entre qualquer nó presente nas<block ref="6b255e25f36cde4f15e99ca4978b2710" prefix=" " category="inline-code"></block> zonas ou<block ref="ed5c4bc41bbc57e4165f20d56c997a77" prefix=" " category="inline-code"></block>.</block>
  <block id="c93345596f9f82deea04d17ef8c6ca89" category="paragraph">Veja a seguinte saída:</block>
  <block id="19ef07597f79648211dbed100709836b" category="section-title">Atualize os backends para incluir<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block></block>
  <block id="476950aea923438779c9544953093cb9" category="paragraph">Os backends pré-existentes podem ser atualizados para incluir uma lista<block ref="1f2a94e142bf020b1f7c6297ec12413f" prefix=" " category="inline-code"></block> de uso<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block>do . Isso não afetará os volumes que já foram provisionados e só será usado para PVCs subsequentes.</block>
  <block id="ded10f93b9e4453980b7009035c63418" category="inline-link">Gerenciar recursos para contêineres</block>
  <block id="47ea3356a13b3f6644e6c05450e9d5e1" category="list-text"><block ref="47ea3356a13b3f6644e6c05450e9d5e1" category="inline-link-rx"></block></block>
  <block id="6370f866cf64618c026027da41bd248e" category="inline-link">NodeSeletor</block>
  <block id="2a4ad9fc807789134426a1b2babc5733" category="list-text"><block ref="2a4ad9fc807789134426a1b2babc5733" category="inline-link-rx"></block></block>
  <block id="873bf2b9b61a741ce5b7326a3a053489" category="inline-link">Afinidade e anti-afinidade</block>
  <block id="ec5df0a2adb621359563958138462e34" category="list-text"><block ref="ec5df0a2adb621359563958138462e34" category="inline-link-rx"></block></block>
  <block id="e1e08e40036f927a0e660c22aa837f88" category="inline-link">Taints e Tolerations</block>
  <block id="66b1e0aa9cd6e46c0b85fdf56a15154a" category="list-text"><block ref="66b1e0aa9cd6e46c0b85fdf56a15154a" category="inline-link-rx"></block></block>
  <block id="c109878131f34375d85b7eff9721dcde" category="summary">Saiba mais sobre como criar e usar um back-end Element com sua instalação do Astra Trident.</block>
  <block id="6792aad2d8c086a9d25f5ad8ec090f35" category="paragraph">Você precisará do seguinte antes de criar um backend de elemento.</block>
  <block id="d1d184cecc23825cff20fabf3cdfb862" category="list-text">Um sistema de storage compatível que executa o software Element.</block>
  <block id="4055116469942da7f6ed83abcf57d0a4" category="list-text">Credenciais para um usuário de administrador ou locatário de cluster do NetApp HCI/SolidFire que possa gerenciar volumes.</block>
  <block id="d5fa5f22855b065d96647dfb0c06d685" category="inline-link-macro">informações sobre a preparação do nó de trabalho</block>
  <block id="6d0abb9b77cb1a57bf68282003ad11b9" category="list-text">Todos os seus nós de trabalho do Kubernetes devem ter as ferramentas iSCSI apropriadas instaladas. <block ref="073953144b84efd85603bb3d49521e06" category="inline-link-macro-rx"></block>Consulte .</block>
  <block id="4e121ce555fa114069539035adefe18e" category="section-title">Modos de volume</block>
  <block id="c443982ebc2d61b1fdf8348209939f8b" category="paragraph">O<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver de armazenamento suporta ambos os modos de volume: Arquivo e bloco. Para o<block ref="ac52cf637478f3656a1fdee5c02324fd" prefix=" " category="inline-code"></block> volumeMode, o Astra Trident cria um volume e cria um sistema de arquivos. O tipo de sistema de arquivos é especificado pelo StorageClass.</block>
  <block id="1b5e109e8afd1f9b7f5bbf951eea3442" category="cell">Modo de volume</block>
  <block id="aa91b58ced7ef060eb0e27ac4e1d18a8" category="paragraph">RWO, ROX, RWX</block>
  <block id="02017e70674a0c740b2b95fbb0cc2aa1" category="paragraph">Sem sistema de ficheiros. Dispositivo de bloco bruto.</block>
  <block id="0b86d82002caac6130185da4ef1be67e" category="paragraph">RWO, ROX</block>
  <block id="e1f3ce04f7f587f86c154146eace2807" category="admonition">O Astra Trident usa o CHAP quando funciona como um supervisor de CSI aprimorado. Se você estiver usando CHAP (que é o padrão para CSI), nenhuma preparação adicional é necessária. Recomenda-se definir explicitamente a<block ref="1cc3921c0ab34ebcad1d7d62dc850c0a" prefix=" " category="inline-code"></block> opção para usar CHAP com Trident não-CSI. Caso contrário, <block ref="195a24f2e3cd9264b9f38d5f581c56cd" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="156ef6dbbdc5c1984194012f4d3505a5" category="admonition">Os grupos de acesso a volume só são compatíveis com a estrutura convencional não CSI para Astra Trident. Quando configurado para funcionar no modo CSI, o Astra Trident usa CHAP.</block>
  <block id="03362d64938adda17736eff8a3b091cc" category="paragraph">Se nenhuma<block ref="86d1f8dbc0e863904895b40bd0ac1775" prefix=" " category="inline-code"></block> ou<block ref="1cc3921c0ab34ebcad1d7d62dc850c0a" prefix=" " category="inline-code"></block> for definida, uma das seguintes regras será aplicada:</block>
  <block id="44b5e5595eea45ebf8e49f88409afdaa" category="list-text">Se o grupo de acesso padrão<block ref="47cb44be55a0dffa15dfc900a4c687be" prefix=" " category="inline-code"></block> for detetado, os grupos de acesso serão usados.</block>
  <block id="f3bf91f3dbbbaec039ad830cc87a1013" category="list-text">Se nenhum grupo de acesso for detetado e a versão do Kubernetes for 1,7 ou posterior, o CHAP será usado.</block>
  <block id="9d370350f8d0178b5dfbec9def10d13a" category="paragraph">Consulte a tabela a seguir para obter as opções de configuração de back-end:</block>
  <block id="2353a0a3a06283f07550efc7bad8a90e" category="cell">Sempre "SolidFire-san"</block>
  <block id="f4210b28f3cf7c1f7e6e328bb42c6060" category="cell">Endereço IP "SolidFire_" e armazenamento (iSCSI)</block>
  <block id="b07ca7de83de58a699966c9bc9003020" category="cell">Porta e endereço IP de armazenamento (iSCSI)</block>
  <block id="eea443d4fcc24d4cd2cab08c2a6c062f" category="cell"><block ref="42cecfeff00cc916fef4f64e7b921079" prefix="" category="inline-code"></block></block>
  <block id="749df53d02481e75dd919dddf42fbbef" category="cell">Conjunto de rótulos arbitrários formatados em JSON para aplicar em volumes.</block>
  <block id="1d76382e861d2df96647216b26d38948" category="cell">""</block>
  <block id="251f1fc42c38ca55f30e5e9d11dac168" category="cell">Nome do locatário a utilizar (criado se não for encontrado)</block>
  <block id="4381b3c378885de93e2166f240096338" category="cell">Restringir o tráfego iSCSI a uma interface de host específica</block>
  <block id="6522432847a0e6902318a976e5533f62" category="cell">"padrão"</block>
  <block id="5ff567e0863a47346f44f87ed793f508" category="cell"><block ref="1cc3921c0ab34ebcad1d7d62dc850c0a" prefix="" category="inline-code"></block></block>
  <block id="d390e6782f0a0af41ea0397e46b5368e" category="cell">Use CHAP para autenticar iSCSI</block>
  <block id="32738663b16444872e4e5721c7c37660" category="cell"><block ref="86d1f8dbc0e863904895b40bd0ac1775" prefix="" category="inline-code"></block></block>
  <block id="c4ca01925aae0c37398f0b30a4ce1273" category="cell">Lista de IDs de Grupo de Acesso a utilizar</block>
  <block id="e64099a24f6ef8bbbdb23c2a803cd065" category="cell">Encontra a ID de um grupo de acesso chamado "Trident"</block>
  <block id="18320b2a705a7bed37a6bc0af4aee093" category="cell">Falha no provisionamento se o tamanho do volume solicitado estiver acima desse valor</block>
  <block id="7962423206a6704e20fa94085d19b517" category="cell">"" (não aplicado por padrão)</block>
  <block id="ae0784115c8f815d4a2ca170c59f3c99" category="cell">Debug flags para usar ao solucionar problemas. Por exemplo, "api":false, "método":true"</block>
  <block id="88dce60232453383ab0d1c3c59cc931d" category="admonition">Não use<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block> a menos que você esteja solucionando problemas e exija um despejo de log detalhado.</block>
  <block id="891d26d5e7410db6c0a971245c6025c0" category="section-title">Exemplo 1: Configuração de back-end para<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver com três tipos de volume</block>
  <block id="3185240fb49cba19667fbdf639f3271e" category="paragraph">Este exemplo mostra um arquivo de back-end usando autenticação CHAP e modelagem de três tipos de volume com garantias de QoS específicas. Provavelmente você definiria classes de armazenamento para consumir cada uma delas usando o<block ref="79073619fba8242703524f16870ff858" prefix=" " category="inline-code"></block> parâmetro de classe de armazenamento.</block>
  <block id="bfd7bf04b3d28a42267e8d1b30a05f01" category="section-title">Exemplo 2: Configuração de classe de back-end e armazenamento para<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver com pools virtuais</block>
  <block id="418ff75ccabac38370cc8570721746a3" category="paragraph">Este exemplo mostra o arquivo de definição de back-end configurado com pools virtuais junto com o StorageClasses que se referem a eles.</block>
  <block id="d0f8c7d1b12ede190acf9656da99c079" category="paragraph">O Astra Trident copia rótulos presentes em um pool de storage para a LUN de storage de back-end no provisionamento. Por conveniência, os administradores de storage podem definir rótulos por pool virtual e volumes de grupo por rótulo.</block>
  <block id="b003731e1d339366ed065ffe5a0f50ca" category="paragraph">No arquivo de definição de back-end de exemplo mostrado abaixo, padrões específicos são definidos para todos os pools de armazenamento, que definem o<block ref="599dcce2998a6b40b1e38e8c6006cb0a" prefix=" " category="inline-code"></block> em Prata. Os pools virtuais são definidos na<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> seção. Neste exemplo, alguns dos pools de armazenamento definem seu próprio tipo, e alguns pools substituem os valores padrão definidos acima.</block>
  <block id="615c9f89b360c50cfba2b2de02584387" category="paragraph">As seguintes definições do StorageClass referem-se aos pools virtuais acima. Usando o<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> campo, cada StorageClass chama qual(s) pool(s) virtual(s) pode(m) ser(ão) usado(s) para hospedar um volume. O volume terá os aspetos definidos no pool virtual escolhido.</block>
  <block id="d17a2942ee77aa1532660a5f0cf0d6e5" category="paragraph">O primeiro StorageClass ) <block ref="166028d9a95f5465a6ae917e6e089ce6" prefix="(" category="inline-code"></block>será mapeado para o primeiro pool virtual. Este é o único pool que oferece desempenho de ouro com um<block ref="89bf6c97f9a3eaea76c86df0086361bc" prefix=" " category="inline-code"></block> de ouro. O último StorageClass ) <block ref="b4457b3eeca98cadb51648f8fcef36cb" prefix="(" category="inline-code"></block>chama qualquer pool de armazenamento que ofereça um desempenho prateado. O Astra Trident decidirá qual pool virtual está selecionado e garantirá que o requisito de storage seja atendido.</block>
  <block id="4d0d37d727675761e4c0e324eb57ca2f" category="list-text"><block ref="4d0d37d727675761e4c0e324eb57ca2f" category="inline-link-macro-rx"></block></block>
  <block id="3fec7156504f6ca677ea0a137456913e" category="summary">Saiba como configurar o Cloud Volumes Service para Google Cloud como back-end para sua instalação do Astra Trident usando as configurações de exemplo fornecidas.</block>
  <block id="53ba532dfa04fe29152221a3efb3e98f" category="doc">Configure um back-end do Cloud Volumes Service para o Google Cloud</block>
  <block id="c891939fd67dfe2cdc8d8bd5a1404644" category="paragraph">Saiba como configurar o NetApp Cloud Volumes Service para Google Cloud como back-end para sua instalação do Astra Trident usando as configurações de exemplo fornecidas.</block>
  <block id="ac7ba403929463ebd2aabb621c443399" category="section-title">Saiba mais sobre o suporte ao Astra Trident para Cloud Volumes Service para Google Cloud</block>
  <block id="1d326a2a7f267c800fe3eafb89e5c7cd" category="inline-link-macro">tipos de serviço</block>
  <block id="f391d05be666574cba6a6b88827e5766" category="paragraph">O Astra Trident pode criar volumes Cloud Volumes Service em um de dois <block ref="a3cd55e5a9ff014b76f6953040234c24" category="inline-link-macro-rx"></block>:</block>
  <block id="3671a5060127094ad405aad9295e6609" category="inline-link-macro">três níveis de serviço</block>
  <block id="9b44bc41471d2c2cc25eb7a9e5e01b49" category="list-text">*CVS-Performance*: O tipo de serviço padrão Astra Trident. Esse tipo de serviço otimizado para performance é mais adequado para workloads de produção que valorizam a performance. O tipo de serviço CVS-Performance é uma opção de hardware que suporta volumes com um tamanho mínimo de 100 GiB. Você pode escolher um dos <block ref="87d12cea36129673eb9128fd986958c5" category="inline-link-macro-rx"></block>:</block>
  <block id="1b3b34a1280074ca8311ff50bbacac6c" category="list-text"><block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix="" category="inline-code"></block></block>
  <block id="3f27980baf5bae9c9c40df09c54f6f23" category="list-text"><block ref="a288195832f8717bca4671416014a464" prefix="" category="inline-code"></block></block>
  <block id="091d891c1f040cef1072e2593b7f1f3b" category="list-text"><block ref="287e9593819b2fcdf9945e7ccacd637d" prefix="" category="inline-code"></block></block>
  <block id="1048ee58172376b84dda9c7505d858ea" category="inline-link-macro">dois níveis de serviço</block>
  <block id="6c62a8c68facf167a61fbd54e9cceb5f" category="list-text">*CVS*: O tipo de serviço CVS fornece alta disponibilidade por zonas com níveis de desempenho limitados a moderados. O tipo de serviço CVS é uma opção de software que usa pools de armazenamento para dar suporte a volumes tão pequenos quanto 1 GiB. O pool de storage pode conter até 50 volumes em que todos os volumes compartilham a capacidade e a performance do pool. Você pode escolher um dos <block ref="21d52e1e64b94d45bea308be30f5a76a" category="inline-link-macro-rx"></block>:</block>
  <block id="277d5dd64fbcc2dbcd79252b41d6113e" category="list-text"><block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix="" category="inline-code"></block></block>
  <block id="4bfd77bf3278584b71bc8c9deef39ca9" category="list-text"><block ref="75b65576cc4a19f0836b73610ad5957a" prefix="" category="inline-code"></block></block>
  <block id="da195e41c537042ae77405110c4512ff" category="paragraph">Para configurar e usar o<block ref="5129d3f1116e9c5221bfcf965a1ede35" category="inline-link-rx"></block> back-end, você precisa do seguinte:</block>
  <block id="66d7ad821e261a4b5099f37ced19ebb1" category="list-text">Uma conta do Google Cloud configurada com o NetApp Cloud Volumes Service</block>
  <block id="2c00ff9c7700dc3529c57f0a5281bbe2" category="list-text">Número do projeto da sua conta do Google Cloud</block>
  <block id="43752d169c5729fffa3a6557a0978cb8" category="list-text">Conta de serviço do Google Cloud com a<block ref="4a5395c87dd91b3242056f83b7cedb9b" prefix=" " category="inline-code"></block> função</block>
  <block id="f56a3add505b7e123b55b814f7acc26b" category="list-text">Arquivo de chave de API para sua conta Cloud Volumes Service</block>
  <block id="4dd7128ceae058946c44bbbb0985ec6f" category="paragraph">Cada back-end provisiona volumes em uma única região do Google Cloud. Para criar volumes em outras regiões, você pode definir backends adicionais.</block>
  <block id="07cc9934740ba3dd46a0d7d2c9502d39" category="cell">"gcp-cvs"</block>
  <block id="f476273c71e20fc5a845a5345a620117" category="cell">Nome do driver e parte da chave da API</block>
  <block id="6eb82a822b962404b9694b93f2967679" category="cell"><block ref="78ec9b60245b46a4f05158076962ace9" prefix="" category="inline-code"></block></block>
  <block id="82409a3ea24b043087a2159a3e1f9f74" category="cell">Parâmetro opcional usado para especificar o tipo de serviço CVS. <block ref="f9fa10ba956cacf91d7878861139efb9" prefix=" " category="inline-code"></block>Use para selecionar o tipo de serviço CVS. Caso contrário, o Astra Trident assume o tipo de serviço CVS-Performance <block ref="3ca14c518d1bf901acc339e7c9cd6d7f" prefix="(" category="inline-code"></block>).</block>
  <block id="5782f9a9357b5678058d6d3ceed21988" category="cell"><block ref="c614017642b6cfd9e6a25c7df122d917" prefix="" category="inline-code"></block></block>
  <block id="4efa10ec47c98c5ed67e1a72f7515240" category="cell">Apenas tipo de serviço CVS. Parâmetro opcional usado para especificar pools de armazenamento para criação de volume.</block>
  <block id="c96383270cbab23de47b4f0961f64929" category="cell"><block ref="80ef6899136dfcff295c16caa93c2138" prefix="" category="inline-code"></block></block>
  <block id="4149383e1cf45a36b373c5bded2ff6ba" category="cell">Número do projeto da conta Google Cloud. O valor é encontrado na página inicial do portal do Google Cloud.</block>
  <block id="1a269fb3ec0496720ca75e984d8de40e" category="cell"><block ref="b5caf2c58446baec75b83bf637a98d1b" prefix="" category="inline-code"></block></block>
  <block id="f0559497c76611a262c1a6fa93592cd7" category="cell">Necessário se estiver usando uma rede VPC compartilhada. Neste cenário,<block ref="80ef6899136dfcff295c16caa93c2138" prefix=" " category="inline-code"></block> é o projeto de serviço, e<block ref="b5caf2c58446baec75b83bf637a98d1b" prefix=" " category="inline-code"></block> é o projeto host.</block>
  <block id="2086191016950a784040f7d22ab27f60" category="cell"><block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix="" category="inline-code"></block></block>
  <block id="dbac640079c94d4a257a3513191a1ad6" category="cell">A região do Google Cloud onde o Astra Trident cria o Cloud Volumes Service volumes. Ao criar clusters de Kubernetes entre regiões, os volumes criados em um<block ref="1e9c0fd1beef5ff8ed3bef2ae3b7e560" prefix=" " category="inline-code"></block> podem ser usados em workloads programados em nós em várias regiões do Google Cloud. O tráfego entre regiões incorre em um custo adicional.</block>
  <block id="a34d72a685d5e27eb6bc18f54a7bab1d" category="cell"><block ref="c9ff119073ea2567730fb42e3a4fe805" prefix="" category="inline-code"></block></block>
  <block id="665f1a07bc016a07fdc13ef823fcdb03" category="cell">Chave de API para a conta de serviço do Google Cloud com a<block ref="4a5395c87dd91b3242056f83b7cedb9b" prefix=" " category="inline-code"></block> função. Ele inclui o conteúdo formatado em JSON do arquivo de chave privada de uma conta de serviço do Google Cloud (copiado literalmente no arquivo de configuração de back-end).</block>
  <block id="af18429250667f805769a7755a008c1f" category="cell"><block ref="10231d8ea5ef7f2b145e34a646b05e79" prefix="" category="inline-code"></block></block>
  <block id="3430995d97c2d987bf88dfb93ddb34f7" category="cell">URL do proxy se o servidor proxy for necessário para se conetar à conta CVS. O servidor proxy pode ser um proxy HTTP ou um proxy HTTPS. Para um proxy HTTPS, a validação do certificado é ignorada para permitir o uso de certificados autoassinados no servidor proxy. Os servidores proxy com autenticação ativada não são suportados.</block>
  <block id="b9cc8276829a756e7a22476617204267" category="cell">Controle refinado das opções de montagem NFS.</block>
  <block id="4d9239a7fce916964ba8529021ab535f" category="cell">Falha no provisionamento se o tamanho do volume solicitado estiver acima desse valor.</block>
  <block id="c4105759a421b56f4e5aa47752aa6812" category="cell">O nível de serviço CVS-Performance ou CVS para novos volumes. Os valores CVS-Performance são<block ref="c00f0c4675b91fb8b918e4079a0b1bac" prefix=" " category="inline-code"></block>,<block ref="a288195832f8717bca4671416014a464" prefix=" " category="inline-code"></block>,<block ref="287e9593819b2fcdf9945e7ccacd637d" prefix=" " category="inline-code"></block> ou . Os valores CVS são<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block> ou<block ref="75b65576cc4a19f0836b73610ad5957a" prefix=" " category="inline-code"></block>.</block>
  <block id="5c3d9364df4807427e3297a90edf2831" category="cell">O padrão CVS-Performance é "padrão". O padrão CVS é "standardsw".</block>
  <block id="1631dca111b8c1a922c7f29d48eb7121" category="cell"><block ref="91e02cd2b8621d0c05197f645668c5c4" prefix="" category="inline-code"></block></block>
  <block id="5715e76155b75e9062107ef13c0576ed" category="cell">Rede Google Cloud usada para Cloud Volumes Service volumes.</block>
  <block id="ad438db80cb3bcd5f6fccdb1010b02f1" category="cell">Debug flags para usar ao solucionar problemas. Exemplo,<block ref="9b8710f6da218ae915e4ba2ae63f23d0" prefix=" " category="inline-code"></block>. Não use isso a menos que você esteja solucionando problemas e exija um despejo de log detalhado.</block>
  <block id="a5f4597012dd7af2b717fd4cc2f687fe" category="cell"><block ref="df6ccab784b5892507a7d11443254dc8" prefix="" category="inline-code"></block></block>
  <block id="d2e98deb07632de971600ae032776fe8" category="cell">Para habilitar o acesso entre regiões, a definição do StorageClass para<block ref="df6ccab784b5892507a7d11443254dc8" prefix=" " category="inline-code"></block> deve incluir todas as regiões. Por exemplo:<block ref="3e7c75911911d149520dd40104fd92d7" prefix=" " category="inline-code"></block></block>
  <block id="eb60cd2c0cff094ad0ecbe9d6fededcf" category="section-title">Opções de provisionamento de volume</block>
  <block id="afe8445a326424c54dfec7cc20994e8f" category="paragraph">Você pode controlar o provisionamento de volume padrão<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> na seção do arquivo de configuração.</block>
  <block id="fdcd5d79603b7f7c0f9b4525dd19b6ab" category="cell">As regras de exportação para novos volumes. Deve ser uma lista separada por vírgulas de qualquer combinação de endereços IPv4 ou sub-redes IPv4 na notação CIDR.</block>
  <block id="51b2015e6da8653f4041b71312ad43fe" category="cell">Acesso ao<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> diretório</block>
  <block id="31ed61cc3c85d0bb697cd12b77f37fd1" category="cell">Porcentagem de volume reservado para snapshots</block>
  <block id="e76dcf1d6497658a2994b5f1f65b7a83" category="cell">"" (aceitar o padrão CVS de 0)</block>
  <block id="d5c8102144978e060556ba194e006d1e" category="cell">O tamanho dos novos volumes. O mínimo de desempenho do CVS é de 100 GiB. CVS mínimo é de 1 GiB.</block>
  <block id="400f2f53e7d26564783ac50a601d32cb" category="cell">O tipo de serviço CVS-Performance é padrão para "100GiB". O tipo de serviço CVS não define um padrão, mas requer um mínimo de 1 GiB.</block>
  <block id="94e5c486f56b72f4237fe801615b4406" category="section-title">Exemplos de tipos de serviço CVS-Performance</block>
  <block id="dea6ff4202a54251e04f7b84647690b6" category="paragraph">Os exemplos a seguir fornecem exemplos de configurações para o tipo de serviço CVS-Performance.</block>
  <block id="ae174742813090d1ddbc3ed75d27f7f2" category="paragraph">Essa é a configuração mínima de back-end usando o tipo de serviço CVS-Performance padrão com o nível de serviço padrão.</block>
  <block id="8228a8de88271b4a6a07d5021ae4ff7c" category="example-title">Exemplo 2: Configuração do nível de serviço</block>
  <block id="38a24bdf59c77f7705c407c60f3ea81e" category="paragraph">Este exemplo ilustra as opções de configuração de back-end, incluindo nível de serviço e padrões de volume.</block>
  <block id="4565a2282ee3312eddd091b3a3f6a263" category="example-title">Exemplo 3: Configuração de pool virtual</block>
  <block id="ed7c2c2093c7c8deca88a6580c82633a" category="paragraph">Este exemplo usa<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> para configurar pools virtuais e os<block ref="f652904c3bfb48fb25a0a75f485f0ff6" prefix=" " category="inline-code"></block> que se referem a eles. <block ref="f986c11e10e5f3c768f256080a1f3f99" category="inline-xref-macro-rx"></block>Consulte para ver como as classes de armazenamento foram definidas.</block>
  <block id="935927e4b464388790a08251e1c2254d" category="paragraph">Aqui, padrões específicos são definidos para todos os pools virtuais, que definem o<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> em 5% e o<block ref="c72971f17465d2a32345bc872af62a34" prefix=" " category="inline-code"></block> para 0,0.0,0/0. Os pools virtuais são definidos na<block ref="ddecebdea58b5f264d27f1f7909bab74" prefix=" " category="inline-code"></block> seção. Cada pool virtual individual define seu próprio<block ref="f1d0ae63f2e948a9e43dcc60303d595d" prefix=" " category="inline-code"></block>, e alguns pools substituem os valores padrão. Rótulos de pool virtual foram usados para diferenciar os pools com base em<block ref="c05f6c233521207f6fe311afef550c3c" prefix=" " category="inline-code"></block> e<block ref="152f5dc0f7ac734f8e8ee17d4a482462" prefix=" " category="inline-code"></block>.</block>
  <block id="857fa84eb2e850753da87c8599addab3" category="section-title">Definições de classe de armazenamento</block>
  <block id="5b797cdb3913e416eaea99109620eb0d" category="paragraph">As seguintes definições do StorageClass se aplicam ao exemplo de configuração de pool virtual. Usando<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block>o , você pode especificar para cada StorageClass o pool virtual usado para hospedar um volume. O volume terá os aspetos definidos no pool escolhido.</block>
  <block id="ea7cdbae94b0329e6731e1f3ae9fc4fc" category="example-title">Exemplo de classe de armazenamento</block>
  <block id="48bbf2b27d410d92674b0f8f5d3447a0" category="list-text">O primeiro StorageClass ) <block ref="d3b08f69c5bb5aadd45b7ba9391c7447" prefix="(" category="inline-code"></block>mapeia para o primeiro pool virtual. Esse é o único pool que oferece desempenho extremo com uma reserva de snapshot de 10%.</block>
  <block id="c218d6520025e93f73bb7b0b289f3ebe" category="list-text">O último StorageClass ) <block ref="92c87bc6be7db462499a5a2258aa7ba9" prefix="(" category="inline-code"></block>chama qualquer pool de armazenamento que forneça uma reserva de snapshot de 10%. O Astra Trident decide qual pool virtual está selecionado e garante que o requisito de reserva de snapshot seja atendido.</block>
  <block id="d371b8466ee11b2a14782e343e3ed344" category="section-title">Exemplos de tipo de serviço CVS</block>
  <block id="f7a4e685ebf6839fc43b3bbaeff96c33" category="paragraph">Os exemplos a seguir fornecem exemplos de configurações para o tipo de serviço CVS.</block>
  <block id="96899a80429985fe87db6dedf997357e" category="example-title">Exemplo 1: Configuração mínima</block>
  <block id="2bab01748045e624b36f643d0a50b1c2" category="paragraph">Essa é a configuração mínima de back-end usada<block ref="78ec9b60245b46a4f05158076962ace9" prefix=" " category="inline-code"></block> para especificar o tipo de serviço CVS e o nível de serviço padrão<block ref="317ec56a799e879712bbd2d0fcbd3b93" prefix=" " category="inline-code"></block>.</block>
  <block id="d1f5fcc31a1c5bb592600c9f986af71c" category="example-title">Exemplo 2: Configuração do pool de armazenamento</block>
  <block id="879b7d1da5135e7d94358584a7245e33" category="paragraph">Essa configuração de back-end de exemplo é usada<block ref="c614017642b6cfd9e6a25c7df122d917" prefix=" " category="inline-code"></block> para configurar um pool de armazenamento.</block>
  <block id="58eaebf972358f1cf03d386a4ade1a0f" category="section-title">O que se segue?</block>
  <block id="bc960ce53bb0d62c44b5a3f212c279d3" category="summary">Você pode criar uma classe de armazenamento, excluir uma classe de armazenamento e exibir classes de armazenamento existentes.</block>
  <block id="e8b9c3a9859a62e9a58431c3b61f75d5" category="doc">Gerenciar classes de armazenamento</block>
  <block id="e123173acd76721f31496874fd778eca" category="section-title">Crie uma classe de armazenamento</block>
  <block id="a9a4b52c93b141ba28676afe58a5900d" category="paragraph">Consulte <block ref="5a81d2db77288939223c6a591fc3991d" category="inline-link-macro-rx"></block> para obter mais informações sobre quais são as classes de armazenamento e como as configura.</block>
  <block id="14f4c7abe09c4481722f1fa6563f2604" category="section-title">Crie uma classe de armazenamento</block>
  <block id="99b068c418b4a658f64806517e8567ac" category="paragraph">Depois de ter um arquivo de classe de armazenamento, execute o seguinte comando:</block>
  <block id="fac03ff7d61c420a4caeeb44355cb2be" category="paragraph"><block ref="16539286056ccd618760fa6ebd888747" prefix="" category="inline-code"></block> deve ser substituído pelo nome do arquivo da classe de armazenamento.</block>
  <block id="0fe0aa7b9b7529f66030afb1629507bb" category="section-title">Excluir uma classe de armazenamento</block>
  <block id="4bf50148821c75f616a96daca9255e6f" category="paragraph">Para excluir uma classe de armazenamento do Kubernetes, execute o seguinte comando:</block>
  <block id="65494a0b3404ce637afd88bcb7c82998" category="paragraph"><block ref="4c13babc60c6bf50b7fe85107bcf8af2" prefix="" category="inline-code"></block> deve ser substituído pela sua classe de armazenamento.</block>
  <block id="a5f526f5d63d827ce2c0146a20cd2ff7" category="paragraph">Todos os volumes persistentes criados com essa classe de storage permanecerão intocados, e o Astra Trident continuará gerenciá-los.</block>
  <block id="ded47128219e64b5f24343dab357151b" category="admonition">O Astra Trident impõe um espaço em branco<block ref="7cfbb6f07899c8071ff38e69dca190e2" prefix=" " category="inline-code"></block> para os volumes que cria. Para backends iSCSI, recomenda-se aplicar<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block> no StorageClass. Você deve excluir StorageClasses existentes e recriá-los com<block ref="01cd995fd9a843d3ca767e057de28873" prefix=" " category="inline-code"></block> especificado.</block>
  <block id="e606165355271961ba07945766fbf83a" category="section-title">Exibir as classes de armazenamento existentes</block>
  <block id="7c237bc6c124137d25df2dec1cb3e528" category="list-text">Para visualizar as classes de armazenamento do Kubernetes existentes, execute o seguinte comando:</block>
  <block id="4aae22fbb9c0d354d0a9c15c6c126d89" category="list-text">Para ver os detalhes da classe de storage do Kubernetes, execute o seguinte comando:</block>
  <block id="bed443a9c5577e1043c277e8ebbb542f" category="list-text">Para exibir as classes de storage sincronizadas do Astra Trident, execute o seguinte comando:</block>
  <block id="db66cf4d314ab7a719a76ed3af1b0173" category="list-text">Para visualizar os detalhes da classe de storage sincronizado do Astra Trident, execute o seguinte comando:</block>
  <block id="ce32eb748bd7452bd6ee6d1d7ad6d3a7" category="section-title">Defina uma classe de armazenamento padrão</block>
  <block id="f30a1542c01c3c493f3c01c88dfe5fcd" category="paragraph">O Kubernetes 1,6 adicionou a capacidade de definir uma classe de storage padrão. Esta é a classe de armazenamento que será usada para provisionar um volume persistente se um usuário não especificar um em uma reivindicação de volume persistente (PVC).</block>
  <block id="7c435ae4763642458286cb691812ea55" category="list-text">Defina uma classe de armazenamento padrão definindo a anotação<block ref="2e87d06175a666e414e1b430b811ef2d" prefix=" " category="inline-code"></block> como verdadeira na definição da classe de armazenamento. De acordo com a especificação, qualquer outro valor ou ausência da anotação é interpretado como falso.</block>
  <block id="61fd76f55d29aaceb4a6ee09a318dc45" category="list-text">Você pode configurar uma classe de armazenamento existente para ser a classe de armazenamento padrão usando o seguinte comando:</block>
  <block id="800477137444bec636483de85335cbb5" category="list-text">Da mesma forma, você pode remover a anotação de classe de armazenamento padrão usando o seguinte comando:</block>
  <block id="2d2f31c3012657fd7b38b41312d1a0b8" category="paragraph">Há também exemplos no pacote de instalação do Trident que incluem esta anotação.</block>
  <block id="94d8ac3a8d98f2232d3dc735878a5bc3" category="admonition">Você deve ter apenas uma classe de armazenamento padrão em seu cluster a qualquer momento. O Kubernetes não impede tecnicamente que você tenha mais de um, mas se comportará como se não houvesse nenhuma classe de storage padrão.</block>
  <block id="6c36cb9c072dc4cb9e163c44568f6a91" category="section-title">Identificar o back-end de uma classe de storage</block>
  <block id="dc0742ede78913414129866d60898f67" category="paragraph">Este é um exemplo do tipo de perguntas que você pode responder com o JSON que<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> produz para objetos backend Astra Trident. Isso usa o<block ref="d8757fb4e9ea07606d23a1ef5a4b8d4e" prefix=" " category="inline-code"></block> utilitário, que você pode precisar instalar primeiro.</block>
  <block id="bee1e2306bc7054ee443dc651eae90de" category="summary">O Astra Trident fornece um conjunto de pontos de extremidade de métricas Prometheus que você pode usar para monitorar a performance do Astra Trident.</block>
  <block id="44a004cad6eb7ea8839aaa8754ead178" category="doc">Monitore o Astra Trident</block>
  <block id="5178ad00e596ece0be9aceff179b4303" category="paragraph">O Astra Trident fornece um conjunto de pontos de extremidade de métricas Prometheus que você pode usar para monitorar a performance do Astra Trident.</block>
  <block id="c827f266cf12e05adc1fe95215415abf" category="paragraph">As métricas fornecidas pelo Astra Trident permitem que você faça o seguinte:</block>
  <block id="6111d709595b0a106ff313a249eb9d92" category="list-text">Acompanhe a integridade e a configuração do Astra Trident. Você pode examinar como as operações são bem-sucedidas e se elas podem se comunicar com os backends como esperado.</block>
  <block id="64dbac0ca36d9b1f6a8cf1e8a0123261" category="list-text">Examine as informações de uso do back-end e entenda quantos volumes são provisionados em um back-end e a quantidade de espaço consumido, etc.</block>
  <block id="7f6516030964b624d9c71fd9ec7f83dd" category="list-text">Mantenha um mapeamento da quantidade de volumes provisionados em backends disponíveis.</block>
  <block id="e436794bccbe602731bbde7766c1fa49" category="list-text">Acompanhe o desempenho. Você pode ver quanto tempo leva para que o Astra Trident se comunique com back-ends e realize operações.</block>
  <block id="efe0d75090a22534acabc936f8669994" category="admonition">Por padrão, as métricas do Trident são expostas na porta de destino<block ref="bc3c4a6331a8a9950945a1aa8c95ab8a" prefix=" " category="inline-code"></block> no<block ref="ae3b848d2daecffc635ae20b0b882d8f" prefix=" " category="inline-code"></block> endpoint. Essas métricas são *ativadas por padrão* quando o Trident está instalado.</block>
  <block id="1ed994b9754ad078cfc46aaf3dbf3a5d" category="list-text">Um cluster Kubernetes com Astra Trident instalado.</block>
  <block id="eb8bfd69bb88378a6f4d987811890ce6" category="inline-link">Implantação do Prometheus em contêiner</block>
  <block id="42ae2e91a939ffa9bbda53c10bf5f89f" category="inline-link">aplicação nativa</block>
  <block id="050899631250104f17d24b27cc8a12e5" category="list-text">Uma instância Prometheus. Isso pode ser um<block ref="bd5b9e4bd7b88b90afb221fb760a777c" category="inline-link-rx"></block> ou você pode optar por executar Prometheus como um<block ref="3f1d5beaea78c0fd8cb397fbeb1c88bd" category="inline-link-rx"></block>.</block>
  <block id="68276ca40dfbfd36de911402152fa452" category="section-title">Passo 1: Defina um alvo Prometheus</block>
  <block id="84c49e3c77b51ea186020145ae78103f" category="paragraph">Você deve definir um alvo Prometheus para reunir as métricas e obter informações sobre os back-ends que o Astra Trident gerencia, os volumes que ele cria e assim por diante. <block ref="dc7964965bf1b3af43b28caf6231e550" category="inline-link-rx"></block>Isso explica como você pode usar Prometheus e Grafana com o Astra Trident para recuperar métricas. O blog explica como você pode executar o Prometheus como um operador no cluster Kubernetes e a criação de um ServiceMonitor para obter as métricas do Astra Trident.</block>
  <block id="c33638e0de87536b08eeb94264671d0f" category="section-title">Passo 2: Crie um Prometheus ServiceMonitor</block>
  <block id="81a21a88b42cd5c83d149a080a627bad" category="paragraph">Para consumir as métricas do Trident, você deve criar um Prometheus ServiceMonitor que vigia<block ref="d9585690fd147c34fbd50c487a3520de" prefix=" " category="inline-code"></block> o serviço e escuta na<block ref="aa59d67c2123f094d0d6798ffe651c4d" prefix=" " category="inline-code"></block> porta. Um exemplo de ServiceMonitor se parece com isso:</block>
  <block id="bfc1ad0fa725ea87ea056b2f2e8b6fe8" category="paragraph">Essa definição do ServiceMonitor recupera as métricas retornadas pelo<block ref="d9585690fd147c34fbd50c487a3520de" prefix=" " category="inline-code"></block> serviço e procura especificamente o<block ref="aa59d67c2123f094d0d6798ffe651c4d" prefix=" " category="inline-code"></block> ponto final do serviço. Como resultado, prometeu agora está configurado para entender as métricas do Astra Trident.</block>
  <block id="07338294bd70ea1e7710a574d7c8e2ce" category="paragraph">Além das métricas disponíveis diretamente do Astra Trident, o kubelet expõe muitas<block ref="f706c2d1cef9479098166eec3d215483" prefix=" " category="inline-code"></block> métricas por meio do seu próprio ponto de extremidade de métricas. O Kubelet pode fornecer informações sobre os volumes anexados e pods e outras operações internas que ele manipula. <block ref="3f1f0977d0df3e8b343e403140284021" category="inline-link-rx"></block>Consulte .</block>
  <block id="1db2022a8a8de5d612eda8e3be0e1065" category="section-title">Passo 3: Consultar métricas do Trident com PromQL</block>
  <block id="f5142e19a3b1edf809fce9d3b6aefc05" category="paragraph">PromQL é bom para criar expressões que retornam dados de séries temporais ou tabulares.</block>
  <block id="8c6fb1be2521fd16337c11c626672678" category="paragraph">Aqui estão algumas consultas PromQL que você pode usar:</block>
  <block id="b214fd0009b3929347f097bd843f0bfd" category="section-title">Obtenha informações de saúde do Trident</block>
  <block id="69fc54b5fac064131422d41948eb77ed" category="list-text">**Porcentagem de respostas HTTP 2XX do Astra Trident**</block>
  <block id="f43362a8efc950ece8c14d4e5faddfa4" category="list-text">**Porcentagem de RESPOSTAS REST do Astra Trident via código de status**</block>
  <block id="e69d9a06025140f38adabb6f709f6e5b" category="list-text">**Duração média em ms das operações realizadas pelo Astra Trident**</block>
  <block id="0505e17dec1e849391ad96f558fa613a" category="section-title">Obtenha informações de uso do Astra Trident</block>
  <block id="f160a52d617adf6e6c5d379a9b8bca89" category="list-text">**Tamanho médio do volume**</block>
  <block id="eb978bfe01ec0c72ad231f3953e304a2" category="list-text">**Espaço total de volume provisionado por cada back-end**</block>
  <block id="5f735ae12eafbe476178928f4645475b" category="section-title">Obtenha uso de volume individual</block>
  <block id="ee0898e9f0caa503f3eaa39c919f4c53" category="admonition">Isso é ativado somente se as métricas do kubelet também forem coletadas.</block>
  <block id="0bc301d2423b2ffaa38a5e275e4ec6f9" category="list-text">** Porcentagem de espaço usado para cada volume**</block>
  <block id="8516d75df966e595bd1b5491acd01515" category="section-title">Saiba mais sobre a telemetria do Astra Trident AutoSupport</block>
  <block id="6f4ddec0f501988d2b0315a77c87eeaa" category="paragraph">Por padrão, o Astra Trident envia métricas de Prometheus e informações básicas de back-end para o NetApp em uma cadência diária.</block>
  <block id="5276683815b670b0addfb8c8a45bbb41" category="list-text">Para impedir que o Astra Trident envie métricas e informações básicas de back-end para o NetApp, passe a<block ref="284e51f7c35ac8708577507873ff928e" prefix=" " category="inline-code"></block> bandeira durante a instalação do Astra Trident.</block>
  <block id="ca0f9a86ca33f1d6baa9051bd7f4ed21" category="inline-link">política de privacidade</block>
  <block id="5b58783cbe6d85941bac008d83d3f5c8" category="list-text">O Astra Trident também pode enviar logs de contêiner para o suporte do NetApp sob demanda por meio<block ref="8cf945b97dde0c7bfc643bea7edbff67" prefix=" " category="inline-code"></block>do . Você precisará acionar o Astra Trident para fazer o upload dos seus logs. Antes de enviar logs, você deve aceitar o NetApp'<block ref="91b6c0438017ba5fa21c286a96d5acb4" category="inline-link-rx"></block>s .</block>
  <block id="63b95d84cf55d169b2592f3ac621055f" category="list-text">A menos que especificado, o Astra Trident obtém os logs das últimas 24 horas.</block>
  <block id="5224919a4ae5ccf610fb0ee74e4e7a94" category="inline-link">Trident AutoSupport</block>
  <block id="a84a64b02579dc14f89cbfdf30b6e938" category="list-text">Você pode especificar o período de tempo de retenção do log com o<block ref="86339c2ed773d5bd944b82d3086d3477" prefix=" " category="inline-code"></block> sinalizador. Por exemplo<block ref="e238339d491d4840f7d8e509bdbb7b63" prefix=" " category="inline-code"></block>: . Essas informações são coletadas e enviadas por meio<block ref="9d80ca17f097c8e365550f4036ccf0e3" prefix=" " category="inline-code"></block> de um contêiner que é instalado ao lado do Astra Trident. Pode obter a imagem do contentor em<block ref="1b00454f0ab35dcec2ee1a0061efc6e5" category="inline-link-rx"></block>.</block>
  <block id="53084cad3d11df800502598c11e2d10b" category="inline-link">EULA</block>
  <block id="b9a641d903e611a87a5e68ac7fdb0b84" category="list-text">A Trident AutoSupport não coleta nem transmite informações de identificação pessoal (PII) ou informações pessoais. Ele vem com um<block ref="173a360b412944768c2ab13e6c8fd1c7" category="inline-link-rx"></block> que não é aplicável à própria imagem de contentor Trident. Você pode saber mais sobre o compromisso da NetApp com a segurança e a confiança dos dados<block ref="d3cc55401bc8303e01c6b0c43ba0733f" category="inline-link-rx"></block> .</block>
  <block id="89f0f2832f60f480805faf638848c5b7" category="paragraph">Um exemplo de payload enviado pelo Astra Trident é parecido com este:</block>
  <block id="d2ec86f126f845e79aff07e70bf89472" category="list-text">As mensagens do AutoSupport são enviadas para o ponto de extremidade do AutoSupport do NetApp. Se você estiver usando um Registro privado para armazenar imagens de contentor, você pode usar o<block ref="53b228c1c8295f49b0c35325e14fcd6a" prefix=" " category="inline-code"></block> sinalizador.</block>
  <block id="86c5a11fba83815412aec79f67f2d276" category="list-text">Você também pode configurar URLs de proxy gerando os arquivos YAML de instalação. Isso pode ser feito usando<block ref="758aee5ba3aed3d4e9a31a16ea04b47a" prefix=" " category="inline-code"></block> para criar os arquivos YAML e adicionar o<block ref="46f08f4431bbd907a039e14ddf39cf5f" prefix=" " category="inline-code"></block> argumento para o<block ref="9d80ca17f097c8e365550f4036ccf0e3" prefix=" " category="inline-code"></block> contentor no<block ref="eb6cdeddd28243c1552ea3b1061b4410" prefix=" " category="inline-code"></block>.</block>
  <block id="46ab735110312d196d5265e534453cba" category="section-title">Desativar métricas do Astra Trident</block>
  <block id="8ec47dab227d183e0d3ad0cd529d289b" category="paragraph">Para **desabilitar métricas** de serem reportadas, você deve gerar YAMLs personalizados (usando o<block ref="5de93c87952cd098700fb8d46daed4d6" prefix=" " category="inline-code"></block> sinalizador) e editá-los para remover o<block ref="7d91b1e10cf86478be03f54a8c39320a" prefix=" " category="inline-code"></block> sinalizador de ser invocado para o<block ref="7883e3d8f80ff24d70c49bd975fb3f75" prefix=" " category="inline-code"></block> contentor.</block>
  <block id="433d29840a179b402df37de14e4679f3" category="summary">Saiba como criar e usar drivers nas ONTAP com sua instalação do Astra Trident. Esta seção fornece exemplos de configuração de back-end e detalhes sobre como mapear backends para StorageClasses.</block>
  <block id="a85f55a18073767a4945eac810e72cb2" category="cell">"ONTAP-nas", "ONTAP-nas-economy", "ONTAP-nas-FlexGroup", "ONTAP-san", "ONTAP-san-economy"</block>
  <block id="237d7a1666794b0937adde704bb4795c" category="cell">Nome do driver</block>
  <block id="5b7532a7b48ec4e7b24ef0f5977589de" category="cell">Endereço IP de um cluster ou LIF de gerenciamento de SVM para switchover MetroCluster otimizado, você precisa especificar um LIF de gerenciamento de SVM. Um nome de domínio totalmente qualificado (FQDN) pode ser especificado. Pode ser definido para usar endereços IPv6 se o Astra Trident tiver sido instalado usando o<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> sinalizador. Os endereços IPv6 devem ser definidos entre colchetes, como [28e8:d9fb:a825:b7bf:69a8:d02f:9e7b:3555].</block>
  <block id="c560b8d02093547d93a87c72d8b16eaf" category="cell">"10,0.0,1", "[2001:1234:abcd::fefe]"</block>
  <block id="41a45a3b55b7354dab0d81bb0ad06493" category="cell">Endereço IP do protocolo LIF. Recomendamos especificar<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block>. Se não for fornecido, o Astra Trident obtém LIFs de dados do SVM. Você pode especificar um nome de domínio totalmente qualificado (FQDN) a ser usado para as operações de montagem NFS, permitindo que você crie um DNS de round-robin para balanceamento de carga em vários LIFs de dados. Pode ser alterado após a definição inicial. <block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>Consulte a . Pode ser definido para usar endereços IPv6 se o Astra Trident tiver sido instalado usando o<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> sinalizador. Os endereços IPv6 devem ser definidos entre colchetes, como [28e8:d9fb:a825:b7bf:69a8:d02f:9e7b:3555].</block>
  <block id="ae8df8316f5c485b7db4e7141e899701" category="cell">Endereço especificado ou derivado do SVM, se não for especificado (não recomendado)</block>
  <block id="a0f3a965c12688befda99da850903dcb" category="cell"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block></block>
  <block id="ad898a5f5863162f9c13e958485877d5" category="cell">Ativar a criação e atualização automática da política de exportação [Boolean]. Com<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> as opções e<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>, o Astra Trident pode gerenciar políticas de exportação automaticamente.</block>
  <block id="b4ad0dff08149092bc3e4b16572af575" category="cell"><block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix="" category="inline-code"></block></block>
  <block id="61d28c885ea44666257b77069a1c5c61" category="cell">Lista de CIDR para filtrar IPs de nós do Kubernetes em relação ao<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> quando o está ativado. Com<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> as opções e<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>, o Astra Trident pode gerenciar políticas de exportação automaticamente.</block>
  <block id="e537a193eb90bd46a645ce750bb5f3fc" category="cell">["0,0.0,0/0", "::/0"]»</block>
  <block id="b5cbbe3dadaab4a036fdb38af67ee936" category="cell">Conjunto de rótulos arbitrários formatados em JSON para aplicar em volumes</block>
  <block id="cbdaf784161be9806a24fe78a8046c01" category="cell"><block ref="79fffaff4013c1e8c508e76646eca77b" prefix="" category="inline-code"></block></block>
  <block id="a84cbedc106b973917ae925d04533f97" category="cell">Valor codificado em base64 do certificado do cliente. Usado para autenticação baseada em certificado</block>
  <block id="8545e54eea74cf2579fbe1cb56b11862" category="cell"><block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix="" category="inline-code"></block></block>
  <block id="4a54228eb2be79492f8f76bb814ddf63" category="cell">Valor codificado em base64 da chave privada do cliente. Usado para autenticação baseada em certificado</block>
  <block id="b071cd8105f8f59b777098388b7a3322" category="cell"><block ref="8468461bca00a47ab5ddba2afc45f52c" prefix="" category="inline-code"></block></block>
  <block id="ffe4ce29fe1a6176d496c40332e9cb98" category="cell">Valor codificado em base64 do certificado CA confiável. Opcional. Usado para autenticação baseada em certificado</block>
  <block id="83425e975af1b2d60355aa4162300198" category="cell">Nome de usuário para se conetar ao cluster/SVM. Usado para autenticação baseada em credenciais</block>
  <block id="63d06d6cc41e485615f99a3aad0002b3" category="cell">Senha para se conectar ao cluster/SVM. Usado para autenticação baseada em credenciais</block>
  <block id="972abf48cbbadbcd573754140d35e19a" category="cell">Máquina virtual de armazenamento para usar</block>
  <block id="ef65dd3301d78701f7cfcf8a01834f2f" category="cell">Derivado se uma SVM<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> for especificada</block>
  <block id="e3f688f3aa653574b3253640aa98f47c" category="cell">Prefixo usado ao provisionar novos volumes na SVM. Não pode ser atualizado depois de configurá-lo</block>
  <block id="a996d2f8e072c583d6cc26aa1e4aba87" category="cell">"Trident"</block>
  <block id="82530dd92610570d634788e7fac29c1b" category="cell">Falha no provisionamento se o uso estiver acima dessa porcentagem. *Não se aplica ao Amazon FSX for ONTAP*</block>
  <block id="66896c99fb06e0b6c86498b249f8217a" category="cell">Falha no provisionamento se o tamanho do volume solicitado estiver acima desse valor.</block>
  <block id="9d96dfa28e7454a1119de523123a1e05" category="cell">"" (não aplicado por padrão)</block>
  <block id="9f0e1cc91ea4107261588e8f1bd02d07" category="cell">Falha no provisionamento se o tamanho do volume solicitado estiver acima desse valor. Também restringe o tamanho máximo dos volumes que gerencia para qtrees e LUNs, e a<block ref="8b08152c170e621ffcc8bfac7c4d6785" prefix=" " category="inline-code"></block> opção permite personalizar o número máximo de qtrees por FlexVol.</block>
  <block id="c9a303edbc714d051896c3a678e59a8a" category="cell"><block ref="10c2308c62a9c0c2c33bcb4ad2f72be1" prefix="" category="inline-code"></block></block>
  <block id="79892588cbecd0b88729ea1a55b2a3a4" category="cell">Máximo de LUNs por FlexVol, tem de estar no intervalo [50, 200]</block>
  <block id="2d782f413944b272c911c548418a18a3" category="cell">"100"</block>
  <block id="5c8b39f8ec19acb1fddb0b5c021f090d" category="cell">Debug flags para usar ao solucionar problemas. Por exemplo, não use<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block> a menos que você esteja solucionando problemas e exija um despejo de log detalhado.</block>
  <block id="b660669829d401dc613c20939ed01e6e" category="cell">Lista separada por vírgulas de opções de montagem NFS. As opções de montagem para volumes persistentes do Kubernetes normalmente são especificadas em classes de storage, mas se nenhuma opção de montagem for especificada em uma classe de storage, o Astra Trident voltará a usar as opções de montagem especificadas no arquivo de configuração do back-end de storage. Se nenhuma opção de montagem for especificada na classe de storage ou no arquivo de configuração, o Astra Trident não definirá nenhuma opção de montagem em um volume persistente associado.</block>
  <block id="a13306f726fdf72d2d992a7ebdc63b1b" category="cell">Qtrees máximos por FlexVol, têm de estar no intervalo [50, 300]</block>
  <block id="28326357ec2f8c06e01271c4ee2201f1" category="cell">"200"</block>
  <block id="7bb910e3cf11d0b34ca215aa399d3f23" category="cell"><block ref="5910159ef86741f119f7574a9064b5b0" prefix="" category="inline-code"></block></block>
  <block id="9b59e3a675bc9ca359f3369591ee7df3" category="cell">Você pode especificar uma das seguintes opções: O nome de um compartilhamento SMB criado usando o Console de Gerenciamento da Microsoft ou a CLI do ONTAP; um nome para permitir que o Astra Trident crie o compartilhamento SMB; ou você pode deixar o parâmetro em branco para impedir o acesso comum ao compartilhamento aos volumes. Esse parâmetro é opcional para o ONTAP no local. Esse parâmetro é necessário para backends do Amazon FSX for ONTAP e não pode ficar em branco.</block>
  <block id="2bd69c3354973375e1abed3c9beb1eff" category="cell"><block ref="f777ab485270937cd9b9efc63021484f" prefix="" category="inline-code"></block></block>
  <block id="f703d18584e163e18762e4dc13ad96a0" category="cell"><block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix="" category="inline-code"></block></block>
  <block id="cc30671ec52693851659adb7020e02b1" category="cell">Parâmetro booleano para usar APIs REST do ONTAP. *A visualização técnica* <block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> é fornecida como uma **prévia técnica** que é recomendada para ambientes de teste e não para cargas de trabalho de produção. Quando definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o Astra Trident usará as APIS REST do ONTAP para se comunicar com o back-end. Esse recurso requer o ONTAP 9.11,1 e posterior. Além disso, a função de login do ONTAP usada deve ter acesso ao<block ref="a9ba4dc88fa11d44cc7c0c918d174778" prefix=" " category="inline-code"></block> aplicativo. Isso é satisfeito com as funções e<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> predefinidas<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>. <block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> Não é suportado com MetroCluster.</block>
  <block id="193a49bcfb561fea878daa5efe72cad9" category="section-title">Opções de configuração de back-end para volumes de provisionamento</block>
  <block id="c59183b2f668b355e81e7bb1256f92b3" category="paragraph">Você pode controlar o provisionamento padrão usando essas opções na<block ref="a4a918a45181164207929d52aec36aec" prefix=" " category="inline-code"></block> seção da configuração. Para obter um exemplo, consulte os exemplos de configuração abaixo.</block>
  <block id="26161d08a960162cd8633d0e23058aed" category="cell">Alocação de espaço para LUNs</block>
  <block id="3be488c6a2bc52ceb7e8685ca24927d7" category="cell">"verdadeiro"</block>
  <block id="3bce5b103341500856287f5347e19f28" category="cell">Modo de reserva de espaço; "nenhum" (fino) ou "volume" (grosso)</block>
  <block id="e84c56670c389b09fcad5da7309a165b" category="cell">"nenhum"</block>
  <block id="77f69e470b8766d2dc5df4b7f469ed72" category="cell">Política de instantâneos a utilizar</block>
  <block id="84d2c2c768bd1900489bad5fb46b4aac" category="cell"><block ref="36c38058d66835923c982c773a817f0b" prefix="" category="inline-code"></block></block>
  <block id="54b94bba5d336f4e3d5fd7e88544fad1" category="cell">Grupo de políticas de QoS a atribuir aos volumes criados. Escolha uma das qosPolicy ou adaptiveQosPolicy por pool de armazenamento/backend</block>
  <block id="952e3a12d35e717bf86a6000b0c08976" category="cell"><block ref="3e5432e43a275793680f854329e05b72" prefix="" category="inline-code"></block></block>
  <block id="5896cc977dd7b9854957e18a2a5bf072" category="cell">Grupo de políticas de QoS adaptável a atribuir para volumes criados. Escolha uma das qosPolicy ou adaptiveQosPolicy por pool de armazenamento/backend. Não suportado pela ONTAP-nas-Economy.</block>
  <block id="11f9fcd55c1d81cf352f86fe4cdfd444" category="cell">Porcentagem de volume reservado para snapshots "0"</block>
  <block id="af6626456fa359992271ea88de34094f" category="cell">Se<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> é "nenhum", então ""</block>
  <block id="6f5c0c94b1a17baffd2c33facaa10db6" category="cell">Divida um clone de seu pai na criação</block>
  <block id="19b4c847405d74614976bd1228f59c9f" category="cell">"falso"</block>
  <block id="6d9333eebb991611d29a4f8b7cc21fec" category="cell">Ative a criptografia de volume do NetApp (NVE) no novo volume; o padrão é<block ref="68934a3e9455fa72420237eb05902327" prefix=" " category="inline-code"></block>. O NVE deve ser licenciado e habilitado no cluster para usar essa opção. Se o NAE estiver ativado no back-end, qualquer volume provisionado no Astra Trident será o NAE ativado. Para obter mais informações, consulte: <block ref="00deada136b55f176f599153703cf50d" category="inline-link-macro-rx"></block>.</block>
  <block id="592a5879ac095ef6ca504cc43a9d7939" category="cell">Política de disposição em camadas para usar "nenhuma"</block>
  <block id="ee6508d5290be6edafccc6e0f471f120" category="cell">"Somente snapshot" para configuração pré-ONTAP 9.5 SVM-DR</block>
  <block id="3e9a232d025270ed6767c385b8291871" category="cell">Modo para novos volumes</block>
  <block id="a2b63939d1ced2a10bc8dec4d3ef2604" category="cell">"777" para volumes NFS; vazio (não aplicável) para volumes SMB</block>
  <block id="2907de5eba980e910513008165ea2c2b" category="cell">Controla a visibilidade<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> do diretório</block>
  <block id="c1a0e97f953c948568aed6c134fc9711" category="cell">Política de exportação a utilizar</block>
  <block id="375aa0b790f300787cdecf0f896b97f5" category="cell">Estilo de segurança para novos volumes. Estilos de segurança e<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block> suporte de NFS<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block>. Suporta SMB<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> e<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block> estilos de segurança.</block>
  <block id="4a359bdcdb3ce547581bdea3ce6c5bd7" category="cell">O padrão NFS é<block ref="4913a9178621eadcdf191db17915fbcb" prefix=" " category="inline-code"></block>. O padrão SMB é<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block>.</block>
  <block id="99c2306b30b8939278f0f817230f3573" category="admonition">O uso de grupos de política de QoS com o Astra Trident requer o ONTAP 9.8 ou posterior. Recomenda-se usar um grupo de políticas QoS não compartilhado e garantir que o grupo de políticas seja aplicado individualmente a cada componente. Um grupo de política de QoS compartilhado aplicará o limite máximo da taxa de transferência total de todos os workloads.</block>
  <block id="e62f5d0a5a95571e25197caafe78cd98" category="section-title">Exemplos de provisionamento de volume</block>
  <block id="2043559d67ba802541907de326b5ecdd" category="paragraph">Aqui está um exemplo com padrões definidos:</block>
  <block id="06602e99c8d46d601029e6dd0b37e3f8" category="paragraph">Para<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> e<block ref="10be922aa0fd75bc53ab71eda9229763" prefix=" " category="inline-code"></block>, o Astra Trident agora usa um novo cálculo para garantir que o FlexVol seja dimensionado corretamente com a porcentagem de snapshotServe e PVC. Quando o usuário solicita um PVC, o Astra Trident cria o FlexVol original com mais espaço usando o novo cálculo. Esse cálculo garante que o usuário receba o espaço gravável que solicitou no PVC, e não menor espaço do que o que solicitou. Antes de v21,07, quando o usuário solicita um PVC (por exemplo, 5GiB), com o snapshotServe a 50 por cento, eles recebem apenas 2,5GiBMB de espaço gravável. Isso ocorre porque o que o usuário solicitou é todo o volume e<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> é uma porcentagem disso. Com o Trident 21,07, o que o usuário solicita é o espaço gravável e o Astra Trident define o<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> número como a porcentagem de todo o volume. Isto não se aplica<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> ao . Veja o exemplo a seguir para ver como isso funciona:</block>
  <block id="86ec808b80973d24eadfc617926f534e" category="paragraph">O cálculo é o seguinte:</block>
  <block id="28ad7be76b350116bde3ae04e5f94a60" category="paragraph">Para snapshotServe de 50%, e a solicitação de PVC de 5GiB, o volume total é de 2/.5 10GiB e o tamanho disponível é de 5GiB, o que o usuário solicitou na solicitação de PVC. O<block ref="0c5606ed319753bb2d86a485f23c8f6d" prefix=" " category="inline-code"></block> comando deve mostrar resultados semelhantes a este exemplo:</block>
  <block id="2f1534ee8d0c6ec998511ed37cfe0da9" category="image-alt">Mostra a saída do comando volume show.</block>
  <block id="daabb7db82ac9f3f074671a1185c462e" category="paragraph">Os back-ends existentes de instalações anteriores provisionarão volumes conforme explicado acima ao atualizar o Astra Trident. Para volumes que você criou antes da atualização, você deve redimensionar seus volumes para que a alteração seja observada. Por exemplo, um PVC de 2GiB mm com<block ref="01d8e11bde220373533705ed26796e25" prefix=" " category="inline-code"></block> anterior resultou em um volume que fornece 1GiB GB de espaço gravável. Redimensionar o volume para 3GiB, por exemplo, fornece ao aplicativo 3GiBMB de espaço gravável em um volume de 6 GiB.</block>
  <block id="2aae2b6accd04335b3eeceb2193b34d6" category="section-title">Exemplos mínimos de configuração</block>
  <block id="bca36ce39f61ce2d375cbdb66eab5162" category="paragraph">Os exemplos a seguir mostram configurações básicas que deixam a maioria dos parâmetros padrão. Esta é a maneira mais fácil de definir um backend.</block>
  <block id="f35c0fe4b6581c16866c964cef229bfa" category="admonition">Se você estiver usando o Amazon FSX no NetApp ONTAP com Trident, a recomendação é especificar nomes DNS para LIFs em vez de endereços IP.</block>
  <block id="8bf31f01da88d12bf642a85ce9b3d644" category="example-title">Configuração mínima para &lt;code&gt; ONTAP-nas-economy&lt;/code&gt;</block>
  <block id="a48054bf8652cee4ee1d7dd8f08ffa1f" category="example-title">Configuração mínima para &lt;code&gt; ONTAP-nas-FlexGroup &lt;/code&gt;</block>
  <block id="7cf30ff82fa389224936afba832f444f" category="example-title">Configuração mínima para volumes SMB</block>
  <block id="e7a2472a002479764cade728d64dcd9e" category="example-title">Autenticação baseada em certificado</block>
  <block id="78e5b29e139db71ceb7ca6bc99b5e228" category="paragraph">Este é um exemplo de configuração de back-end mínimo.<block ref="79fffaff4013c1e8c508e76646eca77b" prefix=" " category="inline-code"></block>,<block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix=" " category="inline-code"></block> E<block ref="8468461bca00a47ab5ddba2afc45f52c" prefix=" " category="inline-code"></block> (opcional, se estiver usando CA confiável) são preenchidos<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> e recebem os valores codificados em base64 do certificado do cliente, da chave privada e do certificado de CA confiável, respetivamente.</block>
  <block id="30cc3e263c594cde4b2a573283348bb1" category="example-title">Política de exportação automática</block>
  <block id="8c35a9f7d631f51e05811b36617db641" category="paragraph">Este exemplo mostra como você pode instruir o Astra Trident a usar políticas de exportação dinâmicas para criar e gerenciar a política de exportação automaticamente. Isso funciona da mesma forma para os<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> drivers e<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>.</block>
  <block id="85435c5aae5ecdb04ef9ad8f7d48e88a" category="example-title">Usando endereços IPv6</block>
  <block id="0275de02c3bba722f4540469d23cc535" category="paragraph">Este exemplo mostra<block ref="a6ea6092cb7b9c5f31909eb4be8fa5ea" prefix=" " category="inline-code"></block> usando um endereço IPv6.</block>
  <block id="4627b40a8eea6e0ef04368d12d76d239" category="example-title">Amazon FSX para ONTAP usando volumes SMB</block>
  <block id="33ef55e82416e2c1c4beb9cba9560b02" category="paragraph">O<block ref="5910159ef86741f119f7574a9064b5b0" prefix=" " category="inline-code"></block> parâmetro é necessário para o FSX for ONTAP usando volumes SMB.</block>
  <block id="1b9ef354b22d8a8b125247fd538da4b2" category="section-title">Exemplos de backends com pools virtuais</block>
  <block id="71b79981e733eabd769324fa40c8fa6d" category="paragraph">Nos arquivos de definição de back-end de exemplo mostrados abaixo, padrões específicos são definidos para todos os pools de armazenamento, como<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block> em nenhum,<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> em falso e<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> em falso. Os pools virtuais são definidos na seção armazenamento.</block>
  <block id="bc0c77920482bbcdc79d8f24445101e0" category="paragraph">O Astra Trident define rótulos de provisionamento no campo "Comentários". Os comentários são definidos no FlexVol for<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> ou no FlexGroup<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> for . O Astra Trident copia todas as etiquetas presentes em um pool virtual para o volume de storage no provisionamento. Por conveniência, os administradores de storage podem definir rótulos por pool virtual e volumes de grupo por rótulo.</block>
  <block id="71fcdf20b31ca43f6ef64c06530f313d" category="paragraph">Nesses exemplos, alguns dos pools de armazenamento definem seus próprios<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block><block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> valores , e<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> , e alguns pools substituem os valores padrão.</block>
  <block id="574e53d92fdeaac37ba2d879a9b88f12" category="example-title">Exemplo de ONTAP nas</block>
  <block id="bdb252122df8a6e68a54782628d1944f" category="example-title">Exemplo de ONTAP nas FlexGroup</block>
  <block id="9561077d9ef091b88a253b8593eb8bfb" category="example-title">Exemplo de economia nas do ONTAP</block>
  <block id="f00b69018be0961b32ee24ec54fb56d1" category="section-title">Mapeie os backends para StorageClasses</block>
  <block id="eb2e955f1a984e2be0e3fa8cdbe6667c" category="paragraph">As seguintes definições do StorageClass referem-se <block ref="d690aebda44a37b8ae9c2c6f1918cb30" category="inline-xref-macro-rx"></block>a . Usando o<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> campo, cada StorageClass chama quais pools virtuais podem ser usados para hospedar um volume. O volume terá os aspetos definidos no pool virtual escolhido.</block>
  <block id="01eacb47d802acac83a7e60311768055" category="list-text">O<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> StorageClass será mapeado para o primeiro e segundo pool virtual<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> no back-end. Estas são as únicas piscinas que oferecem proteção de nível de ouro.</block>
  <block id="6b35cdd98b7f7e55e698a6d0628e18e0" category="list-text">O<block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix=" " category="inline-code"></block> StorageClass será mapeado para o terceiro e quarto pool virtual no<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> back-end. Estas são as únicas piscinas que oferecem um nível de proteção diferente do ouro.</block>
  <block id="535efa214445261dfda5d5edc613e56b" category="list-text">O<block ref="65846755494383158592c748f74421ec" prefix=" " category="inline-code"></block> StorageClass será mapeado para o quarto pool virtual<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> no back-end. Este é o único pool que oferece configuração de pool de armazenamento para o aplicativo tipo mysqldb.</block>
  <block id="d0c5a28c77fc4e37f7271d37f7372724" category="list-text">O<block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix=" " category="inline-code"></block> StorageClass será mapeado para o terceiro pool virtual no<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> back-end. Esta é a única piscina que oferece proteção de nível de prata e 20000 pontos de crédito.</block>
  <block id="0191eea3640b05213a7522d6581a2fd5" category="list-text">O<block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix=" " category="inline-code"></block> StorageClass será mapeado para o terceiro pool virtual<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> no back-end e o segundo pool virtual<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> no back-end. Estas são as únicas ofertas de pool com 5000 pontos de crédito.</block>
  <block id="065b7cc24b33be7af1e15f59024402d2" category="paragraph">O Astra Trident decidirá qual pool virtual está selecionado e garantirá que o requisito de storage seja atendido.</block>
  <block id="0bd54df5242a2a2e9eca045fc695b41f" category="section-title">Atualização<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> após a configuração inicial</block>
  <block id="d0b121ba3c5e39bba858ccfcf5a75957" category="paragraph">Você pode alterar o LIF de dados após a configuração inicial executando o seguinte comando para fornecer o novo arquivo JSON de back-end com LIF de dados atualizado.</block>
  <block id="3fa13ec46a3746ee36c97d65fa53f096" category="admonition">Se os PVCs estiverem anexados a um ou vários pods, você deverá reduzir todos os pods correspondentes e restaurá-los para que o novo LIF de dados entre em vigor.</block>
  <block id="ef0e40b987d8b9ad523bdde2bba5157a" category="summary">Entenda os requisitos, as opções de autenticação e as políticas de exportação para configurar um back-end do ONTAP com drivers nas do ONTAP.</block>
  <block id="fd05c90de484dbc1cb963df796886af4" category="doc">Prepare-se para configurar um back-end com drivers nas ONTAP</block>
  <block id="00b8b321c68facfb94b31690cbd23e00" category="list-text">Para todos os back-ends ONTAP, o Astra Trident requer pelo menos um agregado atribuído ao SVM.</block>
  <block id="ffd4000c9e43a23d97e231d47f99dcd4" category="list-text">Você pode executar mais de um driver e criar classes de armazenamento que apontam para um ou outro. Por exemplo, você pode configurar uma classe Gold que usa o<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> driver e uma classe Bronze que usa o<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> um.</block>
  <block id="6dc4cb19f2792a3eadfa64d4b4b6d177" category="list-text">Todos os seus nós de trabalho do Kubernetes precisam ter as ferramentas NFS apropriadas instaladas. <block ref="f1f954e59a21e3ffe189e77dd2ee9f86" category="inline-link-macro-rx"></block>Consulte para obter mais detalhes.</block>
  <block id="888a040cbb1dfe496b305a27374a73a5" category="list-text">O Astra Trident é compatível com volumes SMB montados em pods executados apenas em nós do Windows. <block ref="688177e6b45c5d27a545463079c58d82" category="inline-xref-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="c63609aba869239be30364b58d99b1a3" category="section-title">Autenticar o back-end do ONTAP</block>
  <block id="51e35cec1e001fb8abfbe474a18dd282" category="paragraph">O Astra Trident oferece dois modos de autenticação no back-end do ONTAP.</block>
  <block id="00cbc0e7ed0014813b07fc8452f60df1" category="list-text">Baseado em credenciais: O nome de usuário e senha para um usuário do ONTAP com as permissões necessárias. Recomenda-se a utilização de uma função de início de sessão de segurança predefinida, como<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> ou<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> para garantir a máxima compatibilidade com as versões do ONTAP.</block>
  <block id="e2cd9c84c3ebf14f3c81be4692848e5b" category="list-text">Baseado em certificado: O Astra Trident também pode se comunicar com um cluster ONTAP usando um certificado instalado no back-end. Aqui, a definição de back-end deve conter valores codificados em Base64 do certificado de cliente, chave e certificado de CA confiável, se usado (recomendado).</block>
  <block id="1ea1b160621872df5909653ebde1bf7f" category="paragraph">Você pode atualizar os backends existentes para mover entre métodos baseados em credenciais e baseados em certificado. No entanto, apenas um método de autenticação é suportado por vez. Para alternar para um método de autenticação diferente, você deve remover o método existente da configuração de back-end.</block>
  <block id="7335992f174c029a990442aca68aacbd" category="admonition">Se você tentar fornecer *credenciais e certificados*, a criação de back-end falhará com um erro que mais de um método de autenticação foi fornecido no arquivo de configuração.</block>
  <block id="a2f8f419bf420960ef8cca73e1999e09" category="section-title">Ative a autenticação baseada em credenciais</block>
  <block id="ceae351bc6b26100a9b1685a5d477c0a" category="paragraph">O Astra Trident requer as credenciais para um administrador com escopo SVM/cluster para se comunicar com o back-end do ONTAP. Recomenda-se a utilização de funções padrão predefinidas, como<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> ou<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>. Isso garante compatibilidade direta com futuras versões do ONTAP que podem expor APIs de recursos a serem usadas por futuras versões do Astra Trident. Uma função de login de segurança personalizada pode ser criada e usada com o Astra Trident, mas não é recomendada.</block>
  <block id="2312b8f77f99c346269b67308afc3649" category="paragraph">Uma definição de backend de exemplo será assim:</block>
  <block id="2a2ef6dcf08a8789a55301af5f71304c" category="paragraph">Tenha em mente que a definição de back-end é o único lugar onde as credenciais são armazenadas em texto simples. Depois que o back-end é criado, os nomes de usuário/senhas são codificados com Base64 e armazenados como segredos do Kubernetes. A criação/updation de um backend é a única etapa que requer conhecimento das credenciais. Como tal, é uma operação somente de administrador, a ser realizada pelo administrador do Kubernetes/storage.</block>
  <block id="052f76b486189a7b01340d5134eb7985" category="section-title">Ativar autenticação baseada em certificado</block>
  <block id="0778b06c5ea9fded4fd7b586b248dd86" category="paragraph">Backends novos e existentes podem usar um certificado e se comunicar com o back-end do ONTAP. Três parâmetros são necessários na definição de backend.</block>
  <block id="d5b9c9db262b1927d7914504f3587adb" category="list-text">ClientCertificate: Valor codificado base64 do certificado do cliente.</block>
  <block id="8f2b750dd6a57864f0e36828c248ddfc" category="list-text">ClientPrivateKey: Valor codificado em base64 da chave privada associada.</block>
  <block id="200c2d2a44dec6455fa1c947f9c1f534" category="list-text">TrustedCACertificate: Valor codificado base64 do certificado CA confiável. Se estiver usando uma CA confiável, esse parâmetro deve ser fornecido. Isso pode ser ignorado se nenhuma CA confiável for usada.</block>
  <block id="6b634823c19ebc37c9e4fdbf08de1fff" category="paragraph">Um fluxo de trabalho típico envolve as etapas a seguir.</block>
  <block id="c92e58d7dd251e6e6cdb16291a6dec90" category="list-text">Gerar um certificado e chave de cliente. Ao gerar, defina Nome Comum (CN) para o usuário ONTAP para autenticar como.</block>
  <block id="69b521cddbc52a2d14539e349e2930f0" category="list-text">Adicionar certificado de CA confiável ao cluster do ONTAP. Isso pode já ser Tratado pelo administrador do armazenamento. Ignore se nenhuma CA confiável for usada.</block>
  <block id="2f3945695e5ca88abb46af80d87c6972" category="list-text">Instale o certificado e a chave do cliente (a partir do passo 1) no cluster do ONTAP.</block>
  <block id="e81810c4035ad015ad3f0d8c4f2c6454" category="list-text">Confirme se a função de login de segurança do ONTAP suporta<block ref="b6ba9fa6ea18201bf39ea635ecca9f13" prefix=" " category="inline-code"></block> o método de autenticação.</block>
  <block id="997cff957213b9212a22d7cac2b4275d" category="list-text">Teste a autenticação usando certificado gerado. Substitua o ONTAP Management LIF&gt; e o &lt;vserver name&gt; por IP de LIF de gerenciamento e nome da SVM. Você deve garantir que o LIF tenha sua política de serviço definida como<block ref="1e2cb0c539a96182e302d676a4b791be" prefix=" " category="inline-code"></block>.</block>
  <block id="83f2adf143dc8f5fbbb9d924f840c1ce" category="list-text">Codificar certificado, chave e certificado CA confiável com Base64.</block>
  <block id="8d36e570f1edac5ae19e6733e3fbb4d5" category="list-text">Crie backend usando os valores obtidos na etapa anterior.</block>
  <block id="2ab8ad0fce083cd02635b9126cf4353c" category="section-title">Atualizar métodos de autenticação ou girar credenciais</block>
  <block id="31aae55e68bb5034f8f948ec526b9ff3" category="paragraph">Você pode atualizar um back-end existente para usar um método de autenticação diferente ou para girar suas credenciais. Isso funciona de ambas as maneiras: Backends que fazem uso de nome de usuário / senha podem ser atualizados para usar certificados; backends que utilizam certificados podem ser atualizados para nome de usuário / senha com base. Para fazer isso, você deve remover o método de autenticação existente e adicionar o novo método de autenticação. Em seguida, use o arquivo backend.json atualizado contendo os parâmetros necessários para executar<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block>.</block>
  <block id="5e36c3d66bd47ae551071244dc48df17" category="admonition">Ao girar senhas, o administrador de armazenamento deve primeiro atualizar a senha do usuário no ONTAP. Isso é seguido por uma atualização de back-end. Ao girar certificados, vários certificados podem ser adicionados ao usuário. O back-end é então atualizado para usar o novo certificado, seguindo o qual o certificado antigo pode ser excluído do cluster do ONTAP.</block>
  <block id="6819218365fe3a3d66752f663feecddb" category="paragraph">A atualização de um back-end não interrompe o acesso a volumes que já foram criados, nem afeta as conexões de volume feitas depois. Uma atualização de back-end bem-sucedida indica que o Astra Trident pode se comunicar com o back-end do ONTAP e lidar com operações de volume futuras.</block>
  <block id="07b434b23f63ca6490df33b213599320" category="section-title">Gerenciar políticas de exportação de NFS</block>
  <block id="9d66483f8378ffe30cde84e1b6dbf484" category="paragraph">O Astra Trident usa políticas de exportação de NFS para controlar o acesso aos volumes provisionados.</block>
  <block id="a297d9b7dbc393d5e8a5b3f98bcc9337" category="paragraph">O Astra Trident oferece duas opções ao trabalhar com políticas de exportação:</block>
  <block id="0c87d42e666bbc299da2143379484281" category="list-text">O Astra Trident pode gerenciar dinamicamente a própria política de exportação; nesse modo de operação, o administrador de armazenamento especifica uma lista de blocos CIDR que representam endereços IP admissíveis. O Astra Trident adiciona IPs de nós que se enquadram nesses intervalos à política de exportação automaticamente. Como alternativa, quando nenhum CIDR é especificado, qualquer IP unicast de escopo global encontrado nos nós será adicionado à política de exportação.</block>
  <block id="e6add289c2b1cd5da45e00f3098b35de" category="list-text">Os administradores de storage podem criar uma política de exportação e adicionar regras manualmente. O Astra Trident usa a política de exportação padrão, a menos que um nome de política de exportação diferente seja especificado na configuração.</block>
  <block id="4603f08ad837f4108ff2fe7665b0b1e3" category="section-title">Gerencie dinamicamente políticas de exportação</block>
  <block id="92c602e77579e8a5989f77c799538f4e" category="paragraph">A versão 20,04 do CSI Trident oferece a capacidade de gerenciar dinamicamente políticas de exportação para backends ONTAP. Isso fornece ao administrador de armazenamento a capacidade de especificar um espaço de endereço permitido para IPs de nó de trabalho, em vez de definir regras explícitas manualmente. Ele simplifica muito o gerenciamento de políticas de exportação. As modificações na política de exportação não exigem mais intervenção manual no cluster de storage. Além disso, isso ajuda a restringir o acesso ao cluster de armazenamento somente aos nós de trabalho que têm IPs no intervalo especificado, suportando um gerenciamento refinado e automatizado.</block>
  <block id="8b78bee43bfa1617b12c311f0ad26e81" category="admonition">O gerenciamento dinâmico das políticas de exportação está disponível apenas para o CSI Trident. É importante garantir que os nós de trabalho não estejam sendo repartidos.</block>
  <block id="44568b7468885ca198a66bb088b9e3b5" category="paragraph">Há duas opções de configuração que devem ser usadas. Aqui está um exemplo de definição de back-end:</block>
  <block id="82e9e9b5fadbd07fd12a8a3291248581" category="admonition">Ao usar esse recurso, você deve garantir que a junção raiz do SVM tenha uma política de exportação criada anteriormente com uma regra de exportação que permita o bloco CIDR do nó (como a política de exportação padrão). Siga sempre as práticas recomendadas pela NetApp para dedicar um SVM ao Astra Trident.</block>
  <block id="4975fc485ff51ca8f82c6ea96f927287" category="paragraph">Aqui está uma explicação de como esse recurso funciona usando o exemplo acima:</block>
  <block id="acdca8a11423c4bc209db0a1a4909294" category="list-text"><block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix="" category="inline-code"></block> está definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>. Isso indica que o Astra Trident criará uma política de exportação para<block ref="3568c00ad84b08a31b2dfadbfd8ee221" prefix=" " category="inline-code"></block> o SVM e tratará da adição e exclusão de regras usando<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block> blocos de endereço. Por exemplo, um back-end com UUID 403b5326-8482-40dB-96d0-d83fb3f4daec e<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> cria uma política de exportação nomeada<block ref="c0f00c0747f60e2fb407270518f79101" prefix=" " category="inline-code"></block> no SVM.</block>
  <block id="1bdcc9b4be16b7ad2f1b54c892491a43" category="list-text"><block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix="" category="inline-code"></block> contém uma lista de blocos de endereços. Este campo é opcional e o padrão é ["0,0.0,0/0", "::/0"]. Se não estiver definido, o Astra Trident adiciona todos os endereços unicast de escopo global encontrados nos nós de trabalho.</block>
  <block id="96d8905e0d42a0d3573c71fd4ecce0b8" category="paragraph">Neste exemplo, o<block ref="f2293842bd9b1febec66e01804867721" prefix=" " category="inline-code"></block> espaço de endereço é fornecido. Isso indica que os IPs de nós do Kubernetes que se enquadram nesse intervalo de endereços serão adicionados à política de exportação criada pelo Astra Trident. Quando o Astra Trident Registra um nó em que ele é executado, ele recupera os endereços IP do nó e os verifica em relação aos blocos de endereço fornecidos no<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block>. depois de filtrar os IPs, o Astra Trident cria regras de política de exportação para os IPs de cliente que ele descobre, com uma regra para cada nó que identifica.</block>
  <block id="4646f167a1fb9819f41f28d5ab11c1fa" category="paragraph">Você pode atualizar<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> e<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block> para backends depois de criá-los. Você pode anexar novos CIDR para um back-end que é gerenciado automaticamente ou excluir CIDR existentes. Tenha cuidado ao excluir CIDR para garantir que as conexões existentes não sejam descartadas. Você também pode optar por desativar<block ref="323e871cfe2e70ead9c713e8f3164f8f" prefix=" " category="inline-code"></block> um back-end e retornar a uma política de exportação criada manualmente. Isso exigirá a configuração do<block ref="647ce4e5394e2e595e46b4fc50a628e9" prefix=" " category="inline-code"></block> parâmetro em sua configuração de backend.</block>
  <block id="18deff64a140a603bdb6070abed4eed4" category="paragraph">Depois que o Astra Trident criar ou atualizar um back-end, você pode verificar o back-end usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> ou o CRD correspondente<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block>:</block>
  <block id="83af513d9b9d50c1dc648bfea29797cb" category="paragraph">Conforme os nós são adicionados a um cluster do Kubernetes e registrados na controladora Astra Trident, as políticas de exportação dos back-ends existentes são atualizadas (desde que elas estejam no intervalo de endereços especificado<block ref="b9c40fbe9daa81e40e06509d5bbd5a6c" prefix=" " category="inline-code"></block> no back-end).</block>
  <block id="fd85ad7b0ce4e83937cbc1012086b9b3" category="paragraph">Quando um nó é removido, o Astra Trident verifica todos os back-ends on-line para remover a regra de acesso do nó. Ao remover esse IP de nó das políticas de exportação de backends gerenciados, o Astra Trident impede montagens fraudulentas, a menos que esse IP seja reutilizado por um novo nó no cluster.</block>
  <block id="cda5977f42a72ef440d3b6233b9970bf" category="paragraph">Para backends existentes anteriormente, a atualização do back-end com<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block> garantirá que o Astra Trident gerencie as políticas de exportação automaticamente. Isso criará uma nova política de exportação nomeada após o UUID do back-end e os volumes presentes no back-end usarão a política de exportação recém-criada quando forem montados novamente.</block>
  <block id="de1d1f6b64a5c5b6890c313888b290b7" category="admonition">A exclusão de um back-end com políticas de exportação gerenciadas automaticamente excluirá a política de exportação criada dinamicamente. Se o backend for recriado, ele será Tratado como um novo backend e resultará na criação de uma nova política de exportação.</block>
  <block id="920708f6d71767dcff22f9e43b4ec0c0" category="paragraph">Se o endereço IP de um nó ativo for atualizado, será necessário reiniciar o pod Astra Trident no nó. Em seguida, o Astra Trident atualizará a política de exportação para backends que ele conseguir refletir essa alteração de IP.</block>
  <block id="fc4e16be02eac62a40d8ba5714cbeda1" category="section-title">Prepare-se para provisionar volumes SMB</block>
  <block id="e5fdb627c170dc14e3873b3da32f3aa5" category="paragraph">Com um pouco de preparação adicional, você pode provisionar volumes SMB usando<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers.</block>
  <block id="1faffcbb00c529812b5526b1b22b2b56" category="admonition">Você precisa configurar os protocolos NFS e SMB/CIFS na SVM para criar um<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> volume SMB para ONTAP no local. A falha na configuração desses protocolos fará com que a criação de volume SMB falhe.</block>
  <block id="8de0a7910b914d44521684fe2a3a28c6" category="paragraph">Antes de provisionar volumes SMB, você deve ter o seguinte:</block>
  <block id="8df63c807f3c78b6087ad0d6ee434fb2" category="list-text">Pelo menos um segredo do Astra Trident que contém suas credenciais do ative Directory. Para gerar segredo<block ref="e47a193687dde960f6b6f80d394142a3" prefix=" " category="inline-code"></block>:</block>
  <block id="ff8c6e3b6971ed699a5dc2e00455aa82" category="list-text">Para o ONTAP no local, você pode criar, opcionalmente, um compartilhamento SMB ou o Astra Trident pode criar um para você.</block>
  <block id="6a402202521e2168a911181e81c72faf" category="admonition">Compartilhamentos SMB são necessários para o Amazon FSX for ONTAP.</block>
  <block id="d98f239eeb5789a80cb4b247e5be144d" category="inline-link-macro">Microsoft Management Console</block>
  <block id="7f7041fc0ca0e00f3d3e39e4ce4a5149" category="paragraph">Você pode criar os compartilhamentos de administração SMB de duas maneiras usando o <block ref="364bc251e9c8cfbf6ce258767d17d682" category="inline-link-macro-rx"></block>snap-in pastas compartilhadas ou usando a CLI do ONTAP. Para criar compartilhamentos SMB usando a CLI do ONTAP:</block>
  <block id="c9e9c2bb32e43693c4687ec082488811" category="list-text">Se necessário, crie a estrutura do caminho do diretório para o compartilhamento.</block>
  <block id="8a19300a396203718795b4620552b59c" category="paragraph">O<block ref="293a1aaca0a542f4f1b1dc1a3ad95728" prefix=" " category="inline-code"></block> comando verifica o caminho especificado na opção -path durante a criação de compartilhamento. Se o caminho especificado não existir, o comando falhará.</block>
  <block id="a968d0620b250ca44da661cadac02e42" category="list-text">Crie um compartilhamento SMB associado ao SVM especificado:</block>
  <block id="e172e0c83051eb537305571585af294a" category="list-text">Verifique se o compartilhamento foi criado:</block>
  <block id="a6e62ff657f01a7df2d91d1ea0d3e76c" category="inline-link-macro">Crie um compartilhamento SMB</block>
  <block id="39026ea2687a8de2a318f8245aceb992" category="admonition"><block ref="2b8c6fb4597e9bb000d4d88db3769c9a" category="inline-link-macro-rx"></block>Consulte para obter detalhes completos.</block>
  <block id="e4f84f59067aa8e22119bf499379385a" category="inline-link-macro">Opções e exemplos de configuração do FSX for ONTAP</block>
  <block id="ca088cbb36bbab4b23e57d63d95a628c" category="list-text">Ao criar o back-end, você deve configurar o seguinte para especificar volumes SMB. Para obter todas as opções de configuração de back-end do FSX for ONTAP, <block ref="dd05fa371cf4b2c8377b8b4b261a8edd" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="00aa30f1783ef69183794c0da05e43b5" category="cell"><block ref="5910159ef86741f119f7574a9064b5b0" prefix="" category="inline-code"></block> Você pode especificar uma das seguintes opções: O nome de um compartilhamento SMB criado usando o Console de Gerenciamento da Microsoft ou a CLI do ONTAP; um nome para permitir que o Astra Trident crie o compartilhamento SMB; ou você pode deixar o parâmetro em branco para impedir o acesso comum ao compartilhamento aos volumes. Esse parâmetro é opcional para o ONTAP no local. Esse parâmetro é necessário para backends do Amazon FSX for ONTAP e não pode ficar em branco.</block>
  <block id="3b84c7b88317953423192c633a83db9f" category="cell">*Tem de estar definido para<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>.* Se nulo, o padrão é<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>.</block>
  <block id="767b06b78582b463da02281e05c82e45" category="cell"><block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix="" category="inline-code"></block></block>
  <block id="11d7f0efe30199fc66cbc43c427e147d" category="cell">Estilo de segurança para novos volumes. *Deve ser definido como<block ref="68e98b83f5bd746f1468dff89f529d1b" prefix=" " category="inline-code"></block> ou<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> para volumes SMB.*</block>
  <block id="e76ea7f2be658dc914f9c95fe8d14fcf" category="cell"><block ref="68e98b83f5bd746f1468dff89f529d1b" prefix="" category="inline-code"></block> Ou<block ref="1d770934d44de09b0d24f04fd01708ba" prefix=" " category="inline-code"></block> para volumes SMB</block>
  <block id="24ca391029d6df294c5d5b8f1fe5b4eb" category="summary">Saiba mais sobre como configurar um back-end ONTAP com drivers nas ONTAP.</block>
  <block id="ddbd2735bfb88c5da807f77f6fe5f6c8" category="doc">Descrição geral do controlador ONTAP nas</block>
  <block id="4d80e2460d711b841338dfbeea2ca8c1" category="paragraph">Saiba mais sobre como configurar um back-end ONTAP com drivers nas ONTAP e Cloud Volumes ONTAP.</block>
  <block id="dd972e44915c7a0884edd58e9d839295" category="section-title">Informações importantes sobre drivers nas ONTAP</block>
  <block id="ce8828fc10a926c196951c9bdd0d534d" category="section-title">Permissões do usuário</block>
  <block id="a513707a481ff6afe9846fefc6411bca" category="paragraph">O Astra Trident espera ser executado como administrador da ONTAP ou SVM, normalmente usando o<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> usuário do cluster ou um<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> usuário SVM, ou um usuário com um nome diferente que tenha a mesma função.</block>
  <block id="624061180b7b402618e3add29c08bd51" category="paragraph">Para implantações do Amazon FSX for NetApp ONTAP, o Astra Trident espera ser executado como administrador do ONTAP ou SVM, usando o usuário do cluster<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> ou um<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> usuário SVM, ou um usuário com um nome diferente que tenha a mesma função. O<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> usuário é um substituto limitado para o usuário administrador do cluster.</block>
  <block id="4937b52eb2cb058f225b69b2caafaf29" category="admonition">Se você usar o<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block> parâmetro, as permissões de administrador do cluster serão necessárias. Ao usar o Amazon FSX for NetApp ONTAP com Astra Trident, o<block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block> parâmetro não funcionará com as<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> contas de usuário e<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block>. A operação de configuração falhará se você especificar este parâmetro.</block>
  <block id="7d159230ccaa721872f31bf9be31afeb" category="paragraph">Embora seja possível criar uma função mais restritiva no ONTAP que um driver Trident pode usar, não recomendamos. A maioria das novas versões do Trident chamarão APIs adicionais que teriam que ser contabilizadas, tornando as atualizações difíceis e suscetíveis a erros.</block>
  <block id="5f3124ab7224f89a36fbb64fd2ebda15" category="summary">Saiba mais sobre como criar e usar drivers SAN ONTAP com sua instalação do Astra Trident. Esta seção fornece exemplos de configuração de back-end e detalhes sobre como mapear backends para StorageClasses.</block>
  <block id="37225474f75e9da42c0f924ba87b113a" category="cell"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>, ,<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> , , ,<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block></block>
  <block id="dccf51176372af70ec697fc2b11f83d8" category="cell">Endereço IP do protocolo LIF. *Não especifique para iSCSI.* O Astra Trident usa <block ref="2de2f329c45219df280af5a70ed7a17c" category="inline-link-macro-rx"></block> para descobrir os LIFs iSCI necessários para estabelecer uma sessão de vários caminhos. Um aviso é gerado se<block ref="ea76b2438eb5996eb2c347e7341ed59a" prefix=" " category="inline-code"></block> for definido explicitamente.</block>
  <block id="3418e818bbbe397a49b7096a5ed87929" category="cell">Derivado do SVM</block>
  <block id="ab4ce1634362493e6de248d103136787" category="cell"><block ref="099cb468880f266cba40b49391fa46bc" prefix="" category="inline-code"></block></block>
  <block id="5f82f4ab2783617b6e62bdd43d4a4e49" category="inline-link-macro">Prepare-se para configurar o back-end com drivers SAN ONTAP</block>
  <block id="1545a9d9aae1b8b83497bbe9185d348b" category="cell">Use CHAP para autenticar iSCSI para drivers SAN ONTAP [Boolean]. Defina como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block> para o Astra Trident para configurar e usar CHAP bidirecional como a autenticação padrão para o SVM dado no back-end. <block ref="866e591dc2a03ecc454dad25a664ca86" category="inline-link-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="7c6b65d42434282f1555f13b40e9fd25" category="cell"><block ref="f9d0dc78b203f2c1106dc0c7d58a5397" prefix="" category="inline-code"></block></block>
  <block id="c8a7a6136447a56280ecf99e3ed87d65" category="cell">Segredo do iniciador CHAP. Necessário se<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="948938ec6491061ccf17c7ae8eafbd26" category="cell"><block ref="4ab84a55744951d967033db9b64f6b27" prefix="" category="inline-code"></block></block>
  <block id="48db71efc42dda989b98744160575f4f" category="cell">Segredo do iniciador de destino CHAP. Necessário se<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="28687fafefb2992ff7856dcfd2c29e1f" category="cell"><block ref="039e9d80fa53ba861c06b590ba3f9d34" prefix="" category="inline-code"></block></block>
  <block id="e3f84c141fd3f4682dfb31e0d71c7f5f" category="cell">Nome de utilizador de entrada. Necessário se<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="62fbbf4cfd0cc0a82f953199d14a61e3" category="cell"><block ref="2ebe107bb3bc9551fbb0e5033046931c" prefix="" category="inline-code"></block></block>
  <block id="a379a576b788ab047d5e6405ff4f3511" category="cell">Nome de utilizador alvo. Necessário se<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block></block>
  <block id="2da9f60cc5b99a5987580c38e6db0842" category="cell">Valor codificado em base64 do certificado CA confiável. Opcional. Usado para autenticação baseada em certificado.</block>
  <block id="394d848f17683e31e21f6cde5fd9e3e4" category="cell">Nome de usuário necessário para se comunicar com o cluster ONTAP. Usado para autenticação baseada em credenciais.</block>
  <block id="6f0acf4836d44b03512e1caa0d774777" category="cell">Senha necessária para se comunicar com o cluster ONTAP. Usado para autenticação baseada em credenciais.</block>
  <block id="a0de2cc0c77c388210e1f48423eea29c" category="cell">Prefixo usado ao provisionar novos volumes na SVM. Não pode ser modificado mais tarde. Para atualizar esse parâmetro, você precisará criar um novo backend.</block>
  <block id="56d1e7863190cbf5e7689e2821d0959e" category="cell"><block ref="47cb44be55a0dffa15dfc900a4c687be" prefix="" category="inline-code"></block></block>
  <block id="e54cbd8ca5da26dc7e4be3bbfd23467e" category="cell">Falha no provisionamento se o uso estiver acima dessa porcentagem. Se você estiver usando um back-end do Amazon FSX for NetApp ONTAP, não <block ref="d57551b1efacf8a7be84b4d10c5a6e99" prefix=" " category="inline-code"></block>especifique . O fornecido<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> e<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> não contém as permissões necessárias para recuperar o uso agregado e limitá-lo usando o Astra Trident.</block>
  <block id="f804cd6668c0728e26448509210268d3" category="cell">Falha no provisionamento se o tamanho do volume solicitado estiver acima desse valor. Também restringe o tamanho máximo dos volumes que gerencia para qtrees e LUNs.</block>
  <block id="3bc2d9079510db6d0570883494bc5984" category="cell"><block ref="f899139df5e1059396431415e770c6dd" prefix="" category="inline-code"></block></block>
  <block id="b3a74fee006256ec5d63fe251b553f1d" category="cell">Debug flags para usar ao solucionar problemas. Por exemplo, não use a menos que você esteja solucionando problemas e exija um despejo de log detalhado.</block>
  <block id="51e6d748c5af856ade589011dc2c7e85" category="cell"><block ref="37a6259cc0c1dae299a7866489dff0bd" prefix="" category="inline-code"></block></block>
  <block id="d4fbfa2dd496728ba6294eb840ce25eb" category="cell">Grupo de políticas de QoS a atribuir aos volumes criados. Escolha uma das qosPolicy ou adaptiveQosPolicy por pool de armazenamento/backend. O uso de grupos de política de QoS com o Astra Trident requer o ONTAP 9.8 ou posterior. Recomendamos o uso de um grupo de políticas de QoS não compartilhado e garantir que o grupo de políticas seja aplicado individualmente a cada componente. Um grupo de política de QoS compartilhado aplicará o limite máximo da taxa de transferência total de todos os workloads.</block>
  <block id="036c0eabd455d8a92d350429f2f5747e" category="cell">Grupo de políticas de QoS adaptável a atribuir para volumes criados. Escolha uma das qosPolicy ou adaptiveQosPolicy por pool de armazenamento/backend</block>
  <block id="b8ae61dc50cf8e8b79e68bc4a8d36393" category="cell"><block ref="0f179ba2bc32ab5d8f60692f5b800c86" prefix="" category="inline-code"></block></block>
  <block id="a56dcba8eacdac67fb510e1434d560d8" category="inline-link-macro">Usar a configuração de chave unificada do Linux (LUKS)</block>
  <block id="b71ccf1062cee8c376a7eb37e3c42603" category="cell">Ativar encriptação LUKS. <block ref="569f9f91cdcc19909b8acbf6f423daf7" category="inline-link-macro-rx"></block>Consulte a .</block>
  <block id="41da49bdd3fd88b2ddc6be7d6df1b335" category="cell">Estilo de segurança para novos volumes</block>
  <block id="fab51d2bc90465982b0994bc86e69db9" category="admonition">Para todos os volumes criados com<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> o driver, o Astra Trident adiciona uma capacidade extra de 10% ao FlexVol para acomodar os metadados do LUN. O LUN será provisionado com o tamanho exato que o usuário solicita no PVC. O Astra Trident adiciona 10% ao FlexVol (mostra como tamanho disponível no ONTAP). Os usuários agora terão a capacidade utilizável que solicitaram. Essa alteração também impede que LUNs fiquem somente leitura, a menos que o espaço disponível seja totalmente utilizado. Isto não se aplica à ONTAP-san-economia.</block>
  <block id="824d88f50ab9e39778b0ef5bc2516b2f" category="paragraph">Para backends que definem<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block>o , o Astra Trident calcula o tamanho dos volumes da seguinte forma:</block>
  <block id="4e762198289d9294de9c1cbb3f0b26b6" category="paragraph">O 1,1 é o 10% adicional que o Astra Trident adiciona ao FlexVol para acomodar os metadados do LUN. Para<block ref="bb0d75280f9b683f2f1f0767fd0aff9b" prefix=" " category="inline-code"></block> 5%, e o pedido de PVC é de 5GiB, o tamanho total do volume é de 5,79GiB e o tamanho disponível é de 5,5GiB. O<block ref="0c5606ed319753bb2d86a485f23c8f6d" prefix=" " category="inline-code"></block> comando deve mostrar resultados semelhantes a este exemplo:</block>
  <block id="e6e049b4753c744e95db32b0eeed8d5c" category="paragraph">Atualmente, o redimensionamento é a única maneira de usar o novo cálculo para um volume existente.</block>
  <block id="c9410b4405958bba6c2f782b5da4c684" category="admonition">Se você estiver usando o Amazon FSX no NetApp ONTAP com Astra Trident, recomendamos que você especifique nomes DNS para LIFs em vez de endereços IP.</block>
  <block id="69a7d5311f7a48959dd5b1cdbc093cec" category="example-title">ONTAP SAN exemplo de configuração mínima</block>
  <block id="cd5dd52b9f0bba70b1336e13afe05818" category="paragraph">Esta é uma configuração básica usando<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> o driver.</block>
  <block id="2964cdc4ba96fd3e792322682498d593" category="example-title">Exemplo de configuração mínima de economia de SAN ONTAP</block>
  <block id="dacbfb309aa16cb942510c02c224fdbc" category="example-title">Exemplo de autenticação baseada em certificado</block>
  <block id="60eac39d4383fedcc1df436a2d0e856d" category="paragraph">Neste exemplo de configuração básica<block ref="79fffaff4013c1e8c508e76646eca77b" prefix=" " category="inline-code"></block> ,<block ref="19dce7ac7f5290fc8fa218ad0c858df5" prefix=" " category="inline-code"></block> e<block ref="8468461bca00a47ab5ddba2afc45f52c" prefix=" " category="inline-code"></block> (opcional, se estiver usando CA confiável) são preenchidos<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> e recebem os valores codificados em base64 do certificado do cliente, da chave privada e do certificado de CA confiável, respetivamente.</block>
  <block id="31089bb4131b18ca65c3d384cdd49644" category="example-title">Exemplos CHAP bidirecional</block>
  <block id="17baa03e9287aee400bc2e606d247156" category="paragraph">Esses exemplos criam um backend com<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>.</block>
  <block id="7a4c6868ec70d1fbee3cb3a7483e21d0" category="listing-title">Exemplo de ONTAP SAN CHAP</block>
  <block id="a0c1c7f21916f2a4fb0f0d56732adc90" category="listing-title">Exemplo de CHAP de economia de SAN ONTAP</block>
  <block id="6b743d9085f7f94d7a334c4386fbe239" category="paragraph">Nesses arquivos de definição de back-end de exemplo, padrões específicos são definidos para todos os pools de armazenamento, como<block ref="cae77b049bf504af7afc43b99b6c5213" prefix=" " category="inline-code"></block> em nenhum,<block ref="45922ba6ba8428764f22ed06f814c762" prefix=" " category="inline-code"></block> em falso e<block ref="5bdf74912a51c34815f11e9a3d20b609" prefix=" " category="inline-code"></block> em falso. Os pools virtuais são definidos na seção armazenamento.</block>
  <block id="dbd1f003df542a684d9c10246dc8a88f" category="paragraph">O Astra Trident define rótulos de provisionamento no campo "Comentários". Os comentários são definidos no FlexVol. O Astra Trident copia todas as etiquetas presentes em um pool virtual para o volume de storage no provisionamento. Por conveniência, os administradores de storage podem definir rótulos por pool virtual e volumes de grupo por rótulo.</block>
  <block id="4930386ddaad825d64732ee9ec5e65b8" category="example-title">Exemplo de SAN ONTAP</block>
  <block id="8a10ba8eb41944c10648f18ba7e16239" category="example-title">Exemplo de economia de SAN ONTAP</block>
  <block id="50543d5d423c4c1a0b4fdd41383189e5" category="paragraph">As seguintes definições do StorageClass referem-se ao <block ref="d690aebda44a37b8ae9c2c6f1918cb30" category="inline-xref-macro-rx"></block>. Usando o<block ref="bed471c4a88e25ac9a7e4a7b980700a8" prefix=" " category="inline-code"></block> campo, cada StorageClass chama quais pools virtuais podem ser usados para hospedar um volume. O volume terá os aspetos definidos no pool virtual escolhido.</block>
  <block id="514e71168790374132badc1258ee5136" category="list-text">O<block ref="63f9100803e1f67a5e33cbd5da9dbb33" prefix=" " category="inline-code"></block> StorageClass será mapeado para o primeiro pool virtual<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> no back-end. Esta é a única piscina que oferece proteção de nível dourado.</block>
  <block id="a9c41ef671a6da4ed0f439f86683b714" category="list-text">O<block ref="afbfe298fa275e5fff1aca9b2f213d9a" prefix=" " category="inline-code"></block> StorageClass será mapeado para o segundo e terceiro pool virtual no<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> back-end. Estas são as únicas piscinas que oferecem um nível de proteção diferente do ouro.</block>
  <block id="910ed65246d7ee240ec166f94b1fd5c9" category="list-text">O<block ref="65846755494383158592c748f74421ec" prefix=" " category="inline-code"></block> StorageClass será mapeado para o terceiro pool virtual no<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> back-end. Este é o único pool que oferece configuração de pool de armazenamento para o aplicativo tipo mysqldb.</block>
  <block id="fa03c7de8b1b7b7061bb536c211f3aaf" category="list-text">O<block ref="2e63b2ff91d4aeb88b54db5c90b71443" prefix=" " category="inline-code"></block> StorageClass será mapeado para o segundo pool virtual no<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> back-end. Esta é a única piscina que oferece proteção de nível de prata e 20000 pontos de crédito.</block>
  <block id="ac996ac8e4442d8a2791ba8b1e301a02" category="list-text">O<block ref="a96bee9dd30f3ea0af93b4c64ca1e4a4" prefix=" " category="inline-code"></block> StorageClass será mapeado para o terceiro pool virtual no<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> back-end e o quarto pool virtual no<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> back-end. Estas são as únicas ofertas de pool com 5000 pontos de crédito.</block>
  <block id="8f828c7344e7fe65d66237a25193068b" category="summary">Saiba mais sobre como se preparar para configurar um back-end ONTAP com drivers SAN ONTAP.</block>
  <block id="37a679c38162162811d93d22ba8f5b4a" category="paragraph">Entenda os requisitos e as opções de autenticação para configurar um back-end do ONTAP com drivers de SAN ONTAP.</block>
  <block id="5475028f502d04bc17cdfdf613d28cbf" category="paragraph">Lembre-se de que você também pode executar mais de um driver e criar classes de armazenamento que apontam para um ou outro. Por exemplo, você pode configurar uma<block ref="a4803fbb1a1ed00b47f0b526d515d172" prefix=" " category="inline-code"></block> classe que usa o<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> driver e uma<block ref="cc765df73da51962d9d46e6fbe9d1131" prefix=" " category="inline-code"></block> classe que usa a<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> mesma.</block>
  <block id="beee3e754bb36e7321f32ad13d4ac60a" category="paragraph">Todos os seus nós de trabalho do Kubernetes devem ter as ferramentas iSCSI apropriadas instaladas. <block ref="9e8cf70fcb465bf1907b585f74e9e1a6" category="inline-link-macro-rx"></block>Consulte para obter detalhes.</block>
  <block id="7ac6994e44af62a9075fd956e72ee6fb" category="paragraph">Tenha em mente que a definição de back-end é o único lugar onde as credenciais são armazenadas em texto simples. Depois que o back-end é criado, os nomes de usuário/senhas são codificados com Base64 e armazenados como segredos do Kubernetes. A criação ou atualização de um backend é a única etapa que requer conhecimento das credenciais. Como tal, é uma operação somente de administrador, a ser realizada pelo administrador do Kubernetes/storage.</block>
  <block id="7fbe6e40125b7d1b2f5c5c05044e7526" category="section-title">Ativar autenticação baseada em certificado</block>
  <block id="ea3bf76b270384627e7bcfb197ddb17b" category="list-text">Teste a autenticação usando certificado gerado. Substitua o ONTAP Management LIF&gt; e o &lt;vserver name&gt; por IP de LIF de gerenciamento e nome da SVM.</block>
  <block id="6adbf3424e5de1b4e2baad3b4d632c4a" category="paragraph">Você pode atualizar um back-end existente para usar um método de autenticação diferente ou para girar suas credenciais. Isso funciona de ambas as maneiras: Backends que fazem uso de nome de usuário / senha podem ser atualizados para usar certificados; backends que utilizam certificados podem ser atualizados para nome de usuário / senha com base. Para fazer isso, você deve remover o método de autenticação existente e adicionar o novo método de autenticação. Em seguida, use o arquivo backend.json atualizado contendo os parâmetros necessários para executar<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block>.</block>
  <block id="42f93278b0d15c8d0f6613813bf586d5" category="section-title">Autentique conexões com CHAP bidirecional</block>
  <block id="1bb09b46ddb492f0798a5793d23a63c9" category="paragraph">O Astra Trident pode autenticar sessões iSCSI com CHAP bidirecional para os<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> drivers e<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>. Isso requer a ativação da<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> opção na definição de backend. Quando definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o Astra Trident configura a segurança do iniciador padrão do SVM para CHAP bidirecional e define o nome de usuário e os segredos do arquivo de back-end. O NetApp recomenda o uso de CHAP bidirecional para autenticar conexões. Veja a seguinte configuração de exemplo:</block>
  <block id="12dd7bfa072b5a1eecf975f6a5a6eaa7" category="admonition">O<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> parâmetro é uma opção booleana que pode ser configurada apenas uma vez. Ele é definido como false por padrão. Depois de configurá-lo como verdadeiro, você não pode configurá-lo como falso.</block>
  <block id="bc601528678aeeb582101ed205a054bc" category="paragraph">Além<block ref="68978ccf4ed83900c8dd27558ca5ec18" prefix=" " category="inline-code"></block> do , os<block ref="f9d0dc78b203f2c1106dc0c7d58a5397" prefix=" " category="inline-code"></block> campos ,<block ref="4ab84a55744951d967033db9b64f6b27" prefix=" " category="inline-code"></block>,<block ref="2ebe107bb3bc9551fbb0e5033046931c" prefix=" " category="inline-code"></block>, e<block ref="039e9d80fa53ba861c06b590ba3f9d34" prefix=" " category="inline-code"></block> devem ser incluídos na definição de back-end. Os segredos podem ser alterados depois que um backend é criado executando<block ref="2849e93e1b3790bcd408a4f7ea580dbb" prefix=" " category="inline-code"></block>.</block>
  <block id="9ffdb95250e26c7a6b468126ac7c75b0" category="section-title">Como funciona</block>
  <block id="adbaa30840aebfe537058f72e0989326" category="paragraph">Ao definir<block ref="099cb468880f266cba40b49391fa46bc" prefix=" " category="inline-code"></block> como verdadeiro, o administrador de storage instrui o Astra Trident a configurar o CHAP no back-end de storage. Isso inclui o seguinte:</block>
  <block id="29b4db879e4cc96a6b71bc763367624b" category="list-text">Configuração do CHAP no SVM:</block>
  <block id="951e8b45bc49a5475337a1b55e3e3dc4" category="list-text">Se o tipo de segurança do iniciador padrão da SVM for nenhum (definido por padrão) *e* não houver LUNs pré-existentes no volume, o Astra Trident definirá o tipo de segurança padrão<block ref="9ef2bbb12ff72558472202561a25058d" prefix=" " category="inline-code"></block> e continuará configurando o iniciador CHAP e o nome de usuário e os segredos de destino.</block>
  <block id="313818ab0cd3579429d5bd6e5faab8ff" category="list-text">Se o SVM contiver LUNs, o Astra Trident não ativará o CHAP no SVM. Isso garante que o acesso a LUNs que já estão presentes no SVM não seja restrito.</block>
  <block id="13e0c564d5e1fbd33279fb276166653d" category="list-text">Configurando o iniciador CHAP e o nome de usuário e os segredos de destino; essas opções devem ser especificadas na configuração de back-end (como mostrado acima).</block>
  <block id="2c7856e86a0cd46cb4fb48fa0886745e" category="paragraph">Depois que o back-end é criado, o Astra Trident cria um CRD correspondente<block ref="18d388723371b89385366f93f0fbbbc6" prefix=" " category="inline-code"></block> e armazena os segredos e nomes de usuário do CHAP como segredos do Kubernetes. Todos os PVS criados pelo Astra Trident neste back-end serão montados e anexados através do CHAP.</block>
  <block id="81f2df0265026a1a04bda5484798a10d" category="section-title">Gire credenciais e atualize os backends</block>
  <block id="a7fe005c9f49619f4438aac8932fb361" category="paragraph">Você pode atualizar as credenciais CHAP atualizando os parâmetros CHAP no<block ref="9c15d32711e9ef8c6f76deda35452e13" prefix=" " category="inline-code"></block> arquivo. Isso exigirá a atualização dos segredos CHAP e o uso do<block ref="2849e93e1b3790bcd408a4f7ea580dbb" prefix=" " category="inline-code"></block> comando para refletir essas alterações.</block>
  <block id="8959ac16a58b09dc5a158e86ab02cb53" category="admonition">Ao atualizar os segredos CHAP para um backend, você deve usar<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> para atualizar o backend. Não atualize as credenciais no cluster de storage por meio da IU da CLI/ONTAP, pois o Astra Trident não conseguirá aceitar essas alterações.</block>
  <block id="1a59d0d7850406f157c314978eb3b821" category="paragraph">As conexões existentes não serão afetadas. Elas continuarão ativas se as credenciais forem atualizadas pelo Astra Trident no SVM. As novas conexões usarão as credenciais atualizadas e as conexões existentes continuam ativas. Desconetar e reconetar PVS antigos resultará em eles usando as credenciais atualizadas.</block>
  <block id="ef1161058705470bb877fbce688eea9e" category="summary">Saiba mais sobre como configurar um back-end ONTAP com drivers SAN ONTAP.</block>
  <block id="5cc1e28c0d7b6c40ca94aacb554b31ca" category="doc">Descrição geral do controlador SAN ONTAP</block>
  <block id="133184f8c608809bdc057abf1397d10d" category="paragraph">Saiba mais sobre como configurar um back-end ONTAP com drivers SAN ONTAP e Cloud Volumes ONTAP.</block>
  <block id="7771a46320e96de2bde6598540ad4d52" category="section-title">Informações importantes sobre os drivers SAN ONTAP</block>
  <block id="96c17dbe45e7351fb2a4f71956c25e0c" category="paragraph">O Astra Trident espera ser executado como administrador da ONTAP ou SVM, normalmente usando o<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block> usuário do cluster ou um<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> usuário SVM, ou um usuário com um nome diferente que tenha a mesma função. Para implantações do Amazon FSX for NetApp ONTAP, o Astra Trident espera ser executado como administrador do ONTAP ou SVM, usando o usuário do cluster<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> ou um<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> usuário SVM, ou um usuário com um nome diferente que tenha a mesma função. O<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> usuário é um substituto limitado para o usuário administrador do cluster.</block>
  <block id="ec3f9af8f611100a0182ffb9ab2e5ef8" category="paragraph">Embora seja possível criar uma função mais restritiva no ONTAP que um driver Trident pode usar, não recomendamos. A maioria das novas versões do Trident chamarão APIs adicionais que teriam que ser contabilizadas, tornando as atualizações difíceis e suscetíveis a erros.</block>
  <block id="76b4586b7207f884c66397194b773e14" category="summary">Saiba mais sobre as opções de configuração de back-end para o Amazon FSX for ONTAP. Esta seção fornece exemplos de configuração de back-end.</block>
  <block id="bf432628a3769cd379c6784688db312f" category="cell">Endereço IP do protocolo LIF. * ONTAP nas drivers*: Recomendamos especificar dataLIF. Se não for fornecido, o Astra Trident obtém LIFs de dados do SVM. Você pode especificar um nome de domínio totalmente qualificado (FQDN) a ser usado para as operações de montagem NFS, permitindo que você crie um DNS de round-robin para balanceamento de carga em vários LIFs de dados. Pode ser alterado após a definição inicial. <block ref="b2c939cb81e81d99a25f4be74f517f2f" category="inline-xref-macro-rx"></block>Consulte a . *Drivers SAN ONTAP*: Não especifique para iSCSI. O Astra Trident usa o mapa de LUN seletivo da ONTAP para descobrir as LIFs iSCI necessárias para estabelecer uma sessão de vários caminhos. Um aviso é gerado se o dataLIF for definido explicitamente. Pode ser definido para usar endereços IPv6 se o Astra Trident tiver sido instalado usando o<block ref="4a4ef9f92e69acc000120379678aadcf" prefix=" " category="inline-code"></block> sinalizador. Os endereços IPv6 devem ser definidos entre colchetes, como [28e8:d9fb:a825:b7bf:69a8:d02f:9e7b:3555].</block>
  <block id="508e91a481a0d10be716ae1a501447d0" category="cell">"["0,0.0,0/0", ":::/0"]"</block>
  <block id="b8c7e19ba614c29878588409008e29c6" category="cell">Nome de usuário para se conetar ao cluster ou SVM. Usado para autenticação baseada em credenciais. Por exemplo, vsadmin.</block>
  <block id="9a2486a943ad2a4c99f2797d6984f3d0" category="cell">Senha para se conectar ao cluster ou SVM. Usado para autenticação baseada em credenciais.</block>
  <block id="6018b4c39d938c6589decae81b54c6f0" category="cell">Derivado se um SVM managementLIF for especificado.</block>
  <block id="4cba35e041b22828be7c835295ee9102" category="cell">Prefixo usado ao provisionar novos volumes na SVM. Não pode ser modificado após a criação. Para atualizar esse parâmetro, você precisará criar um novo backend.</block>
  <block id="2b3e2c0490ded1bc79028dd367358b9d" category="cell">*Não especifique para o Amazon FSX for NetApp ONTAP.* O fornecido<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> e<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> não contém as permissões necessárias para recuperar o uso agregado e limitá-lo usando o Astra Trident.</block>
  <block id="86f4c9647fe8f4c500055c772753cc6f" category="cell">Não utilizar.</block>
  <block id="bd4c4a75acd87c86694e9aca1e4050e2" category="cell">O máximo de LUNs por FlexVol tem de estar no intervalo [50, 200]. Apenas SAN.</block>
  <block id="e939be085c2babe4ff0f08e09d0cdfd2" category="cell">Configurar a criação de volumes NFS ou SMB. As opções são<block ref="2521ef5d58fc027d3121662b7d8f9ac2" prefix=" " category="inline-code"></block>,<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block>, ou null. *Deve definir como<block ref="79e0f325804dafbdaef73b3b17c0fd8d" prefix=" " category="inline-code"></block> para volumes SMB.* A configuração como null padrão para volumes NFS.</block>
  <block id="06daeb0fdb584c4694891d290310e1ed" category="cell"><block ref="3644a684f98ea8fe223c713b77189a77" prefix="" category="inline-code"></block></block>
  <block id="0533fb8f0faef28ecb6da05caf5fd644" category="cell">Você pode especificar uma das seguintes opções: O nome de um compartilhamento SMB criado usando o Console de Gerenciamento da Microsoft ou a CLI do ONTAP ou um nome para permitir que o Astra Trident crie o compartilhamento SMB. Esse parâmetro é necessário para backends do Amazon FSX for ONTAP.</block>
  <block id="2ab2b81dde76a2ec7ed3798f1538f823" category="cell">Parâmetro booleano para usar APIs REST do ONTAP. *A visualização técnica* <block ref="14d839191d1ecf387a15b5b0c802a8ae" prefix=" " category="inline-code"></block> é fornecida como uma **prévia técnica** que é recomendada para ambientes de teste e não para cargas de trabalho de produção. Quando definido como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>, o Astra Trident usará as APIS REST do ONTAP para se comunicar com o back-end. Esse recurso requer o ONTAP 9.11,1 e posterior. Além disso, a função de login do ONTAP usada deve ter acesso ao<block ref="a9ba4dc88fa11d44cc7c0c918d174778" prefix=" " category="inline-code"></block> aplicativo. Isso é satisfeito com as funções e<block ref="fdb6ba311fad29ec53069808f10ebef4" prefix=" " category="inline-code"></block> predefinidas<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block>.</block>
  <block id="f9d8bcec134b3ae3cb7aaac7048373ee" category="cell">Grupo de políticas de QoS a atribuir aos volumes criados. Escolha uma das qosPolicy ou adaptiveQosPolicy por pool de armazenamento ou backend. O uso de grupos de política de QoS com o Astra Trident requer o ONTAP 9.8 ou posterior. Recomendamos o uso de um grupo de políticas de QoS não compartilhado e garantir que o grupo de políticas seja aplicado individualmente a cada componente. Um grupo de política de QoS compartilhado aplicará o limite máximo da taxa de transferência total de todos os workloads.</block>
  <block id="a8fe789c9febc6b76736fb83c90df2b7" category="cell">Grupo de políticas de QoS adaptável a atribuir para volumes criados. Escolha uma das qosPolicy ou adaptiveQosPolicy por pool de armazenamento ou backend. Não suportado pela ONTAP-nas-Economy.</block>
  <block id="996a57df5a7c8752e8bc23b6af020be4" category="cell">Se<block ref="0a236e7685e50a59df980d0a30929d6c" prefix=" " category="inline-code"></block> for<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block>,<block ref="2954e92a9b4d0e998fe4893f8141649a" prefix=" " category="inline-code"></block> ""</block>
  <block id="8336fb38c3b943161d5d6e73af8f4a12" category="cell">Ativar encriptação LUKS. <block ref="3646c7a69a11bdd94c010bf856bda313" category="inline-link-macro-rx"></block>Consulte a . Apenas SAN.</block>
  <block id="58c09f2c9581bc7c58c32116266b6d8f" category="cell">Política de disposição em camadas para usar<block ref="334c4a4c42fdb79d7ebc3e73b517e6f8" prefix=" " category="inline-code"></block></block>
  <block id="49ed5b3ecd0e966bec6b74083f06599e" category="cell"><block ref="8805d416ce540c5f2df34af5b18d742b" prefix="" category="inline-code"></block> Para configuração pré-ONTAP 9.5 SVM-DR</block>
  <block id="8ba802b52dc84f4e82bfbbf2e2d4a807" category="cell">Modo para novos volumes. *Deixe vazio para volumes SMB.*</block>
  <block id="ce627e1ba8a6bccff2793f66b44012fa" category="cell">""</block>
  <block id="88b0b88c998957f004af42563d5e5b40" category="paragraph">Usando<block ref="296026821ada2ab8aebcf13547a63df5" prefix=" " category="inline-code"></block>,<block ref="e12fdd044232e643620eed06bf33c7af" prefix=" " category="inline-code"></block> e<block ref="1ad68a6a046942b7c1666aed825df70a" prefix=" " category="inline-code"></block>, você pode especificar um volume SMB e fornecer as credenciais necessárias do ative Directory. Os volumes SMB são suportados usando<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> apenas o driver.</block>
  <block id="4a9c2b6feb83a77f2806513226f33d05" category="summary">Você pode integrar seu sistema de arquivos do Amazon FSX for NetApp ONTAP ao Astra Trident para garantir que os clusters do Kubernetes executados no Amazon Elastic Kubernetes Service (EKS) possam provisionar volumes persistentes de bloco e arquivo com o respaldo do ONTAP.</block>
  <block id="8373fe009c8ffdbdda12cfedf744172c" category="doc">Integre o Amazon FSX para NetApp ONTAP</block>
  <block id="0629fb104936d0fb60cc736b6cb01caa" category="inline-link-macro">Requisitos do Astra Trident</block>
  <block id="241f2511660937482446bd41efeac638" category="paragraph">Além <block ref="1615f1c495dc4acc1bb5bea393c7532b" category="inline-link-macro-rx"></block>do , para integrar o FSX para ONTAP com Astra Trident, você precisa de:</block>
  <block id="80d13d3dbe137e8fb646193f275eceeb" category="list-text">Um cluster do Amazon EKS existente ou um cluster do Kubernetes autogerenciado com<block ref="0f12ee5c9f1dd90158580f1c292b0d37" prefix=" " category="inline-code"></block> o instalado.</block>
  <block id="9b800ce65251b771d0eb86610e11f6b0" category="list-text">Um sistema de arquivos e máquina virtual de armazenamento (SVM) do Amazon FSX for NetApp ONTAP que pode ser acessado a partir dos nós de trabalho do seu cluster.</block>
  <block id="288b1cbb87d08c32abf3084c28636e5c" category="inline-link-macro">NFS ou iSCSI</block>
  <block id="d7481875afa061fb651628b2597d52ec" category="list-text">Nós de trabalho preparados para <block ref="966ed3bab2d39ae1014ad2eb34527e0f" category="inline-link-macro-rx"></block>.</block>
  <block id="fe914214000491758957f04647f8da36" category="inline-link">Imagens de máquinas da Amazon</block>
  <block id="d0341760d873a30f82a310a6eab0ba9c" category="admonition">Certifique-se de seguir as etapas de preparação de nós necessárias para o Amazon Linux e<block ref="70013ee128d5437b3d9579d66ece4066" category="inline-link-rx"></block> Ubuntu (AMIS), dependendo do seu tipo de AMI EKS.</block>
  <block id="9303b8f40cf82f5e37702c7a6387e725" category="section-title">Integração de driver SAN e nas ONTAP</block>
  <block id="83d1f963158732d2aedc5119f242bcff" category="admonition">Se você estiver configurando volumes SMB, leia <block ref="688177e6b45c5d27a545463079c58d82" category="inline-xref-macro-rx"></block> antes de criar o back-end.</block>
  <block id="ccb5eb98656346cbfa0b207e7d363bef" category="inline-link-macro">métodos de implantação</block>
  <block id="e2bcf5dc117f31569d413bd9b7698bf2" category="list-text">Implante o Astra Trident com um dos <block ref="71cad0f2a077aa26894105299bf47b53" category="inline-link-macro-rx"></block>.</block>
  <block id="c8aecc44e726368f30c6757e9ab5b64b" category="list-text">Colete seu nome DNS de gerenciamento de SVM. Por exemplo, usando a AWS CLI, localize a<block ref="a3c3b30ab91f2501f21058ee87f27a4f" prefix=" " category="inline-code"></block> entrada em<block ref="b8724da75fb917e992576b17378e66b3" prefix=" " category="inline-code"></block> -&gt;<block ref="fe4dbcab9b910577e5035e97ac068dae" prefix=" " category="inline-code"></block> depois de executar o seguinte comando:</block>
  <block id="ed625a73c7dbbe8b3d51e643adb7ddfd" category="inline-link-macro">Autenticação de back-end nas</block>
  <block id="cac491bba67bb09dddb8fa935c0ed9d6" category="inline-link-macro">Autenticação de back-end SAN</block>
  <block id="2c4646cfa545b727f14a7ee6560b41b8" category="list-text">Criar e instalar certificados para <block ref="e0dfdc1f3574886f1078f7699f0f57f0" category="inline-link-macro-rx"></block> ou <block ref="2ba00bd5ff04f92ed7b3b69e76174936" category="inline-link-macro-rx"></block>.</block>
  <block id="3e25473814d436a2ebac91120e147b0b" category="admonition">Você pode fazer login no seu sistema de arquivos (por exemplo, para instalar certificados) usando SSH de qualquer lugar que possa chegar ao seu sistema de arquivos. Utilize o<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> utilizador, a palavra-passe configurada quando criou o sistema de ficheiros e o nome DNS de gestão a partir<block ref="3c8f3925e315d2ace460d4becfa79120" prefix=" " category="inline-code"></block>do .</block>
  <block id="860958fe641e0edbd80fe522c36d0560" category="list-text">Crie um arquivo de back-end usando seus certificados e o nome DNS do seu LIF de gerenciamento, como mostrado na amostra abaixo:</block>
  <block id="1584837635038d443115ce4eeb3b33e4" category="paragraph">Para obter informações sobre como criar backends, consulte estes links:</block>
  <block id="6f95a39ae3c518928ed5e4681a0fd49b" category="inline-link-macro">Configurar um back-end com drivers nas ONTAP</block>
  <block id="26798b67dd2e5b4c8d4f03c4c16170c7" category="list-text"><block ref="26798b67dd2e5b4c8d4f03c4c16170c7" category="inline-link-macro-rx"></block></block>
  <block id="31e8c05beab321d1465fc4c3f77e991a" category="inline-link-macro">Configure um back-end com drivers SAN ONTAP</block>
  <block id="85d7b73826973ab07bfe78af69bd85f4" category="list-text"><block ref="85d7b73826973ab07bfe78af69bd85f4" category="inline-link-macro-rx"></block></block>
  <block id="d11f02b39cdb338286053b2f1315c6b4" category="inline-link-macro">classe de storage, provisione um volume e monte o volume em um pod</block>
  <block id="7d7eb1dca2ce4d155167358b4768de14" category="paragraph">Após a implantação, você pode criar um <block ref="71dee6d7db1737892d8ac3c68402b3c3" category="inline-link-macro-rx"></block>.</block>
  <block id="fbf3304d2358758ea71475804b2cbeae" category="paragraph">Você pode provisionar volumes SMB usando<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> o driver. Antes de concluir <block ref="24f26185e00986318dc562523d4edbf6" category="inline-xref-macro-rx"></block>as etapas a seguir.</block>
  <block id="f55c34459cf261d1102750bcbde548d8" category="paragraph">Antes de provisionar volumes SMB usando<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> o driver, você deve ter o seguinte:</block>
  <block id="8e6249724e4eef8026e47829f03f9e67" category="list-text">Criar compartilhamentos SMB. Você pode criar os compartilhamentos de administração SMB de duas maneiras usando o <block ref="364bc251e9c8cfbf6ce258767d17d682" category="inline-link-macro-rx"></block>snap-in pastas compartilhadas ou usando a CLI do ONTAP. Para criar compartilhamentos SMB usando a CLI do ONTAP:</block>
  <block id="1928bae58ae496b53ef1a163c3dbeeb4" category="cell">Modo para novos volumes. *Deve ser deixado vazio para volumes SMB.*</block>
  <block id="00a9bbaf4185978435bd4d6cb7aba6c4" category="summary">Usando o Astra Trident com o Amazon FSX for NetApp ONTAP, você garante que os clusters do Kubernetes executados no Amazon Elastic Kubernetes Service (EKS) possam provisionar volumes persistentes de bloco e arquivo com o respaldo do do ONTAP.</block>
  <block id="0b62778604e11f72525f5a82bbd26c6a" category="paragraph"><block ref="6a2736fcbb5755dd03d114a5153506eb" category="inline-link-rx"></block> É um serviço AWS totalmente gerenciado que permite que os clientes iniciem e executem sistemas de arquivos equipados com o sistema operacional de storage NetApp ONTAP. O FSX para ONTAP permite que você aproveite os recursos, o desempenho e os recursos administrativos do NetApp com os quais você já conhece, ao mesmo tempo em que aproveita a simplicidade, a agilidade, a segurança e a escalabilidade do armazenamento de dados na AWS. O FSX para ONTAP oferece suporte aos recursos do sistema de arquivos ONTAP e APIs de administração.</block>
  <block id="7eb620c879218a348ba0e9afaedf6b01" category="paragraph">Um sistema de arquivos é o principal recurso do Amazon FSX, análogo a um cluster do ONTAP no local. Em cada SVM, você pode criar um ou vários volumes, que são contentores de dados que armazenam os arquivos e pastas em seu sistema de arquivos. Com o Amazon FSX for NetApp ONTAP, o Data ONTAP será fornecido como um sistema de arquivos gerenciado na nuvem. O novo tipo de sistema de arquivos é chamado de *NetApp ONTAP*.</block>
  <block id="1e6c7220f5d4eb181d67b4d5043336f5" category="paragraph">Usando o Astra Trident com o Amazon FSX for NetApp ONTAP, você pode garantir que os clusters do Kubernetes executados no Amazon Elastic Kubernetes Service (EKS) provisionem volumes persistentes de bloco e arquivo com o respaldo do do ONTAP.</block>
  <block id="55449fd175613962d882ab450cfc5f3c" category="inline-link">FabricPool</block>
  <block id="d07e2d99267e4fc3c508f6701be977b4" category="paragraph">O Amazon FSX para NetApp ONTAP usa<block ref="d1584952da6bdedb0a24d5dbd43ce0bf" category="inline-link-rx"></block> para gerenciar camadas de armazenamento. Ele permite armazenar dados em um nível, com base no acesso frequente aos dados.</block>
  <block id="9b85b10750f4b0e98b7853ee468d8bd5" category="list-text">Volumes SMB:</block>
  <block id="cf201a9e802aa6e35997590206919b1a" category="list-text">Os volumes SMB são suportados usando<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> apenas o driver.</block>
  <block id="b184cfad0a2d14c9220db3d72006958c" category="list-text">Os volumes criados em sistemas de arquivos do Amazon FSX que têm backups automáticos ativados não podem ser excluídos pelo Trident. Para excluir PVCs, você precisa excluir manualmente o PV e o volume FSX for ONTAP. Para evitar este problema:</block>
  <block id="10b862795141355be1c179a2f878f507" category="list-text">Não use **Quick Create** para criar o sistema de arquivos FSX for ONTAP. O fluxo de trabalho de criação rápida permite backups automáticos e não fornece uma opção de exclusão.</block>
  <block id="a10ab8f133704d9a58a1dff179ad7f7d" category="list-text">Ao usar **Standard Create**, desative o backup automático. A desativação de backups automáticos permite que o Trident exclua com êxito um volume sem intervenção manual adicional.</block>
  <block id="4ef50c481a6113a6276514f572c414d2" category="inline-image-macro">Uma captura de tela do console da AWS desativando o backup automático.</block>
  <block id="cce5aa9218d4019d57adcf814d7189c1" category="paragraph"><block ref="cce5aa9218d4019d57adcf814d7189c1" category="inline-image-macro-rx" type="image"></block></block>
  <block id="8e64a609e66214066595e6300aaab281" category="section-title">Drivers</block>
  <block id="867730e819742e7e493081f160c42c61" category="paragraph">Você pode integrar o Astra Trident ao Amazon FSX for NetApp ONTAP usando os seguintes drivers:</block>
  <block id="79a4618bb191cb293c330f8189531a13" category="list-text"><block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix="" category="inline-code"></block>: Cada PV provisionado é um LUN dentro de seu próprio volume do Amazon FSX for NetApp ONTAP.</block>
  <block id="b8f98ceeb9b158e8af3527fce91e9e57" category="list-text"><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix="" category="inline-code"></block>: Cada PV provisionado é um LUN com um número configurável de LUNs por volume do Amazon FSX for NetApp ONTAP.</block>
  <block id="a5bc2c9e7628ac6c73838f9fea0e6ed6" category="list-text"><block ref="8321592ce24c8a122ecf26a63cfca407" prefix="" category="inline-code"></block>: Cada PV provisionado é um volume completo do Amazon FSX for NetApp ONTAP.</block>
  <block id="94a834f420b7c21f3a1053e6dc705a31" category="list-text"><block ref="caafdf62a2c609bfa5316118231a1007" prefix="" category="inline-code"></block>: Cada PV provisionado é uma qtree, com um número configurável de qtrees por volume do Amazon FSX for NetApp ONTAP.</block>
  <block id="e42b07a9f050ef51ea1211004a50f223" category="list-text"><block ref="844e84da8e822b4a33c4d8188da97937" prefix="" category="inline-code"></block>: Cada PV provisionado é um volume completo do Amazon FSX for NetApp ONTAP FlexGroup.</block>
  <block id="90e87fa57067732a25774f917230f72b" category="paragraph">Para obter detalhes sobre o driver, <block ref="5222b6b9484ba2027cf88dd24062e5fc" category="inline-link-macro-rx"></block>consulte .</block>
  <block id="c75f7811d70d17dbcd88e9d03752cbed" category="section-title">Autenticação</block>
  <block id="676f29c1b0b3626bc959bdc6ebc8953b" category="paragraph">O Astra Trident oferece dois modos de autenticação.</block>
  <block id="ed2536bee60113131cf25b2de3ec8734" category="list-text">Baseado em certificado: O Astra Trident se comunicará com o SVM em seu sistema de arquivos FSX usando um certificado instalado no seu SVM.</block>
  <block id="d5d195efeafde24a6a22effd3dd39339" category="list-text">Baseado em credenciais: Você pode usar o<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> usuário para o sistema de arquivos ou o<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> usuário configurado para o SVM.</block>
  <block id="2dc4717be6b9cdf676df17aa86465f02" category="admonition">O Astra Trident espera ser executado como um<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> usuário SVM ou como um usuário com um nome diferente que tenha a mesma função. O Amazon FSX for NetApp ONTAP tem um<block ref="679500f227997b45be97e3ca8115c678" prefix=" " category="inline-code"></block> usuário que é uma substituição limitada do usuário do cluster do ONTAP<block ref="21232f297a57a5a743894a0e4a801fc3" prefix=" " category="inline-code"></block>. É altamente recomendável usar<block ref="6173aa5206484b5224450952747c7148" prefix=" " category="inline-code"></block> com o Astra Trident.</block>
  <block id="43c502a16d6b21dc6eb26a2067154e11" category="paragraph">Você pode atualizar backends para mover entre métodos baseados em credenciais e baseados em certificado. No entanto, se você tentar fornecer *credenciais e certificados*, a criação de backend falhará. Para alternar para um método de autenticação diferente, você deve remover o método existente da configuração de back-end.</block>
  <block id="994eaa47aad78cae857818e1655e2800" category="paragraph">Para obter detalhes sobre como ativar a autenticação, consulte a autenticação do tipo de driver:</block>
  <block id="57e00ef3eabad47fc79d0ef1319f989c" category="inline-link-macro">Autenticação nas ONTAP</block>
  <block id="840db27e4fe9967e908b8b101ca72198" category="list-text"><block ref="840db27e4fe9967e908b8b101ca72198" category="inline-link-macro-rx"></block></block>
  <block id="562276ffa617658595d5e6df35ef971c" category="inline-link-macro">Autenticação SAN ONTAP</block>
  <block id="4a5e4254b1862ddbff7f81ed84e87125" category="list-text"><block ref="4a5e4254b1862ddbff7f81ed84e87125" category="inline-link-macro-rx"></block></block>
  <block id="cc788b7e72b2a734dd0985bd1e0e9fe3" category="inline-link">Documentação do Amazon FSX para NetApp ONTAP</block>
  <block id="fd570b75466e2daca21a032e6fd5981c" category="list-text"><block ref="fd570b75466e2daca21a032e6fd5981c" category="inline-link-rx"></block></block>
  <block id="0ef79cb4bb284d3ca9c3e95489919301" category="inline-link">Blog post no Amazon FSX for NetApp ONTAP</block>
  <block id="3b94214fe5975bca8da92b72f8926be2" category="list-text"><block ref="3b94214fe5975bca8da92b72f8926be2" category="inline-link-rx"></block></block>
  <block id="ff342df7522d6b527768cc6bfe5f9fae" category="summary">O Astra Trident oferece aos usuários do Kubernetes a capacidade de expandir seus volumes depois que eles são criados. Encontre informações sobre as configurações necessárias para expandir volumes iSCSI e NFS.</block>
  <block id="15d79b565b148caa23e6f2b53813413d" category="section-title">Expanda um volume iSCSI</block>
  <block id="0b981ab19df55a28a02578aa5f326db8" category="paragraph">É possível expandir um iSCSI Persistent volume (PV) usando o provisionador de CSI.</block>
  <block id="f8f338469c62eb8604f5304af08466ba" category="admonition">A expansão de volume iSCSI é suportada pelos<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> drivers , ,<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> e requer o Kubernetes 1,16 e posterior.</block>
  <block id="13311fb741bdb3b9d877937311a2d64d" category="paragraph">A expansão de um iSCSI PV inclui os seguintes passos:</block>
  <block id="5141e3596f63bc5db3fd9ee32b736127" category="list-text">Editando a definição StorageClass para definir o<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block> campo como<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>.</block>
  <block id="9e7362e47322994c4d272d377e83f31b" category="list-text">Editar a definição de PVC e atualizar o<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block> para refletir o tamanho recém-desejado, que deve ser maior que o tamanho original.</block>
  <block id="0860a1b7122f04033fb722b29d878468" category="list-text">A fixação do PV deve ser fixada a um pod para que ele seja redimensionado. Existem dois cenários ao redimensionar um iSCSI PV:</block>
  <block id="7ac758b4597806f6880d9618fa093e52" category="list-text">Se o PV estiver conetado a um pod, o Astra Trident expande o volume no back-end de armazenamento, refaz o dispositivo e redimensiona o sistema de arquivos.</block>
  <block id="7efffb2478ff651b7e45343b4e9f6fa8" category="list-text">Ao tentar redimensionar um PV não anexado, o Astra Trident expande o volume no back-end de armazenamento. Depois que o PVC é ligado a um pod, o Trident refaz o dispositivo e redimensiona o sistema de arquivos. Em seguida, o Kubernetes atualiza o tamanho do PVC após a operação de expansão ter sido concluída com sucesso.</block>
  <block id="ec3e34c26eaf059dc3ac58d8efc9fa37" category="paragraph">O exemplo abaixo mostra como funcionam os PVS iSCSI em expansão.</block>
  <block id="fe9ee1935ea7894fe4fd2f600993cd7d" category="section-title">Etapa 1: Configure o StorageClass para dar suporte à expansão de volume</block>
  <block id="c83b8171dcc233263cf7eeaef8da6a4d" category="paragraph">Para um StorageClass já existente, edite-o para incluir o<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block> parâmetro.</block>
  <block id="59973fd7be015512b53fe121a13d5580" category="section-title">Etapa 2: Crie um PVC com o StorageClass que você criou</block>
  <block id="8592e7b08d26d1aa2ef3c44409c736fa" category="paragraph">O Astra Trident cria um volume persistente (PV) e o associa a essa reivindicação de volume persistente (PVC).</block>
  <block id="8dacc1d7fdb5bfd3f8a4daedf3ccdd88" category="section-title">Passo 3: Defina um pod que prende o PVC</block>
  <block id="85f5dec267aa48cff82ccaf993019e6d" category="paragraph">Neste exemplo, é criado um pod que usa o<block ref="51288ffe0d65faa0df02b71bfa104041" prefix=" " category="inline-code"></block>.</block>
  <block id="ebae1958b6002fb43077a474d845284c" category="section-title">Passo 4: Expanda o PV</block>
  <block id="63188b171689bcd93b1ca818b3a2ab9c" category="paragraph">Para redimensionar o PV que foi criado de 1Gi a 2Gi, edite a definição de PVC e atualize o<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block> para 2Gi.</block>
  <block id="eabf614ed44fe1c3e78cb2300949eb63" category="section-title">Etapa 5: Validar a expansão</block>
  <block id="28abbd693f528f04d0ff068b3013fcd6" category="paragraph">É possível validar a expansão trabalhada corretamente verificando o tamanho do PVC, PV e volume Astra Trident:</block>
  <block id="75b8249751a8ea5869a0b5a8e465efc1" category="section-title">Expandir um volume NFS</block>
  <block id="ec2577b4770848fd294d6ca069c34a43" category="paragraph">O Astra Trident dá suporte à expansão de volume para PVS NFS provisionados em<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block><block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> , , ,<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> e<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> backends.</block>
  <block id="578f10bb7cad2abad1cbbcb9a9a732f9" category="paragraph">Para redimensionar um PV NFS, o administrador primeiro precisa configurar a classe de armazenamento para permitir a expansão de volume definindo o<block ref="6add71a247c8f4513060920be14857bc" prefix=" " category="inline-code"></block> campo para<block ref="b326b5062b2f0e69046810717534cb09" prefix=" " category="inline-code"></block>:</block>
  <block id="27b4a9ed8609e35526601aa8d8be1ab9" category="paragraph">Se você já criou uma classe de armazenamento sem essa opção, você pode simplesmente editar a classe de armazenamento existente usando<block ref="04e7749715e986f27d9cb67434b65b72" prefix=" " category="inline-code"></block> para permitir a expansão de volume.</block>
  <block id="784f78e647973a0dcfa11b7a028c7eae" category="paragraph">O Astra Trident deve criar um PV NFS de 20MiB para este PVC:</block>
  <block id="3b16cea25bd4a9aaf5a9c3dcc13ea7eb" category="section-title">Passo 3: Expanda o PV</block>
  <block id="e5c2c0bfcfbe01e6174199aaff9616a5" category="paragraph">Para redimensionar o 20MiB PV recém-criado para 1GiB, edite o PVC e defina<block ref="02b011e6fe36e26e5f7365ba08bf5a48" prefix=" " category="inline-code"></block> como 1GB:</block>
  <block id="4a59ce1bc63fd7e6333968fb4bbd9d45" category="section-title">Etapa 4: Validar a expansão</block>
  <block id="c70f05fed7c73e0be4a0b24c8532a87c" category="paragraph">Você pode validar o redimensionamento trabalhado corretamente verificando o tamanho do PVC, PV e o volume Astra Trident:</block>
  <block id="cf13ba16f33b5f6772614929649be6c2" category="summary">Você pode importar volumes de armazenamento existentes como um PV do Kubernetes usando<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block>o .</block>
  <block id="5f48c343984786005c9830d96c6fca87" category="doc">Importar volumes</block>
  <block id="2e77d5277311f3a9232a73cdbbcd754b" category="section-title">Visão geral e considerações</block>
  <block id="df6f3bebb689d436041be7a75ee22542" category="paragraph">Você pode importar um volume para o Astra Trident para:</block>
  <block id="88541191ec5fe50ba0d21b4300401b85" category="list-text">Conteinerize um aplicativo e reutilize seu conjunto de dados existente</block>
  <block id="77d782125cafbbf0fe1c5c95755d143f" category="list-text">Use um clone de um conjunto de dados para uma aplicação efêmera</block>
  <block id="d265b515faaf05e2c32727d8b9742a78" category="list-text">Reconstruir um cluster do Kubernetes com falha</block>
  <block id="6766ef9d5b11abf03ee72b55c5745f4b" category="list-text">Migrar dados da aplicação durante a recuperação de desastre</block>
  <block id="4c321a56c9c030449cd3315863de525b" category="paragraph">Antes de importar um volume, reveja as seguintes considerações.</block>
  <block id="3c65d97abe967081cd896f071baa434f" category="list-text">O Astra Trident pode importar apenas volumes ONTAP do tipo RW (leitura-gravação). Os volumes do tipo DP (proteção de dados) são volumes de destino do SnapMirror. Você deve quebrar a relação espelhada antes de importar o volume para o Astra Trident.</block>
  <block id="e47be4dcc849b534107f57afd92f801f" category="list-text">Sugerimos importar volumes sem conexões ativas. Para importar um volume usado ativamente, clonar o volume e, em seguida, executar a importação.</block>
  <block id="e4618ea9b1ae23e5ed30f6f19e6a77e8" category="admonition">Isso é especialmente importante para volumes de bloco, já que o Kubernetes não sabia da conexão anterior e poderia facilmente anexar um volume ativo a um pod. Isso pode resultar em corrupção de dados.</block>
  <block id="8cbc7a45d1e8d9d63beba7825c76f6ff" category="list-text">Embora<block ref="e1e2a331ab1d8dccfea06fc8e04e2f5d" prefix=" " category="inline-code"></block> deva ser especificado em um PVC, o Astra Trident não usa esse parâmetro durante a importação. As classes de armazenamento são usadas durante a criação de volume para selecionar os pools disponíveis com base nas caraterísticas de armazenamento. Como o volume já existe, nenhuma seleção de pool é necessária durante a importação. Portanto, a importação não falhará mesmo se o volume existir em um backend ou pool que não corresponda à classe de armazenamento especificada no PVC.</block>
  <block id="a31db9efd829f01dd21fdc97db2d29e4" category="list-text">O tamanho do volume existente é determinado e definido no PVC. Depois que o volume é importado pelo driver de armazenamento, o PV é criado com uma ClaimRef para o PVC.</block>
  <block id="604eea1f3df98285b6887ff059258827" category="list-text">A política de recuperação é inicialmente definida como<block ref="16d79ff80feadcf2f52096f073f2b94a" prefix=" " category="inline-code"></block> no PV. Depois que o Kubernetes vincula com êxito o PVC e o PV, a política de recuperação é atualizada para corresponder à política de recuperação da Classe de armazenamento.</block>
  <block id="5d24684cf5054f53b1e945be75b37f69" category="list-text">Se a política de recuperação da Classe de armazenamento for<block ref="099af53f601532dbd31e0ea99ffdeb64" prefix=" " category="inline-code"></block>, o volume de armazenamento será excluído quando o PV for excluído.</block>
  <block id="746af08b5a2da065387679e35fb75f55" category="list-text">Por padrão, o Astra Trident gerencia o PVC e renomeia o FlexVol e o LUN no back-end. Você pode passar o<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block> sinalizador para importar um volume não gerenciado. Se você usar<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block>o , o Astra Trident não realiza nenhuma operação adicional no PVC ou no PV para o ciclo de vida dos objetos. O volume de armazenamento não é excluído quando o PV é excluído e outras operações, como clone de volume e redimensionamento de volume também são ignoradas.</block>
  <block id="be303acf01bc566d5d211f228131bee4" category="admonition">Essa opção é útil se você quiser usar o Kubernetes para workloads em contêineres, mas de outra forma quiser gerenciar o ciclo de vida do volume de storage fora do Kubernetes.</block>
  <block id="76057e180d7b3edcebaa935c7ccab687" category="list-text">Uma anotação é adicionada ao PVC e ao PV que serve para um duplo propósito de indicar que o volume foi importado e se o PVC e o PV são gerenciados. Esta anotação não deve ser modificada ou removida.</block>
  <block id="db31dcd83fd57b294fb0340ea975015f" category="section-title">Importar um volume</block>
  <block id="61a1adebea5e6a017b4bd4b405ae4f52" category="paragraph">Pode utilizar<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block> para importar um volume.</block>
  <block id="8feb5f647cb423db7fa8a957ae4ef075" category="list-text">Crie o arquivo PVC (Persistent volume Claim) (por exemplo,<block ref="88bf8ee4d993e535425148da6a64c1c2" prefix=" " category="inline-code"></block>) que será usado para criar o PVC. O ficheiro PVC deve incluir<block ref="b068931cc450442b63f5b3d276ea4297" prefix=" " category="inline-code"></block><block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block> , , ,<block ref="1963d17f24888bdf1f22d7ea7f72f607" prefix=" " category="inline-code"></block><block ref="ee822781a3bd0ae0f8f6331dc4865d9c" prefix=" " category="inline-code"></block> e . Opcionalmente, você pode especificar<block ref="c005e78d4bd808038335c32dd84cf7da" prefix=" " category="inline-code"></block> em sua definição de PVC.</block>
  <block id="7f745c89a2e8fd59353bab523e12eb77" category="paragraph">O seguinte é um exemplo de uma especificação mínima:</block>
  <block id="a9e31569460a0b133fdd97c5f482c04e" category="admonition">Não inclua parâmetros adicionais, como nome PV ou tamanho do volume. Isso pode fazer com que o comando de importação falhe.</block>
  <block id="62baed444b3b0cdadb9d1c1ed6d56876" category="list-text">Use o<block ref="a768f5449e3a83ac56f2fb8ab4562339" prefix=" " category="inline-code"></block> comando para especificar o nome do back-end do Astra Trident que contém o volume e o nome que identifica exclusivamente o volume no storage (por exemplo: ONTAP FlexVol, Element volume, caminho Cloud Volumes Service). O<block ref="5338b151154663bac9980b0f044518f2" prefix=" " category="inline-code"></block> argumento é necessário para especificar o caminho para o arquivo PVC.</block>
  <block id="37c0e0081d2fa3ebdf688df7e37ecd7a" category="paragraph">Reveja os exemplos de importação de volume a seguir para drivers suportados.</block>
  <block id="b8cd11aae04b2508e6cf401f43cdb4f9" category="section-title">ONTAP nas e ONTAP nas FlexGroup</block>
  <block id="7a4c35874a7b87427d89cd3aecdcb443" category="paragraph">O Astra Trident é compatível com a importação de volume usando<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> os drivers e.<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block></block>
  <block id="6551d29114ca8e4ced094b1f68242124" category="list-text">O<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block> driver não pode importar e gerenciar qtrees.</block>
  <block id="15f21f5d1f84f4b986a4db037c57333d" category="list-text">Os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers e<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> não permitem nomes de volume duplicados.</block>
  <block id="1b539ba5a07e124e582b2e4bfc489200" category="paragraph">Cada volume criado com o<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> driver é um FlexVol no cluster do ONTAP. A importação do FlexVols com o<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> driver funciona da mesma forma. Um FlexVol que já existe em um cluster ONTAP pode ser importado como<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> PVC. Da mesma forma, os vols FlexGroup podem ser importados como<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> PVCs.</block>
  <block id="3fa3bc64b029b88f42b842bb7dc4e52d" category="paragraph-title">Exemplos de ONTAP nas</block>
  <block id="77fe25c67ee05760d58e91a98e3ff055" category="paragraph">A seguir mostra um exemplo de um volume gerenciado e uma importação de volume não gerenciado.</block>
  <block id="865c1a701e3847de9fbff4a375ac7177" category="open-title">Volume gerenciado</block>
  <block id="9baac1fff2f93c6aa6f2205921fe6b32" category="paragraph">O exemplo a seguir importa um volume nomeado<block ref="b61fdc0d7fc5d08e674f3891a91d3116" prefix=" " category="inline-code"></block> em um backend chamado<block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block>:</block>
  <block id="ed12f17a6dc2e65dfdf289eb64d258ae" category="open-title">Volume não gerenciado</block>
  <block id="412d430c2de2722ad4f878fba9145e3f" category="paragraph">Ao usar o<block ref="e2b9359adf7cdd62fc784b5090c3c452" prefix=" " category="inline-code"></block> argumento, o Astra Trident não renomeará o volume.</block>
  <block id="30690ec57cb4844d007f7d2e2c9393a2" category="paragraph">O exemplo a seguir é importado<block ref="60d9e6d88af815fe67aed90572f53184" prefix=" " category="inline-code"></block><block ref="b0253ee501e433d48faea12f8e40ef28" prefix=" " category="inline-code"></block> no backend:</block>
  <block id="548fedaf4074fe2826e3c53dfd92a19e" category="section-title">San ONTAP</block>
  <block id="d18d16cddcd0f06bf7df2391e6b26e69" category="paragraph">O Astra Trident é compatível com a importação de volume usando<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> o driver.</block>
  <block id="30bb262b9fe2f6c714c560a0608899dc" category="paragraph">O Astra Trident pode importar ONTAP SAN FlexVols que contenham um único LUN. Isso é consistente com o<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block> driver, que cria um FlexVol para cada PVC e um LUN dentro do FlexVol. O Astra Trident importa o FlexVol e associa-o à definição de PVC.</block>
  <block id="854d516b7e1eddbead5cbea0b17dac88" category="paragraph-title">Exemplos de SAN ONTAP</block>
  <block id="eb87428bc7ec6d211f503b31240aec94" category="paragraph">Para volumes gerenciados, o Astra Trident renomeia o FlexVol para<block ref="b1a57c8f543d163276a264ab84f98485" prefix=" " category="inline-code"></block> o formato e o LUN no FlexVol para<block ref="1793051c27c3288cfb3a1c86e4e41b41" prefix=" " category="inline-code"></block>.</block>
  <block id="c59e9e1ae2ff6860f6aa6f2d3dc9f872" category="paragraph">O exemplo a seguir importa<block ref="9c263b72b293041bdc16e8711bb55a99" prefix=" " category="inline-code"></block> o FlexVol que está presente no<block ref="5461c7e570fd7b4318a37f0dceb291c1" prefix=" " category="inline-code"></block> back-end:</block>
  <block id="d172829ee06c1c52828b60f0544b2f06" category="paragraph">O exemplo a seguir é importado<block ref="a5c0fa75ec8cf92d22eadab558660dda" prefix=" " category="inline-code"></block><block ref="2dec4fe0d108047546d031f48f4073f7" prefix=" " category="inline-code"></block> no backend:</block>
  <block id="58f7692a8b6ce5b3fa31b6daec3259fe" category="paragraph">Se você tiver LUNS mapeados para grupos que compartilham uma IQN com um nó Kubernetes IQN, como mostrado no exemplo a seguir, você receberá o erro:<block ref="4524d417d10c9cf90c4a674da76c4964" prefix=" " category="inline-code"></block>. Você precisará remover o iniciador ou desmapear o LUN para importar o volume.</block>
  <block id="5ccef908ed30c9dac1afd0a7f3dc5e7f" category="inline-image-macro">Imagem de LUNS mapeados para iqn e cluster iqn.</block>
  <block id="81238a539b4fc11fb20c6d27db1e5d33" category="paragraph"><block ref="81238a539b4fc11fb20c6d27db1e5d33" category="inline-image-macro-rx" type="image"></block></block>
  <block id="67cb0d15ee759f80dd6bde1ab60c32e1" category="paragraph">O Astra Trident é compatível com o software NetApp Element e a importação de volume NetApp HCI usando<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> o driver.</block>
  <block id="00b0b4c3f91cc8ead8c7a1fac316cd43" category="admonition">O driver Element suporta nomes de volume duplicados. No entanto, o Astra Trident retorna um erro se houver nomes de volume duplicados. Como solução alternativa, clone o volume, forneça um nome de volume exclusivo e importe o volume clonado.</block>
  <block id="d12ef9e4a047861afd11513bde147f35" category="paragraph-title">Exemplo de elemento</block>
  <block id="e91134286ebcca5f894ca859ce6e6527" category="paragraph">O exemplo a seguir importa um<block ref="ce9d6be888db333d9f15ad3ca22aab5c" prefix=" " category="inline-code"></block> volume no backend .<block ref="54034d50b7e92e0dd9d45b9be754d7bd" prefix=" " category="inline-code"></block></block>
  <block id="5c9ef0d871938dccceb29ee63fad8ddb" category="section-title">Google Cloud Platform</block>
  <block id="cf31c490360937ec8a3ce1c25928d464" category="paragraph">O Astra Trident é compatível com a importação de volume usando<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> o driver.</block>
  <block id="b83141d187ef372685e66e6dfe4cabd9" category="admonition">Para importar um volume com o suporte do NetApp Cloud Volumes Service no Google Cloud Platform, identifique o volume pelo caminho de volume. O caminho do volume é a parte do caminho de exportação do volume após o<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block>. Por exemplo, se o caminho de exportação for<block ref="3bbe8dafc880d124219c1e4f73d41cf9" prefix=" " category="inline-code"></block>, o caminho do volume será<block ref="8886a1ac9f5b94f2fb54d752c304777f" prefix=" " category="inline-code"></block>.</block>
  <block id="9dfa04a9ad04eba811811f2fbd0f5f0e" category="paragraph-title">Exemplo do Google Cloud Platform</block>
  <block id="dd8d0b5581c0eb32a23d802032124024" category="paragraph">O exemplo a seguir importa um<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block> volume no back-end<block ref="b242744397b7d8bc9391b3e836628c5e" prefix=" " category="inline-code"></block> com o caminho de volume<block ref="8886a1ac9f5b94f2fb54d752c304777f" prefix=" " category="inline-code"></block> do .</block>
  <block id="831e4b284f7105b1bbd4f891a4e7144a" category="paragraph">O Astra Trident é compatível com a importação de volume usando<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> os drivers e.<block ref="43f09bc16eaf24131ea82903259878ac" prefix=" " category="inline-code"></block></block>
  <block id="7501988e9549daa8c2fcd13e55b9fc78" category="admonition">Para importar um volume Azure NetApp Files, identifique o volume pelo seu caminho de volume. O caminho do volume é a parte do caminho de exportação do volume após o<block ref="fb256b96ee496724e4579987e5a6e4da" prefix=" " category="inline-code"></block>. Por exemplo, se o caminho de montagem for<block ref="a88065dde27cea3a008a18172c5a9c9e" prefix=" " category="inline-code"></block>, o caminho do volume será<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block>.</block>
  <block id="1cfd9b4e20d41cdca62f758d3b0cb58b" category="paragraph-title">Exemplo de Azure NetApp Files</block>
  <block id="bd46b0a8c2c4c89a60ee85052ad2dd0e" category="paragraph">O exemplo a seguir importa um<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> volume no back-end<block ref="d8dd89ab9d39f5487714722f9becb468" prefix=" " category="inline-code"></block> com o caminho do volume<block ref="062b749476713f7b5bbc675159e90bad" prefix=" " category="inline-code"></block> .</block>
  <block id="8682abd0ce083533bad141869c96ab2a" category="summary">O Astra Trident fornece vários recursos para gerenciar seus volumes. Saiba mais sobre as funcionalidades que o Astra Trident tem a oferecer para volumes.</block>
  <block id="b42cbc6e68075c106b9faa27e4931091" category="doc">Executar operações de volume</block>
  <block id="eb487790322c4b8e9b4953d60be1acee" category="paragraph">Saiba mais sobre os recursos fornecidos pelo Astra Trident para gerenciar seus volumes.</block>
  <block id="690b3c7311638da5eef87f5e07aa1258" category="section-title">Gerenciamento de volumes</block>
  <block id="24da0fbaaa9930515c555e7019db09d2" category="paragraph">Consulte a seguir para saber como gerenciar seus volumes com o Astra Trident.</block>
  <block id="9e325272e7aed7c7bd6c28ff6fa4a90f" category="list-text"><block ref="9e325272e7aed7c7bd6c28ff6fa4a90f" category="inline-link-macro-rx"></block></block>
  <block id="e5879288a130fbd8d0b8682cfc375c4f" category="inline-link-macro">Trabalhar com instantâneos</block>
  <block id="c499fa59a1c9a0f6da195782a581f2e3" category="list-text"><block ref="c499fa59a1c9a0f6da195782a581f2e3" category="inline-link-macro-rx"></block></block>
  <block id="56661e701892ff873e44b62ffeec85e5" category="list-text"><block ref="56661e701892ff873e44b62ffeec85e5" category="inline-link-macro-rx"></block></block>
  <block id="c0417f5bbd54c5dc1c3704d6b566fcf3" category="list-text"><block ref="c0417f5bbd54c5dc1c3704d6b566fcf3" category="inline-link-macro-rx"></block></block>
  <block id="4498f168dfd139c5a90c6acd3ab09109" category="summary">Você pode criar snapshots de volume do Kubernetes (snapshot de volume) de volumes persistentes (PVS) para manter cópias pontuais de volumes Astra Trident. Além disso, você pode criar um novo volume, também conhecido como _clone_, a partir de um instantâneo de volume existente. O instantâneo de volume é suportado por<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block><block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block> , ,<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block>,<block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block>, , , ,<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block><block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block>, e<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block> drivers.</block>
  <block id="1ee74a3407fb0558688a68f8a4011d8b" category="paragraph">Você deve ter um controlador de snapshot externo e definições personalizadas de recursos (CRDs). Essa é a responsabilidade do orquestrador do Kubernetes (por exemplo: Kubeadm, GKE, OpenShift).</block>
  <block id="4e9d71562a7ee4d135b94aa7e33203d4" category="paragraph">Se a distribuição do Kubernetes não incluir a controladora de snapshot e CRDs, <block ref="66b3d1bc7c4350b2c78856aa6724afe9" category="inline-xref-macro-rx"></block>consulte .</block>
  <block id="0b8ca2be5f4fe564fb8e843cbc53703d" category="admonition">Não crie um controlador de snapshot se estiver criando instantâneos de volume sob demanda em um ambiente GKE. O GKE usa um controlador instantâneo oculto integrado.</block>
  <block id="a19c6b176bcf5d5df56d61bfda053c09" category="section-title">Passo 1: Crie a.<block ref="19476662cd814e0aa085eca121de89b8" prefix=" " category="inline-code"></block></block>
  <block id="5113d8074a0a5072af49f1e1fa6901bd" category="paragraph">Este exemplo cria uma classe de instantâneo de volume.</block>
  <block id="dfbfe722a0ce7e388b78027f9cfed8dd" category="paragraph">O<block ref="e2d45d57c7e2941b65c6ccd64af4223e" prefix=" " category="inline-code"></block> aponta para o condutor Astra Trident CSI.<block ref="98e7d6463271d7848db255ae6467817a" prefix=" " category="inline-code"></block> pode ser<block ref="f2a6c498fb90ee345d997f888fce3b18" prefix=" " category="inline-code"></block> ou<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>. Quando definido como<block ref="afece4245269582cb2f1009d4fb52047" prefix=" " category="inline-code"></block>, o instantâneo físico subjacente no cluster de armazenamento é retido mesmo quando o<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> objeto é excluído.</block>
  <block id="ce43eda1a51d5de70f422e14ca195db3" category="paragraph">Para obter mais informações, consulte link:../Trident-reference/objects.html<block ref="19476662cd814e0aa085eca121de89b8" prefix="[" category="inline-code"></block>.</block>
  <block id="0ab6380edce0d0e7b8538ebf3215ebbd" category="section-title">Passo 2: Crie um instantâneo de um PVC existente</block>
  <block id="a599393b295f7ad56a8c7f1d327290de" category="paragraph">Este exemplo cria um instantâneo de um PVC existente.</block>
  <block id="4191daf22334ac03a54cdf8adbfd6dfe" category="paragraph">Neste exemplo, o instantâneo é criado para um PVC chamado<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block> e o nome do instantâneo é definido como<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block>.</block>
  <block id="501470eb266ff6637de993e3f193ba40" category="paragraph">Isso criou um<block ref="310a3378435f31620fbc3e7831ac7286" prefix=" " category="inline-code"></block> objeto. Um VolumeSnapshot é análogo a um PVC e está associado a um<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto que representa o snapshot real.</block>
  <block id="320e7c242b569ab5bbdaa490b3df817e" category="paragraph">É possível identificar o<block ref="d6a1ae997b76c43d7aaf3b22e620401e" prefix=" " category="inline-code"></block> objeto para o<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block> VolumeSnapshot descrevendo-o.</block>
  <block id="b3841b02d7da01fde480332e3295a08e" category="paragraph">O<block ref="25fb031d6a134e0fb5a240d6d4c12b01" prefix=" " category="inline-code"></block> identifica o objeto VolumeSnapshotContent que serve este instantâneo. O<block ref="a701d928aada0f89c8ad0abc16ccdfcc" prefix=" " category="inline-code"></block> parâmetro indica que o instantâneo pode ser usado para criar um novo PVC.</block>
  <block id="7957320b126678e9b713ef146b3ac009" category="section-title">Etapa 3: Criar PVCs a partir do VolumeSnapshots</block>
  <block id="ec777b0a7c2a3d6602a440dae083b7c3" category="paragraph">Este exemplo cria um PVC usando um instantâneo.</block>
  <block id="2592284f87bba60e4c05337a134ef047" category="paragraph"><block ref="d9d448f70687a1aa1f12b2f5ddaa4977" prefix="" category="inline-code"></block> Mostra que o PVC deve ser criado usando um VolumeSnapshot nomeado<block ref="2599ab7993e15386327b6345bc1cc4e1" prefix=" " category="inline-code"></block> como a fonte dos dados. Isso instrui o Astra Trident a criar um PVC a partir do snapshot. Depois que o PVC é criado, ele pode ser anexado a um pod e usado como qualquer outro PVC.</block>
  <block id="5e4708ea6e1c08a91834bc9405f43f5d" category="admonition">O PVC deve ser criado no mesmo namespace que seu<block ref="d9d448f70687a1aa1f12b2f5ddaa4977" prefix=" " category="inline-code"></block>.</block>
  <block id="32945bec28dab31706e6de80b1c28cc4" category="section-title">Eliminar um PV com instantâneos</block>
  <block id="f28228f84cb57be6c4037bf94a6afbd2" category="paragraph">Ao excluir um volume persistente com snapshots associados, o volume Trident correspondente é atualizado para um "estado de exclusão". Remova os snapshots de volume para excluir o volume Astra Trident.</block>
  <block id="387492c079b6cb13a8ba91c4a60f67b7" category="section-title">Implantando um controlador de snapshot de volume</block>
  <block id="9c87569b835a8f66b7490390d350d9a4" category="paragraph">Se a sua distribuição do Kubernetes não incluir a controladora de snapshot e CRDs, você poderá implantá-los da seguinte forma.</block>
  <block id="469f7ca16938508b5dcb777767828b70" category="list-text">Criar CRDs de instantâneos de volume.</block>
  <block id="a571dbb3887a364b4b4dcb82a5fa6ec9" category="list-text">Crie o controlador instantâneo.</block>
  <block id="ae3ba2e438847d5fb2abc16b3c73ccab" category="admonition">Se necessário, abra<block ref="31a2c725707ce238c3eb4dd82c7e3af9" prefix=" " category="inline-code"></block> e atualize<block ref="89801e9e98979062e84647433a8ed3e9" prefix=" " category="inline-code"></block> para o seu namespace.</block>
  <block id="c48edc45b9266a1f0d1869ac35615605" category="section-title">Recuperar dados de volume usando snapshots</block>
  <block id="4714f3cf4c41291cc2dae88a7150cbe5" category="paragraph">O diretório instantâneo é oculto por padrão para facilitar a compatibilidade máxima dos volumes provisionados usando os<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block> drivers e<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>. Ative o<block ref="a15da8cecb1f1192c4d913b8ba676121" prefix=" " category="inline-code"></block> diretório para recuperar dados de instantâneos diretamente.</block>
  <block id="8f580d002ee0bbc67930846839d50dbe" category="paragraph">Use a CLI do ONTAP de restauração de snapshot de volume para restaurar um volume para um estado gravado em um snapshot anterior.</block>
  <block id="f84dc17e0595ca9097097e70b9b927e1" category="admonition">Quando você restaura uma cópia snapshot, a configuração de volume existente é sobrescrita. As alterações feitas aos dados de volume após a criação da cópia instantânea são perdidas.</block>
  <block id="f6bd0d7447ff66cc6b859603a88fbde9" category="section-title">Links relacionados</block>
  <block id="35aa4a2a819e526c2e930e487df8d423" category="list-text"><block ref="35aa4a2a819e526c2e930e487df8d423" category="inline-link-macro-rx"></block></block>
  <block id="19476662cd814e0aa085eca121de89b8" category="inline-link-macro">VolumeSnapshotClass</block>
  <block id="d63cadc96caf4b05f8fa532b08e889da" category="list-text"><block ref="d63cadc96caf4b05f8fa532b08e889da" category="inline-link-macro-rx"></block></block>
  <block id="964ea71824e902693c3ef56b57cf78be" category="summary">Com o Astra Trident, você pode criar um volume em um namespace principal e compartilhá-lo em um ou mais namespaces secundários.</block>
  <block id="19eb1a22d8687def5fb4904d3402728a" category="doc">Compartilhar um volume NFS entre namespaces</block>
  <block id="98f770b0af18ca763421bac22b4b6805" category="section-title">Caraterísticas</block>
  <block id="9553e9f0cb878601784cbe35c7767060" category="paragraph">O Astra TrigentVolumeReference CR permite que você compartilhe com segurança volumes NFS ReadWriteMany (RWX) em um ou mais namespaces do Kubernetes. Essa solução nativa do Kubernetes tem os seguintes benefícios:</block>
  <block id="6b456f0abe4c4d2f0beb62e5985136cf" category="list-text">Vários níveis de controle de acesso para garantir a segurança</block>
  <block id="6e5d93bf8e8aaaa4795a50f012bc8fea" category="list-text">Funciona com todos os drivers de volume Trident NFS</block>
  <block id="0ece56dd58b5aabac15e0d0a30553bc0" category="list-text">Não há dependência do tridentctl ou de qualquer outro recurso do Kubernetes não nativo</block>
  <block id="b6fcfcfd30bda2a77ebc74f23270f581" category="paragraph">Este diagrama ilustra o compartilhamento de volumes NFS em dois namespaces do Kubernetes.</block>
  <block id="45208a2cac11f33c3e6af84d444ac7c5" category="image-alt">Um diagrama conceitual de compartilhamento entre namespace.</block>
  <block id="06ad314b340900d226b1196e1fe289e9" category="section-title">Início rápido</block>
  <block id="f5b36cc36c8381e7577788dd4db2019d" category="paragraph">Você pode configurar o compartilhamento de volume NFS em apenas algumas etapas.</block>
  <block id="06c2cea18679d64399783748fa367bdd" category="inline-image-macro">Um</block>
  <block id="32ec9b4824220f8ae03a723da009cd54" category="paragraph-title"><block ref="58f667aaf05f87159670e12bd9bc076b" category="inline-image-macro-rx" type="image"></block> Configure o PVC de origem para compartilhar o volume</block>
  <block id="88b05b42d60719619c24f6101bcd381a" category="paragraph">O proprietário do namespace de origem concede permissão para acessar os dados no PVC de origem.</block>
  <block id="aada29daee1d64ed0fe907043855cb7e" category="inline-image-macro">Dois</block>
  <block id="82a9b6c32a91a1f4a714d648f5d3260f" category="paragraph-title"><block ref="54f425ce8d89f4ed6b8a546561af5d60" category="inline-image-macro-rx" type="image"></block> Conceda permissão para criar um CR no namespace de destino</block>
  <block id="7037976663710169f00563675ffd3f91" category="paragraph">O administrador do cluster concede permissão ao proprietário do namespace de destino para criar o CredentVolumeReference CR.</block>
  <block id="ca8a2087e5557e317599344687a57391" category="inline-image-macro">Três</block>
  <block id="311a877e773f97b1e237db665a868dd9" category="paragraph-title"><block ref="05b2444faffd66d76e88602ea7dd353f" category="inline-image-macro-rx" type="image"></block> Crie TridentVolumeReference no namespace de destino</block>
  <block id="46374486db0641fa4a3fc8e9c73766ed" category="paragraph">O proprietário do namespace de destino cria o TrigentVolumeReference CR para se referir ao PVC de origem.</block>
  <block id="981b8fcee42e1e726a67a2b9a98ea6e9" category="inline-image-macro">Quatro</block>
  <block id="fb16fc9d34d26a8e74ba1a7180766513" category="paragraph-title"><block ref="beadfa85a2fdca06b91edc1131c603e6" category="inline-image-macro-rx" type="image"></block> Crie o PVC subordinado no namespace de destino</block>
  <block id="33fefc8d535df49d886c4bc78a08e3e5" category="paragraph">O proprietário do namespace de destino cria o PVC subordinado para usar a fonte de dados do PVC de origem.</block>
  <block id="7238deab481379c03df561ea7c9b0e2e" category="section-title">Configure os namespaces de origem e destino</block>
  <block id="b23d212300860aa39d44f8fad02636a1" category="paragraph">Para garantir a segurança, o compartilhamento entre namespace requer colaboração e ação do proprietário do namespace de origem, do administrador do cluster e do proprietário do namespace de destino. A função de usuário é designada em cada etapa.</block>
  <block id="aae019fccb9b3ffee1ee77e9e5f2377a" category="list-text">*Proprietário do namespace de origem:* Crie o PVC <block ref="30520f4f96804df83914260b79f55962" prefix="(" category="inline-code"></block>) no namespace de origem que concede permissão para compartilhar com o namespace de destino <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>) usando a<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> anotação.</block>
  <block id="3c2d838391ba40c10d124535dfb833e2" category="paragraph">O Astra Trident cria o PV e o volume de storage NFS no back-end.</block>
  <block id="365b452a5b5d2d01e1f193fc8bd9bf2c" category="list-text">Você pode compartilhar o PVC para vários namespaces usando uma lista delimitada por vírgulas. Por exemplo,<block ref="6b31015528f67fe4ce10b7c81957f601" prefix=" " category="inline-code"></block>.</block>
  <block id="fefd0d1f7e80bb8a4657265696b66694" category="list-text">Você pode compartilhar com todos os namespaces usando<block ref="3389dae361af79b04c9c8e7057f60cc6" prefix=" " category="inline-code"></block>. Por exemplo,<block ref="e06421e15aa316addc52dd6c697027b7" prefix=" " category="inline-code"></block></block>
  <block id="bac5e1b9773b73b6702dfe25c8a61a05" category="list-text">Você pode atualizar o PVC para incluir a<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> anotação a qualquer momento.</block>
  <block id="512fce88fc641bb15b14b72474159acd" category="list-text">*Cluster admin:* Crie a função personalizada e kubeconfig para conceder permissão ao proprietário do namespace de destino para criar o TridentVolumeReference CR no namespace de destino.</block>
  <block id="5f560764a361bf1159f8a6c8cbd15dad" category="list-text">*Proprietário do namespace de destino:* Crie um CredentVolumeReference CR no namespace de destino que se refere ao namespace de origem<block ref="30520f4f96804df83914260b79f55962" prefix=" " category="inline-code"></block> .</block>
  <block id="d9bb6497cda089fc4a386c685a97cffa" category="list-text">*Proprietário do namespace de destino:* Crie um PVC <block ref="3f6857fc20ae2372499a71869ac3fe7e" prefix="(" category="inline-code"></block>) no namespace de destino <block ref="6fde1ba4470caca933058264dbfdea2e" prefix="(" category="inline-code"></block>) usando a<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block> anotação para designar o PVC de origem.</block>
  <block id="e22f320aefbf1cdb3ccd68c26b050060" category="admonition">O tamanho do PVC de destino deve ser inferior ou igual ao PVC de origem.</block>
  <block id="c6e8d7b047a148bcf2aeae743c286bbb" category="paragraph">O Astra Trident lê a<block ref="57c54cbee1c6ed3d5902aa1d8cd1e55a" prefix=" " category="inline-code"></block> anotação no PVC de destino e cria o PV de destino como um volume subordinado sem recurso de armazenamento próprio que aponta para o PV de origem e compartilha o recurso de armazenamento PV de origem. O PVC e o PV de destino aparecem encadernados normalmente.</block>
  <block id="a5ddf1dcee266e65795efb120a45d2cb" category="section-title">Eliminar um volume partilhado</block>
  <block id="2b71b549a21992aba927484a35ad72f6" category="paragraph">Você pode excluir um volume compartilhado entre vários namespaces. O Astra Trident removerá o acesso ao volume no namespace de origem e manterá acesso para outros namespaces que compartilham o volume. Quando todos os namespaces que fazem referência ao volume são removidos, o Astra Trident exclui o volume.</block>
  <block id="3f8e335666124e3b7f5db07f03fef0b1" category="section-title"><block ref="fed7609223e8cae53e079facb24f3426" prefix=" " category="inline-code"></block>Use para consultar volumes subordinados</block>
  <block id="9f2f83b0c97d84774c1d61107283bb68" category="paragraph">Usando o<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block> utilitário, você pode executar o<block ref="b5eda0a74558a342cf659187f06f746f" prefix=" " category="inline-code"></block> comando para obter volumes subordinados. Para obter mais informações, consulte o link:./Trident-reference/tridentctl.html<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix="[" category="inline-code"></block> comandos e opções].</block>
  <block id="b1cc54ad6906d5f41516543bae01e46f" category="list-text"><block ref="490aa9b616d8535386ddf1c7037f79a0" prefix="" category="inline-code"></block>: Ajuda para volumes.</block>
  <block id="20668f390d13376c8d13ab4b20a53b5d" category="list-text"><block ref="e3bbbed29599d3e6e29ae22829ad7f13" prefix="" category="inline-code"></block>: Limitar consulta ao volume de origem subordinado.</block>
  <block id="92c22bb3853554f94f513a2d2f36e8ef" category="list-text"><block ref="aed2a4a749284f757648f1057abf44cd" prefix="" category="inline-code"></block>: Limitar consulta a subordinados de volume.</block>
  <block id="3ad6cc2d4a6ad6fbd07574653275a161" category="list-text">O Astra Trident não pode impedir que namespaces de destino gravem no volume compartilhado. Você deve usar o bloqueio de arquivos ou outros processos para evitar a substituição de dados de volume compartilhado.</block>
  <block id="87a522ecb9df14bf978f6f1da8a654a8" category="list-text">Não é possível revogar o acesso ao PVC de origem removendo as<block ref="287f26e3328f9ac0f3f4da2cdaddd3e2" prefix=" " category="inline-code"></block> anotações ou ou<block ref="11650d25d20af47978d85fd6e19c89aa" prefix=" " category="inline-code"></block> excluindo o<block ref="d6995f631b22fb3f8e94aad1b40d1280" prefix=" " category="inline-code"></block> CR. Para revogar o acesso, você deve excluir o PVC subordinado.</block>
  <block id="3908892c437778f8b161a2ca006782cd" category="list-text">Snapshots, clones e espelhamento não são possíveis em volumes subordinados.</block>
  <block id="8ff961668c6784e84b25c265cbb629d7" category="paragraph">Para saber mais sobre o acesso ao volume entre namespace:</block>
  <block id="f1cfea5f1444de607dfa549b3aa57010" category="inline-link-macro">Compartilhamento de volumes entre namespaces: Diga olá ao acesso ao volume entre namespace</block>
  <block id="2780f690b7670efc296ac19ef3029d0c" category="list-text"><block ref="b0d29f1b2abb2cc552e4cc47177582ef" category="inline-link-macro-rx"></block>Visite .</block>
  <block id="96e1384807331548bf745acde0fe1b73" category="inline-link-macro">NetAppTV</block>
  <block id="5ff83dbc70e496ea22b38ea61bb69f05" category="list-text">Assista à demonstração no <block ref="c27441bbbe62adf51ae6ecec41fde8bd" category="inline-link-macro-rx"></block>.</block>
  <block id="821b0ad941ad2559ef18eb8de56a470e" category="summary">Todos os nós de trabalho no cluster do Kubernetes precisam ser capazes de montar os volumes provisionados para os pods. Se você estiver usando o driver ONTAP-nas, ONTAP-nas-Economy, ONTAP-nas-FlexGroup para um de seus back-ends, seus nós de trabalho precisarão das ferramentas NFS. Caso contrário, eles exigem as ferramentas iSCSI.</block>
  <block id="262309361fe5b6dcda3a2eae08a48c2d" category="section-title">Selecionar as ferramentas certas</block>
  <block id="82ee439808998e63e6868ec2c2945ec9" category="paragraph">Se você estiver usando uma combinação de drivers, instale as ferramentas NFS e iSCSI.</block>
  <block id="2cb4ed05fbad97efb755e294c572862d" category="paragraph-title">Ferramentas NFS</block>
  <block id="a9e67ed867ad461570158dca74719f75" category="paragraph">Instale as ferramentas NFS se estiver usando:<block ref="8321592ce24c8a122ecf26a63cfca407" prefix=" " category="inline-code"></block>,<block ref="caafdf62a2c609bfa5316118231a1007" prefix=" " category="inline-code"></block>,<block ref="844e84da8e822b4a33c4d8188da97937" prefix=" " category="inline-code"></block>,<block ref="bc5779a2d33eeb1304bae57f15920cfc" prefix=" " category="inline-code"></block>, , ,<block ref="5935ea92cdd7d975b4e764b429f21c01" prefix=" " category="inline-code"></block></block>
  <block id="0172151d0fbf6ae973feaaaf8a2c1b3a" category="paragraph-title">Ferramentas iSCSI</block>
  <block id="b7ebd185ede5c83487cb4ac908bab891" category="paragraph">Instale as ferramentas iSCSI se estiver a utilizar:<block ref="73a3350a1b91aeb6e2836fdf5975672c" prefix=" " category="inline-code"></block><block ref="3016c12c1db45f14c80c9c1731b9c26a" prefix=" " category="inline-code"></block> , , ,<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block></block>
  <block id="d3d338d650fae8dd20bbce45831b41a9" category="admonition">Versões recentes do RedHat CoreOS têm NFS e iSCSI instalados por padrão.</block>
  <block id="d1914bc190cdc3bc9eee6db0c81021bc" category="section-title">Detecção de serviço de nós</block>
  <block id="b5a99bc586551f60f1fa102fcf3a90de" category="paragraph">O Astra Trident tenta detetar automaticamente se o nó pode executar serviços iSCSI ou NFS.</block>
  <block id="2b6ab5193160f5eaca51526b15f27e3a" category="admonition">A descoberta de serviço de nó identifica os serviços descobertos, mas não garante que os serviços estejam configurados corretamente. Por outro lado, a ausência de um serviço descoberto não garante que a montagem de volume falhe.</block>
  <block id="6a9c3f120f628091afbdc5343cbbe0e1" category="paragraph-title">Rever eventos</block>
  <block id="331ef15228e3a5548d228c3aea284e38" category="paragraph">O Astra Trident cria eventos para o nó a fim de identificar os serviços descobertos. Para rever estes eventos, execute:</block>
  <block id="70db3e5b82bc8c7ce4389fe8a025df28" category="paragraph-title">Reveja os serviços descobertos</block>
  <block id="ce31bc8e7fc118dd3b337bcf4c41e399" category="paragraph">O Astra Trident identifica serviços habilitados para cada nó no nó CR da Trident. Para visualizar os serviços descobertos, execute:</block>
  <block id="b7a66d04a41292979004906785008ca9" category="section-title">Volumes NFS</block>
  <block id="eeacf148d8ecc80cfae337218dd81f43" category="paragraph">Instale as ferramentas NFS usando os comandos do seu sistema operacional. Certifique-se de que o serviço NFS seja iniciado durante o tempo de inicialização.</block>
  <block id="7b05c6f5db7b1690970d79c209e667fc" category="admonition">Reinicie seus nós de trabalho após instalar as ferramentas NFS para evitar falhas ao anexar volumes a contêineres.</block>
  <block id="29ba980a9e9adedc9414ea868c74ebd5" category="section-title">Volumes iSCSI</block>
  <block id="66ccc45f9958fe5f1a0ef0427d36d4c3" category="paragraph">O Astra Trident pode estabelecer automaticamente uma sessão iSCSI, digitalizar LUNs e descobrir dispositivos multipath, formatá-los e montá-los em um pod.</block>
  <block id="e81b5ef34c686914f0cc58204241cace" category="section-title">Recursos de autorrecuperação iSCSI</block>
  <block id="f0621bdb4caa030dcd0bb9924891842e" category="paragraph">Para sistemas ONTAP, o Astra Trident executa autorrecuperação iSCSI a cada cinco minutos para:</block>
  <block id="432fa9215202553559f7b2d4d10ef5ee" category="list-text">*Identifique* o estado de sessão iSCSI desejado e o estado atual da sessão iSCSI.</block>
  <block id="fdb53d548f3fa1b93129b49ad4bc7990" category="list-text">*Compare* o estado desejado com o estado atual para identificar as reparações necessárias. O Astra Trident determina as prioridades de reparação e quando efetuar as reparações.</block>
  <block id="587fcf25ecbc5ff7cf19f7b1a159b5e9" category="list-text">*Efetuar reparações* necessárias para repor o estado atual da sessão iSCSI para o estado de sessão iSCSI pretendido.</block>
  <block id="aa66c6c24f8a8540d1582c79e4534c94" category="admonition">Logs de atividade de auto-cura estão localizados no<block ref="7883e3d8f80ff24d70c49bd975fb3f75" prefix=" " category="inline-code"></block> recipiente no respetivo pod Daemonset. Para visualizar logs, você deve ter definido<block ref="ad42f6697b035b7580e4fef93be20b4d" prefix=" " category="inline-code"></block> como "true" durante a instalação do Astra Trident.</block>
  <block id="0be81019f18cde342a2e6728cbcb66cc" category="paragraph">As funcionalidades de autorrecuperação iSCSI do Astra Trident ajudam a impedir:</block>
  <block id="4b42deda281d95aafb0896a44484007a" category="list-text">Sessões iSCSI obsoletas ou não saudáveis que podem ocorrer após um problema de conetividade de rede. No caso de uma sessão obsoleta, o Astra Trident aguarda sete minutos antes de sair para restabelecer a conexão com um portal.</block>
  <block id="39460cb84da78b4a87c2014972b2f901" category="admonition">Por exemplo, se os segredos CHAP foram girados no controlador de armazenamento e a rede perder a conetividade, os segredos CHAP antigos (_stale_) podem persistir. A auto-cura pode reconhecer isso e restabelecer automaticamente a sessão para aplicar os segredos CHAP atualizados.</block>
  <block id="9e9d382760025434fdf113f91e894cf4" category="list-text">Sessões iSCSI em falta</block>
  <block id="3f7bf0ef305a15c68efdc95a50750bd0" category="list-text">LUNs em falta</block>
  <block id="15ffa30c3d1ab6322e5ff52935a86a50" category="section-title">Instale as ferramentas iSCSI</block>
  <block id="10ff9e1b33974d06317ff739498154ce" category="paragraph">Instale as ferramentas iSCSI utilizando os comandos do seu sistema operativo.</block>
  <block id="12fe03bf2457cc4e4e90af10a2f7092f" category="list-text">Cada nó no cluster do Kubernetes precisa ter uma IQN exclusiva. *Este é um pré-requisito necessário*.</block>
  <block id="5eb07a7cb7d445ef6bbb17270c65cf52" category="list-text">Se estiver usando RHCOS versão 4,5 ou posterior, ou outra distribuição Linux compatível com RHEL, com o<block ref="c0d2a793e71b152662b3e8cd2da00620" prefix=" " category="inline-code"></block> driver e o Element OS 12,5 ou anterior, verifique se o algoritmo de autenticação CHAP está definido como MD5 em<block ref="104f48adc29dc1e1d7c9bbe7b5dd3f8d" prefix=" " category="inline-code"></block>. algoritmos CHAP compatíveis com FIPS seguros SHA1, SHA-256 e SHA3-256 estão disponíveis com o elemento 12,7.</block>
  <block id="0bad70dcf33f40dcc0d528d58b9eac76" category="inline-link">Documentação da RedHat</block>
  <block id="10cb395bb5e153418168602ad95831fb" category="list-text">Ao usar nós de trabalho que executam RHEL/RedHat CoreOS com iSCSI PVs, especifique a<block ref="70f68bb2f748b85de6526bfe236ea1e9" prefix=" " category="inline-code"></block> mountOption no StorageClass para executar a recuperação de espaço em linha. <block ref="166e862efdc516354d90f75a38532ddd" category="inline-link-rx"></block>Consulte .</block>
  <block id="1b757fe9c8a149de349a32b8d21feb54" category="admonition">Para o Ubuntu 18,04, você deve descobrir portas de destino com<block ref="f88921f58beaaae5bcb9dffac54bf5ad" prefix=" " category="inline-code"></block> antes de iniciar<block ref="356cb36dc1c54ae3f8a7c332c76d7edd" prefix=" " category="inline-code"></block> o daemon iSCSI para iniciar. Em alternativa, pode modificar o<block ref="39eea648dab96b0ee6022dabb38bc420" prefix=" " category="inline-code"></block> serviço para iniciar<block ref="3fe4dc8de876aca2c78fa0cd9c6d0b65" prefix=" " category="inline-code"></block> automaticamente.</block>
  <block id="0dfbc86ddb50cb439c7039bbf012a2b6" category="admonition">Reinicie seus nós de trabalho após instalar as ferramentas iSCSI para evitar falhas ao anexar volumes a contentores.</block>
  <block id="b928e0aee19c1e2cc91c85e8a0856936" category="summary">Use os ponteiros fornecidos aqui para solucionar problemas que você pode encontrar ao instalar e usar o Astra Trident.</block>
  <block id="231cf4c70d866b616c21baddaeed0696" category="doc">Solução de problemas</block>
  <block id="8ef0ab9bbedaa7608c9abed7c7213218" category="admonition">Para obter ajuda com o Astra Trident, crie um pacote de suporte usando<block ref="1d41e2024c69110ad6054ffc785ca8e0" prefix=" " category="inline-code"></block> e envie para<block ref="da34ca64df3f236a423516102d4096c2" prefix=" " category="inline-code"></block>o .</block>
  <block id="40e41fb2db11266b8f751c0d5c67cba0" category="inline-link">Base de Conhecimento NetApp (login necessário)</block>
  <block id="01005ecf4349194d1ec13d0ba516c9e5" category="admonition">Para obter uma lista abrangente de artigos de solução de problemas, consulte<block ref="57f5c759ada931c6a2051314ca6ee99e" category="inline-link-rx"></block> . Você também encontrará informações sobre a solução de problemas relacionados ao Astra<block ref="695f48b1d8b7348c0e2828947d24161e" category="inline-link-rx"></block>.</block>
  <block id="163fb9eb00818e2c7109900db1a3cc82" category="section-title">Resolução de problemas gerais</block>
  <block id="f504c27d1ad305a988958b64f34468cb" category="list-text">Se o pod Trident não aparecer corretamente (por exemplo, quando o pod Trident está preso<block ref="8627ca3ad23f4fb9adc6ba05047004c6" prefix=" " category="inline-code"></block> na fase com menos de dois contêineres prontos), em execução<block ref="d8ff0b6a743c3e367651a5670557e628" prefix=" " category="inline-code"></block> e<block ref="a4b328a3b4da8017033a2fedd18d09fa" prefix=" " category="inline-code"></block> pode fornecer informações adicionais. A obtenção de logs do kubelet (por exemplo, via<block ref="15860ae6633dd5eb60d2266c2a6fc03f" prefix=" " category="inline-code"></block>) também pode ser útil.</block>
  <block id="05d68d1b7214c73141ed12aaed0c2ab5" category="list-text">Se não houver informações suficientes nos logs do Trident, você pode tentar ativar o modo de depuração para o Trident passando o<block ref="9b017020b9d48d433ec90c548e6b5c70" prefix=" " category="inline-code"></block> sinalizador para o parâmetro de instalação com base na opção de instalação.</block>
  <block id="bc6de9cad530a57dba08ff711f4a6b5f" category="paragraph">Em seguida, confirme se a depuração é definida usando<block ref="84c78f6343bea2c18a8ded36d1ac1572" prefix=" " category="inline-code"></block> e pesquisando<block ref="53df56868ef061c403e1b925399eeac6" prefix=" " category="inline-code"></block> no log.</block>
  <block id="8e95ae46f32b05cf983c93e608530e36" category="list-text">Instalado com Operador</block>
  <block id="94912f7fb206038e8527957b44dfbf25" category="paragraph">Isso reiniciará todos os pods do Trident, o que pode levar vários segundos. Você pode verificar isso observando a coluna 'IDADE' na saída do<block ref="ae7c84a6e027b78ae530cc1b0b98ac3c" prefix=" " category="inline-code"></block>.</block>
  <block id="6a304a6cf7cd8c90bac892ab0fb9c134" category="paragraph">Para Astra Trident 20,07 e 20,10 utilização<block ref="5d50f02b16b5f3c834b39c00b5adcf4f" prefix=" " category="inline-code"></block> em vez de<block ref="b9b2e8f293392f4f25fc8a59b9522d84" prefix=" " category="inline-code"></block> .</block>
  <block id="79b91d0489c081de6794796638793787" category="list-text">Instalado com Helm</block>
  <block id="d356d628089d439d75e3f85564372658" category="list-text">Instalado com tridentctl</block>
  <block id="87248f7afe198418bdbedd919695631e" category="list-text">Você também pode obter logs de depuração para cada back-end, incluindo<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block> na sua definição de back-end. Por exemplo, inclua<block ref="4974488c28ddbbc84e45d213810267be" prefix=" " category="inline-code"></block> para obter chamadas de API e transversais de método nos logs do Trident. Os backends existentes podem ter<block ref="effa2d809c72dcb6cce15a1e0b040e63" prefix=" " category="inline-code"></block> sido configurados com um<block ref="ad782b779edfd8199198bed41b3e3b6b" prefix=" " category="inline-code"></block>.</block>
  <block id="6cc37a0664d7f97f87d34eadef23dbad" category="list-text">Ao usar o RedHat CoreOS, certifique-se de que<block ref="3fe4dc8de876aca2c78fa0cd9c6d0b65" prefix=" " category="inline-code"></block> está habilitado nos nós de trabalho e iniciado por padrão. Isso pode ser feito usando OpenShift MachineConfigs ou modificando os modelos de ignição.</block>
  <block id="419c95e5a9e44d427f99debdcf0550c7" category="list-text">Um problema comum que você pode encontrar ao usar o Trident com<block ref="4568986ef6397d7c901269fc0e190ede" category="inline-link-rx"></block> é quando os segredos do locatário e do cliente vêm de um Registro de aplicativo com permissões insuficientes. Para obter uma lista completa dos requisitos do Trident, consulte <block ref="cd38c25b6345abc8733d2ef72739cd97" category="inline-link-macro-rx"></block> Configuração.</block>
  <block id="7f0ecdfa510b31b01d331c2760643b83" category="list-text">Se houver problemas com a montagem de um PV em um recipiente, certifique-se de que<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block> está instalado e funcionando. Use o gerenciador de pacotes necessário para o sistema operacional do host e verifique se<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block> está em execução. Você pode verificar o status<block ref="7a31649dd02ecf0349542b72f9d5ef54" prefix=" " category="inline-code"></block> do serviço executando um<block ref="461bc51ac38341d1d2fdae2e84bc6e47" prefix=" " category="inline-code"></block> ou seu equivalente.</block>
  <block id="78aeadc89feb4cf244398a7d35a0d656" category="list-text">Se um back-end do Trident relatar que ele está<block ref="26934eb377001f66e37289a5c93fe284" prefix=" " category="inline-code"></block> no estado apesar de ter trabalhado antes, provavelmente será causado pela alteração das credenciais do SVM/administrador associadas ao back-end. Atualizar as informações de back-end usando<block ref="defd1e55f93269ac9278afc086951ba8" prefix=" " category="inline-code"></block> ou saltando o pod Trident corrigirá esse problema.</block>
  <block id="f5d517b06fc0b1af5d599776e2f6f1d6" category="inline-link">este blog</block>
  <block id="dd5955dd3991dcacca2b395215df8ecd" category="list-text">Se você estiver atualizando seu cluster Kubernetes e/ou Trident para usar snapshots de volume beta, certifique-se de que todos os CRS de snapshot alfa existentes sejam completamente removidos. Em seguida, você pode usar o<block ref="2d1fd131799d2b6c6f328b755e849cb8" prefix=" " category="inline-code"></block> comando para excluir CRDs de snapshot alfa. <block ref="f3109660248c628e79ddf256944df58b" category="inline-link-rx"></block>Consulte para compreender as etapas envolvidas na migração de snapshots alfa.</block>
  <block id="b851cfc28cd6e5cb9aaf87bdb59a68aa" category="list-text">Se você encontrar problemas de permissão ao instalar o Trident com Docker como o runtime do contentor, tente a instalação do Trident com o<block ref="acbc9344b624715d4749280f7e4a5b49" prefix=" " category="inline-code"></block> sinalizador. Isso não usará um pod do instalador e evitará problemas de permissão vistos devido ao<block ref="c84ef67352bb6783ff2881f9f2821c2a" prefix=" " category="inline-code"></block> usuário.</block>
  <block id="6f7d49547ff47cfaf1fd93d134b603be" category="list-text">Utilize o<block ref="9a259632da28fe06c1ce5125984d3597" prefix=" " category="inline-code"></block> para limpar após uma falha de funcionamento. Por padrão, o script não remove os CRDs que foram criados pelo Trident, tornando seguro desinstalar e instalar novamente mesmo em uma implantação em execução.</block>
  <block id="f1112223b41fddc71fd6a626582dfb78" category="inline-link">Versão Trident</block>
  <block id="ea7cc85727ac6a0761c52685cce336be" category="list-text">Se você estiver procurando fazer o downgrade para uma versão anterior do Trident, primeiro execute o<block ref="ac8650577d1b744589a6a11b60ac38c7" prefix=" " category="inline-code"></block> comando para remover o Trident. Baixe o desejado<block ref="f3d78353f8dac3e49bbefeb5f6a2383b" category="inline-link-rx"></block> e instale usando o<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block> comando. Considere apenas um downgrade se não houver novos PVS criados e se não houver alterações em PVs/backends/classes de armazenamento já existentes. Como o Trident agora usa CRDs para manter o estado, todas as entidades de armazenamento criadas (backends, classes de armazenamento, PVS e instantâneos de volume) têm<block ref="816158c49c5f4417bf3b0f9c644e722e" prefix=" " category="inline-code"></block> em vez de dados gravados no PV que foram usados pela versão instalada anterior do Trident. *PVS recém-criados não serão utilizáveis ao voltar para uma versão anterior.* *Alterações feitas em objetos, como backends, PVS, classes de armazenamento e snapshots de volume (criados/atualizados/excluídos) não serão visíveis para o Trident quando desclassificados*. O PV que foi usado pela versão anterior do Trident instalado ainda será visível para o Trident. Voltar para uma versão anterior não interromperá o acesso para PVS que já foram criados usando a versão mais antiga, a menos que tenham sido atualizados.</block>
  <block id="7dc9f8824c461c84d9bb1563a0615526" category="list-text">Para remover completamente o Trident, execute o<block ref="5194a71f2fa978e99170097e4268375b" prefix=" " category="inline-code"></block> comando. Isso removerá todos os objetos CRD e desdefinirá as CRDs. O Trident não gerenciará mais nenhum PVS que já tenha provisionado.</block>
  <block id="e7fc3eac0c0cea530e0f52e3ddf37079" category="admonition">Depois disso, o Trident precisará ser reconfigurado do zero.</block>
  <block id="51748ba3d16ecfd8c45c7ebf2043b738" category="list-text">Após uma instalação bem-sucedida, se um PVC estiver preso na<block ref="2d13df6f8b5e4c5af9f87e0dc39df69d" prefix=" " category="inline-code"></block> fase, a execução<block ref="703698f580eb41aee04574750a78238d" prefix=" " category="inline-code"></block> pode fornecer informações adicionais sobre por que a Trident não conseguiu fornecer um PV para este PVC.</block>
  <block id="a900bd1dbd5690f78a30ca74d138d0b7" category="section-title">Solução de problemas de uma implantação de Trident mal sucedida usando o operador</block>
  <block id="0e89989064bf4afdc37fd5a7be4f607d" category="paragraph">Se você estiver implantando o Trident usando o operador, o status das<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> alterações será alterado de<block ref="2763f33c904a183bd0ef06f9c4fb4403" prefix=" " category="inline-code"></block> para<block ref="98dd43dfae05b11befe1f140e0ec787a" prefix=" " category="inline-code"></block>. Se você observar o<block ref="d7c8c85bf79bbe1b7188497c32c3b0ca" prefix=" " category="inline-code"></block> status e o operador não conseguir se recuperar sozinho, você deve verificar os logs do operador executando o seguinte comando:</block>
  <block id="df9771dbb13da45493e576499910c0b4" category="paragraph">Arrastar os logs do contentor do operador Trident pode apontar para onde está o problema. Por exemplo, um desses problemas poderia ser a incapacidade de extrair as imagens de contentor necessárias de Registros upstream em um ambiente com airgapped.</block>
  <block id="0fd4c6187c561958bc76052df7774593" category="paragraph">Para entender por que a instalação do Trident não foi bem-sucedida, você deve dar uma olhada no<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> status.</block>
  <block id="1e054f4c292a5388d6318461fe73d749" category="paragraph">Este erro indica que já existe um<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> que foi usado para instalar o Trident. Como cada cluster do Kubernetes pode ter apenas uma instância do Trident, o operador garante que, a qualquer momento, só exista uma ativa<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> que possa criar.</block>
  <block id="568fcf9beb0dbd37c57dff251a3164ed" category="paragraph">Além disso, observar o status dos pods do Trident geralmente pode indicar se algo não está certo.</block>
  <block id="f89c17ddb9f8bdaf5c95a466d5f6a500" category="paragraph">Você pode ver claramente que os pods não são capazes de inicializar completamente porque uma ou mais imagens de contentor não foram obtidas.</block>
  <block id="d57d1a6de03b2ddf3ee54f680152e2b6" category="paragraph">Para resolver o problema, você deve editar o<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> CR. Alternativamente, você pode excluir<block ref="ae61bf6af1a7406b62c72a4bef1ab62d" prefix=" " category="inline-code"></block> e criar um novo com a definição modificada e precisa.</block>
  <block id="6f8896eb5896943e1606d92193f72fb8" category="section-title">Solução de problemas de uma implantação do Trident mal sucedida usando<block ref="c67fd1b99934afa248dfeb285a9a4191" prefix=" " category="inline-code"></block></block>
  <block id="021e9ae5361eb14975bf9a30f99770f5" category="paragraph">Para ajudar a descobrir o que deu errado, você pode executar o instalador novamente usando o <block ref="9b017020b9d48d433ec90c548e6b5c70" prefix="" category="inline-code"></block> argumento, que irá ativar o modo de depuração e ajudá-lo a entender qual é o problema:</block>
  <block id="01539f4f1fd20792cbbae6bb0506cc20" category="paragraph">Depois de resolver o problema, você pode limpar a instalação da seguinte forma e, em seguida, executar o<block ref="430bf77bee6c59d385d4194f84c21b16" prefix=" " category="inline-code"></block> comando novamente:</block>
  <block id="ea3d51fb2b16acb7cb260f25bc8965b1" category="sidebar">O Astra Trident é um provisionador e orquestrador de storage de código aberto mantido pela NetApp. Com ele, você cria volumes de storage para aplicações em contêiner gerenciadas pelo Docker e Kubernetes.</block>
  <block id="7d0ee6fed10d3d4e5c9ee496729ab519" category="sidebar">Notas de lançamento</block>
  <block id="33871b6190a8d5adbe8b15282054766c" category="sidebar">O que há de novo</block>
  <block id="93168a8084b3e838d2932c4734bd234e" category="sidebar">Versões anteriores</block>
  <block id="1fe917b01f9a3f87fa2d7d3b7643fac1" category="sidebar">FAQ</block>
  <block id="312b0dc38b01ff32c1b2f5f81ee1ab2d" category="sidebar">Implante com o operador Trident</block>
  <block id="e0e3d7f1aacdf4a8196132549709430c" category="sidebar">Implante com o tridentctl</block>
  <block id="6a693eb5cd23e4e5743663c7edc37aed" category="sidebar">Implante o Astra Trident para Docker</block>
  <block id="386307d41b3f4169a1e6e046a727cdd2" category="sidebar">Atualize com o operador Trident</block>
  <block id="eb1f347fa6176ae2c9175df3bc414954" category="sidebar">Use o Astra Trident</block>
  <block id="81a123ccab93cd947289b672b0e50348" category="sidebar">Demos e tutoriais</block>
  <block id="28348a71bed382b86fa6de4d3a307715" category="sidebar">Vídeos do Astra Trident</block>
  <block id="813011e2103649bb71f124adedcc10ea" category="sidebar">Blogs &amp; comunidade</block>
  <block id="6394eceb2639574114b02e6e817eb19a" category="sidebar">Blogs do Astra</block>
  <block id="874d8a5301794a9ca2aba132ac2460f3" category="sidebar">Kubernetes Hub</block>
  <block id="d59c00abbeaf33a9a094b3a69c563405" category="sidebar">NetApp.io</block>
  <block id="8f5cc6430613f1c12f36965050bb7197" category="sidebar">Discórdia</block>
  <block id="d327e8f24b63b83e091dccdc48dd7b1b" category="sidebar">Documentos do Astra Trident</block>
  <block id="483a5da192f46e3cfe8391d3ef234fc4" category="sidebar">FAQs</block>
  <block id="0460583622f03a52d7693094d6fa2452" category="sidebar">Conceitos</block>
  <block id="f14894e4c400a400c02367258a93029a" category="sidebar">Astra Trident para Docker</block>
  <block id="e08bfc79c5202517b3814efd6e82fb2c" category="sidebar">Atualize ou desinstale o Trident</block>
  <block id="f1fe71442cd08e74d342114df7ee1551" category="sidebar">Instale o Astra Trident</block>
  <block id="46921a75e8534ad7d1c379a9e3aec033" category="sidebar">Visão geral da instalação</block>
  <block id="3183dc3907c0b67930b221a316c94cb2" category="sidebar">Instale usando o operador Trident</block>
  <block id="ca19905e19a036badc8a33897130382d" category="sidebar">Implantar manualmente o operador Trident (padrão)</block>
  <block id="ef39c7f15f2671234f3264999cce5679" category="sidebar">Implantar manualmente o operador Trident (Offline)</block>
  <block id="0f441bb0252fa34f85fc82a08f2db0c7" category="sidebar">Usar Gráfico de Helm Trident (padrão)</block>
  <block id="70eb578fbddf25c465d8f4886be750b7" category="sidebar">Usar Gráfico de Helm do Trident (Offline)</block>
  <block id="c949166d6970748c0094c800daa3324a" category="sidebar">Gerenciar o Astra Trident</block>
  <block id="71f5771dab663d80ba4dad1627e3386a" category="sidebar">Visão geral da atualização</block>
  <block id="a20f982d79c3dd66d244ffe0f7d940ee" category="sidebar">Práticas recomendadas e recomendações</block>
  <block id="c91cf7abea9584bc1edbc8ff4948ada0" category="sidebar">Integração com o Astra Trident</block>
  <block id="301ebdf8067a213d5a55c65fbb488290" category="sidebar">Recomendações de segurança</block>
  <block id="63d5049791d9d79d86e9a108b0a999ca" category="sidebar">Referência</block>
  <block id="324fb1352ffffb105d10013810c42896" category="sidebar">Objetos Kubernetes e Astra Trident</block>
  <block id="58834b137fd6fa7a9ca23468a5c91fd6" category="sidebar">Prepare-se para configurar</block>
  <block id="19ce3b2e7823907e5153f00fe04f64f7" category="sidebar">Opções de configuração e exemplos</block>
  <block id="6fc0b7515ecca271c88eae4a685da613" category="sidebar">NetApp HCI ou SolidFire</block>
  <block id="60be48bb4b3314965bf50e88e7ae728c" category="sidebar">Integre o Amazon FSX para ONTAP</block>
  <block id="f18a50f02f48551895d57b81dd288142" category="sidebar">Compartilhar volumes NFS em namespaces</block>
</blocks>